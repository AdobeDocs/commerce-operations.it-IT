---
title: Note sulla versione di Magento Open Source 2.4.6
description: Scopri le nuove funzioni, i miglioramenti, le correzioni di bug e i problemi noti nella versione 2.4.6 di Magento Open Source.
recommendations: noCatalog
exl-id: bf25d53e-dfb1-4ff9-89fe-f26bc99f3f01
source-git-commit: 9eeb0e3a1c75b25cc70b092d23f02ebfe355d6bd
workflow-type: tm+mt
source-wordcount: '8267'
ht-degree: 0%

---

# Note sulla versione di Magento Open Source 2.4.6

Magento Open Source 2.4.6 introduce il supporto per PHP 8.2. PHP 8.1 rimane completamente supportato, ma il supporto per PHP 7.4 è stato rimosso. Include miglioramenti significativi a livello di prestazioni e scalabilità. Le operazioni GraphQL per le operazioni bulk cart e la risposta di rendering della struttura delle categorie sono state ottimizzate.

Questa versione di include correzioni e miglioramenti di qualità superiore. Le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.2.

{{bics}}

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con le versioni del codice core di Magento Open Source, molti di questi progetti sono anche rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Caratteristiche principali di Magento Open Source 2.4.6

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti di sicurezza

Questa versione include otto correzioni di sicurezza e miglioramenti di sicurezza della piattaforma.

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere il tuo amministratore, incluse, ma non solo, queste iniziative:

* INSERIRE NELL&#39;ELENCO CONSENTITI IP
* [autenticazione a due fattori](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* utilizzo di una VPN
* utilizzo di una posizione univoca anziché `/admin`
* corretta igiene della password

Per le ultime discussioni su questi problemi risolti, consulta il [Bollettino sulla sicurezza di Adobe](https://helpx.adobe.com/security/products/magento/apsb23-17.html).

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità con le best practice più recenti, tra cui:

* Le lacune nei registri delle azioni dell’amministratore sono state risolte con controlli più specifici delle azioni all’interno delle visualizzazioni griglia, delle azioni di massa e delle esportazioni. <!-- AC-1553 -->

* La convalida reCAPTCHA non ha più esito negativo durante l’estrazione in caso di errori imprevisti durante l’elaborazione dei pagamenti. [GitHub-35093](https://github.com/magento/magento2/issues/35093) <!-- AC-2642 -->

* **Nuova configurazione di sistema per richiedere la conferma e-mail quando un utente amministratore modifica la propria e-mail**. Per ridurre la vulnerabilità del sito, è stata aggiunta una nuova impostazione di configurazione del sistema (disabilitata per impostazione predefinita) per richiedere la conferma e-mail quando un utente amministratore modifica la propria e-mail: **[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Customer Configuration]** > **[!UICONTROL Account Information Options]** > **[!UICONTROL Require email confirmation if an email has been changed]**. Quando questa opzione è abilitata, l’applicazione richiede la conferma e-mail ogni volta che l’utente amministratore modifica il proprio indirizzo e-mail. Il seguente modulo è interessato da questa modifica: `Magento_Customer`. <!-- AC-3064 -->

### Miglioramenti alla piattaforma

Magento Open Source 2.4.6 introduce il supporto per PHP 8.2. Il PHP 8.1 rimane completamente supportato. <!-- AC-6598 -->

Il supporto di PHP 7.4 è stato rimosso da questa versione. Non è possibile eseguire Magento Open Source 2.4.6 su PHP 7.4.

Magento Open Source ora supporta:

* Compositore 2.2.x. Compositore 1.x è stato rimosso. <!-- AC-2839 -->

* Redis 7.0.x. Sebbene la compatibilità con Redis 6.2 rimanga, si consiglia di distribuire questa versione con Redis 7.0.x perché Redis 6.2 dovrebbe terminare nel 2024. <!-- AC-6606 -->

* OpenSearch è ora supportato come motore di ricerca predefinito per le distribuzioni Magento Open Source on-premise e cloud. È supportato come motore di ricerca indipendente per Magento Open Source. Questa versione supporta OpenSearch v2.x ed è stata testata con OpenSearch 2.5. Sebbene la compatibilità con OpenSearch 1.x rimanga, si consiglia di utilizzare questa versione con OpenSearch 2.x. È possibile installare ed eseguire Magento Open Source e Magento Open Source 2.4.6 con OpenSearch 2.x in [Prerequisiti del motore di ricerca](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/prerequisites/search-engine/overview.html) sia per il cloud che per il locale. <!-- AC-449 3555 -->

* Elasticsearch 8.x. Vedere [Aggiornare Elasticsearch](../../../upgrade/prepare/prerequisites.md#upgrade-elasticsearch). <!-- AC-6597 -->

* MariaDB 10.6 (versione LTS). Questa versione è ancora compatibile con MariaDB 10.4, ma si consiglia di eseguire l&#39;aggiornamento a MariaDB 10.6. <!-- AC-6921 -->

#### Altri aggiornamenti e sostituzioni

* Migrazione dello schema DHL da v6.2 a v10.0. <!-- AC-3023-->

* Le librerie JavaScript obsolete sono state aggiornate alle versioni più recenti e le dipendenze obsolete sono state rimosse. Queste modifiche sono compatibili con le versioni precedenti. <!-- AC-2036-->

* La compatibilità PHP 7.4 è stata rimossa dalle basi di codice di Commerce e Magento Open Source. <!-- AC-2841-->

* Le dipendenze di Symfony sono state aggiornate alla nuova versione LTS. Le dipendenze includono:<!-- AC-2656-->

   * `friendsofphp/php-cs-fixer`
   * `symfony/console`
   * `symfony/event-dispatcher`
   * `symfony/finder`
   * `symfony/process`
   * `web-token/jwt-framework`

* `jquery-migrate` è stato rimosso dalle basi di codice di Commerce e Magento Open Source. [GitHub-21406](https://github.com/magento/magento2/issues/21406) <!-- AC-1199 -->

* Libreria `jQuery/fileUpload` aggiornata alla versione v10.32. <!-- AC-2658-->

* I componenti Zend framework (ZF1) che hanno raggiunto la fine del ciclo di vita sono stati rimossi dalla base di codice. Vedi [Modifiche non compatibili con le versioni precedenti in evidenza](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/).<!-- AC-1512 -->

* Le dipendenze Laminas sono state aggiornate per supportare PHP 8.2. <!-- AC-7019-->

* Il plug-in del Compositore `laminas/laminas-dependency-plugin` è stato rimosso. [GitHub-36515](https://github.com/magento/magento2/issues/36515) <!-- AC-7100-->

* Sostituzione di `Zend_Filter` con `laminas/laminas-filter`. <!-- AC-5922-->

* Aggiornamento di `web-token/jwt-framework` alla versione v3.0.5. (versione più recente) <!-- AC-3772-->

* Aggiornamento di `allure-framework/allure-phpunit` a v2.x. <!-- AC-2660-->

* Aggiornamento della libreria `Chart-js` alla versione v3.9.1 <!-- AC-2661-->

### Aggiornamenti all’accessibilità

L’obiettivo di questa versione è stato quello di creare un’esperienza di vetrina su Venia (PWA) più percepibile, utilizzabile, comprensibile e solida. Questi miglioramenti includono:

<!-- AC-2479-->

* L&#39;etichetta di testo visivo per il pulsante **[!UICONTROL Sign in]** ora corrisponde al relativo nome accessibile. È consigliabile che il nome accessibile di un elemento dell’interfaccia utente inizi con il testo dell’etichetta visibile.

<!-- AC-2481 2492-->

* Nomi descrittivi accessibili sono stati aggiunti ai pulsanti in tutta la vetrina.

<!-- AC-2488-->

* Sono state aggiunte etichette descrittive verbali alle caselle di controllo **[!UICONTROL Has Video]** nei filtri di ricerca.

<!-- AC-2787-->

* Gli utenti che utilizzano solo la tastiera possono ora accedere a tutte le funzionalità della pagina nella vetrina. In precedenza, gli acquirenti non potevano accedere ai collegamenti di navigazione secondaria utilizzando solo la pressione dei tasti.


### Integrazione di Adobe Commerce con Adobe IMS

I seguenti moduli Adobe IMS sono stati disaccoppiati dal codice core di Adobe Commerce e Magento Open Source e ora sono inclusi in un pacchetto come metapacchetto separato:

* `adobe-ims`
* `adobe-ims-api`
* `admin-adobe-ims`

La nuova versione 2.2.0 di `adobe-ims-metapackage` è inclusa in Adobe Commerce 2.4.6 e Magento Open Source 2.4.6. Nessuna funzionalità è stata modificata in questa versione.<!-- CABPI-505-->

### Braintree

<!-- BUNDLE-3107-->

* Il pulsante **[!UICONTROL Pay Later]** e i banner (messaggi) per Italia e Spagna sono stati abilitati per Braintree.

<!-- BUNDLE-3109-->

* La messaggistica PayLater con PayPal Vault è stata abilitata.

<!-- BUNDLE-3140-->

* Sono stati aggiunti gli hook web di Protezione dalle frodi e ACH. Il web hook di protezione contro le frodi viene attivato quando una decisione di rischio è stata presa in Braintree. Il Web hook ACH viene attivato quando lo stato di un pagamento ACH viene aggiornato a `settled` o `settlement decline`.

<!-- BUNDLE-3141-->

* È stato aggiunto l&#39;hook Web LPM (Local Payment Methods).

### GraphQL

I miglioramenti delle prestazioni di GraphQL includono:

**È stato migliorato il tempo di risposta durante l&#39;esecuzione di query sulle categorie per le quali sono abilitate le autorizzazioni per le categorie**. I tempi di risposta sono migliorati quando si eseguono query su prodotti in categorie per le quali sono abilitate le autorizzazioni per le categorie e che contengono molti gruppi di clienti o cataloghi condivisi. Le modifiche al codice che supportano questo miglioramento delle prestazioni includono: <!-- B2B-2179 2404 2329-->

* L&#39;operazione del resolver GraphQL è stata ottimizzata.
* Il provider di dati non reimposta più i dati memorizzati nella cache di runtime per ogni nuovo prodotto in fase di elaborazione, migliorando così le prestazioni. <!-- B2B-2452-->
* L’elaborazione delle autorizzazioni del prodotto è stata ottimizzata nel resolver GraphQL. Le autorizzazioni per i prodotti ora vengono applicate alle raccolte di prodotti anziché in base ai singoli prodotti.  <!-- B2B-2404-->
* Le autorizzazioni ottimizzate vengono lette nei cataloghi condivisi nella mutazione `addProductsToCart`. <!-- B2B-2424-->
* Le autorizzazioni del prodotto sono state ottimizzate con frammenti in linea del prodotto. <!-- B2B-2459-->

**Prestazioni ottimizzate per il rendering della struttura delle categorie**. La query `categoryList` è stata ottimizzata per supportare clienti con un numero elevato di categorie. I commercianti che utilizzano questa query per cercare più di 1500 categorie con fino a cinque livelli di sottocategorie nidificate noteranno un miglioramento delle prestazioni. Il caricamento degli elementi figlio delle categorie tramite il codice di refactoring è stato migliorato rimuovendo le chiamate ai metodi non necessarie, migliorando la memorizzazione nella cache della struttura delle categorie e caricando i dati delle categorie in modo ricorsivo.  Le modifiche al codice che supportano questo miglioramento delle prestazioni includono: <!-- B2B-2484 2469 2472-->

* È stato migliorato il recupero dei metadati degli attributi personalizzati per i modelli di categoria. <!-- B2B-2463-->
* Il recupero dell&#39;ID categoria è stato migliorato e le chiamate `getChildren` sono state ridotte. <!-- B2B-2464-->
* Il caricamento degli elementi figlio della categoria è stato migliorato.<!-- B2B-2469-->

**Tempi di risposta ridotti per le query delle operazioni bulk cart**. Le mutazioni di aggiungi prodotto sono state ottimizzate per migliorare le prestazioni delle query aggiungendo fino a 500 prodotti semplici e configurabili. I prodotti bundle non subiscono modifiche. Le mutazioni ottimizzate includono `addProductsToCart`, `addConfigurableProductsToCart`, `addDownloadableProductsToCart`, `addSimpleProductsToCart`, `addVirtualProductsToCart`,`addWishlistItemsToCart` e `updateCartItems`. <!-- B2B-2331 2423-->

**la query del cliente ora supporta l&#39;ordinamento degli ordini**. L&#39;oggetto di output `orders` della query `customer` ora contiene un campo di ordinamento. È ora possibile ordinare gli ordini in base al numero di ordine o alla data di creazione e in ordine crescente o decrescente. <!-- AC-6903-->

Nuove mutazioni:

`deleteCustomer` <!-- AC-2879-->


### Page Builder

Page Builder v.1.7.3 è compatibile con Magento Open Source 2.4.6.

### PWA Studio

PWA Studio v.13.0.x è compatibile con Magento Open Source 2.4.6. Include diversi miglioramenti per migliorare l’accessibilità. Per informazioni sulle correzioni di bug, vedi [Versioni di PWA Studio](https://github.com/magento/pwa-studio/releases). Per un elenco delle versioni di PWA Studio e delle relative versioni di base compatibili con Adobe Commerce, consulta [Compatibilità delle versioni](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/).


### Problema noto

**Problema**: New Relic non è attualmente compatibile con PHP 8.2. Le implementazioni che eseguono New Relic possono eseguire Adobe Commerce 2.4.6 su PHP 8.1 ma non su PHP 8.2. **Soluzione**: eseguire Adobe Commerce 2.4.6 su PHP 8.1 fino a quando non verrà rilasciata una nuova versione di New Relic che supporta PHP 8.2. Questa versione è prevista per l’estate 2023. <!-- AC-7769-->

## Problemi risolti

Sono stati risolti centinaia di problemi nel codice core di Magento Open Source 2.4.6.

### Installazione, aggiornamento, distribuzione

<!-- ACP2E-1168-->

* L’implementazione di contenuti statici non si interrompe più per timeout o non riesce durante le distribuzioni standard o compatte con più impostazioni internazionali e siti web.

<!-- ACP2E-923-->

* La strategia compatta non causa più un riferimento non valido a un dominio esterno durante l&#39;esecuzione della distribuzione di contenuto statico (`bin/magento set:static-content:deploy -f --strategy compact`).

<!-- AC-5994-->

* L&#39;esecuzione di `bin/magento setup:di:compile -vvv` (o con le opzioni `-v` o `-vv`) ora restituisce un messaggio informativo sull&#39;errore. [GitHub-35391](https://github.com/magento/magento2/issues/35391)

<!-- AC-5973-->

* Magento Open Source non genera più la seguente eccezione quando si esegue il comando `bin/magento setup:upgrade` in una distribuzione che esegue già lo strumento di migrazione dati: `PHP Fatal error:  Declaration of Migration\Logger\Logger::addRecord(int $level, string $message, array $context = []): bool must be compatible with Monolog\Logger::addRecord(int $level, string $message, array $context = [], ?Monolog\DateTimeImmutable $datetime = null): bool in /var/www/html/vendor/magento/data-migration-tool/src/Migration/Logger/Logger.php on line 34`. [GitHub-35604](https://github.com/magento/magento2/issues/35604)

<!-- AC-5970-->

* Il comando `bin/magento setup:db:status` non ha più esito negativo negli ambienti che eseguono MySQL 8.0.29. In precedenza, l’output del comando indicava erroneamente che lo schema dichiarativo era obsoleto. [GitHub-35671](https://github.com/magento/magento2/issues/35671)

<!-- AC-1377-->

* Il comando `composer install` non sovrascrive più `.gitignore` file. [GitHub-32888](https://github.com/magento/magento2/issues/32888)

<!-- AC-6671-->

* L&#39;esecuzione di `bin/magento sampledata:remove` per rimuovere i dati di esempio dopo l&#39;aggiornamento su Alpine Linux non ha più esito negativo con questo errore: `Undefined constant "MagentoHackathon\Composer\Magento\Deploystrategy\GLOB_BRACE`. [GitHub-36062](https://github.com/magento/magento2/issues/36062)


<!-- AC-6933-->

* `bin/magento setup:upgrade` ora viene eseguito correttamente dopo la prima esecuzione di `composer install --no-dev`. [GitHub-36351](https://github.com/magento/magento2/issues/36351)

<!-- AC-6796-->

* Le eccezioni e le voci di traccia dello stack delle eccezioni sono ora incluse in `var/log/exception.log`. [GitHub-36054](https://github.com/magento/magento2/issues/36054)

<!-- AC-2681-->
Magento Open Source ora genera un errore di convalida del parametro quando si utilizza la riga di comando per impostare una connessione Redis senza password.


### Accessibilità

<!-- AC-6678 6679 6677-->

* I pulsanti **[!UICONTROL Proceed to Checkout]**, **[!UICONTROL Review Order]** e **[!UICONTROL Place Order]** nel flusso di lavoro di estrazione ora funzionano come previsto con l&#39;input da tastiera.

<!-- AC-2485-->

* L&#39;indicazione visiva dello stato attivo sui pulsanti quando si utilizza **[!UICONTROL TAB]** o **[!UICONTROL SHIFT + TAB]** per spostarsi tra i controlli pagina ora funziona come previsto.


#### Lettori di schermo

<!-- AC-2498-->

* L&#39;utilità di lettura dello schermo per la pagina della cronologia degli ordini legge ora la descrizione corretta dell&#39;immagine.

Gli assistenti vocali ora annunciano:

* Numero totale di elementi trovati nei risultati di ricerca come previsto <!--- AC-3522-->
* Nome dell&#39;utente connesso quando un utente effettua correttamente l&#39;accesso utilizzando i controlli della tastiera <!--- AC-6477-->
* L&#39;intestazione della pagina dei risultati della ricerca dei prodotti ora legge il valore corretto per l&#39;elemento <!--- AC-2489--> di tipo `<title>`
* Indica se i campi di input sono obbligatori <!--- AC-2494-->
* Correggere lo stato corrente degli elementi del Pannello a soffietto (compresso ed espanso) <!--- AC-2487-->
* Quando il contenuto della pagina è stato aggiornato dopo che l&#39;utente ha fatto clic sul pulsante **[!UICONTROL Create an account]** <!---AC-6676-->


### Prodotti bundle

<!-- ACP2E-906-->

* L’aggiornamento del prodotto bundle tramite API per una visualizzazione store specifica ora non esclude altri dati di visualizzazioni store per lo stesso prodotto bundle. In precedenza, i titoli delle opzioni dei prodotti bundle venivano sostituiti con il primo titolo dell’opzione per altre visualizzazioni dello store.

<!-- AC-3769-->

* I prodotti in bundle possono ora essere filtrati dall&#39;amministratore **[!UICONTROL Catalog]** > **[!UICONTROL Products]** quando si utilizza una lingua olandese. In precedenza, Magento Open Source visualizzava questo errore quando si tentava di filtrare in base a `Type: Bundle Product`: `Something went wrong with processing the default view and we have restored the filter to its original state`. [GitHub-35704](https://github.com/magento/magento2/issues/35704)

<!-- ACP2E-1038-->

* La griglia prodotti non genera più un’eccezione quando i prodotti bundle hanno un prezzo speciale che supera i 1000. In precedenza, quando si effettuava la ricerca del prodotto per SKU o si passava a **[!UICONTROL Catalog]** > **[!UICONTROL Products]**, Magento Open Source generava questo errore: `Non Numeric value encountered`. [GitHub-36284](https://github.com/magento/magento2/issues/36284))

<!-- ACP2E-1220-->

* Le colonne nella nota di accredito e nei PDF delle fatture per gli ordini che contengono una combinazione di bundle e prodotti semplici ora vengono riprodotte correttamente. In precedenza, le colonne risultavano distorte o non allineate.

<!-- ACP2E-1315-->

* Nelle query GraphQL che contengono un frammento `BundleProduct`, l&#39;oggetto `items.options.product` contiene i dati come previsto. In precedenza, l’oggetto poteva essere nullo in alcune circostanze.

<!-- AC-6548-->

* Le quantità decimali per le opzioni del bundle ora vengono riprodotte correttamente quando **[!UICONTROL Quantity uses decimals]** è abilitato. In precedenza, veniva eseguito il rendering solo della parte intera della quantità, non del componente frazionario. Ad esempio, è stata riprodotta una quantità di 1,5 come 1,0. [GitHub-35964](https://github.com/magento/magento2/issues/35964)

<!-- B2B-2453-->

* Le query sui prodotti GraphQL ora restituiscono solo le opzioni dei prodotti del bundle nell’ambito dello store su cui viene eseguita la query.

<!-- B2B-2455-->

* I prodotti non assegnati a categorie, ma che sono opzioni di prodotto per prodotti bundle o raggruppati, ora vengono restituiti nelle risposte quando l&#39;impostazione di configurazione **[!UICONTROL Allow Category Browsing]** è abilitata per il cliente che invia la query.

### Cache

<!-- ACP2E-134-->

* La cache a pagina intera non viene più scaricata dopo l’evasione dell’ordine a meno che il prodotto ordinato non sia esaurito. In precedenza, la cache veniva eliminata per la categoria ogni volta che veniva creata una spedizione.

<!-- ACP2E-1321-->

* I dati vengono ora memorizzati correttamente quando la cache L2 è configurata e i dati remoti vengono parzialmente eliminati. In precedenza, dopo lo scaricamento solo della cache di dati senza hash di tali dati, la nuova cache non veniva salvata mentre esistevano gli hash di dati.

<!-- B2B-2471-->

* Sono stati corretti i difetti in `CatalogUrlResolverIdentity` e `CmsUrlResolverIdentity` che impedivano il caching. Ciò interessava la memorizzazione nella cache delle query di route su più richieste.

### Carrello e pagamento


<!-- ACP2E-965-->

* Gli acquirenti possono ora aggiungere un articolo aggiuntivo al carrello quando il carrello contiene la quantità minima del prodotto semplice.

<!-- ACP2E-964-->

* Le chiamate REST API per il recupero dei dati del carrello ora restituiscono gli stessi valori `grand_total` e `base_grand_total` quando la valuta di archiviazione e la valuta di base sono uguali. [GitHub-34649](https://github.com/magento/magento2/issues/34649)

<!-- ACP2E-962-->

* Il valore esportato di **[!UICONTROL Maximum Qty Allowed in Shopping Cart]** ora corrisponde al valore predefinito impostato nell&#39;impostazione di configurazione Admin.

<!-- ACP2E-889-->

* Magento Open Source ora calcola correttamente il totale complessivo per i rimborsi di ordini con uno sconto per la spedizione.

<!-- ACP2E-876-->

* Google reCAPTCHA ora funziona come previsto per gli ordini in vetrina. In precedenza, Magento Open Source visualizzava questi errori quando Google ReCAPTCHA non era selezionato per la prima volta prima che un acquirente tentasse di effettuare un ordine: `ReCaptcha validation failed, please try again` e `No such cart with id = ID`.

<!-- AC-2338-->

* L’aggiornamento dell’immagine CAPTCHA ora rispetta l’impostazione di configurazione Admin e non viene attivato quando l’impostazione è disabilitata. In precedenza, l’aggiornamento veniva attivato ogni volta che il metodo di pagamento cambiava, indipendentemente dal fatto che l’impostazione fosse abilitata o disabilitata. [GitHub-34855](https://github.com/magento/magento2/issues/34855)

<!-- ACP2E-479-->

* Magento Open Source ora visualizza una finestra a comparsa di conferma come previsto prima di reindirizzare un acquirente alla pagina successiva quando cambia la quantità di prodotto nella pagina del carrello senza aggiornare il carrello, quindi tenta di passare alla pagina successiva.

<!-- AC-5987-->

* Gli acquirenti possono ora diminuire la quantità di un prodotto dal carrello dopo che è stato diminuito nell’amministratore. In precedenza, Magento Open Source ha generato il seguente errore quando un acquirente ha tentato di ridurre la quantità di prodotto: `The requested qty is not available`. [GitHub-35780](https://github.com/magento/magento2/issues/35780)

<!-- AC-6744-->

* Magento Open Source non genera più un errore nella console JavaScript quando la quantità di prodotto supera il massimo configurato durante il pagamento con spedizione multipla. Al contrario, Magento Open Source visualizza ora un messaggio di errore informativo. [GitHub-36184](https://github.com/magento/magento2/issues/36184)

<!-- ACP2E-1276-->

* La quantità dell&#39;articolo sulla pagina del carrello non viene più rappresentata come numero negativo quando un acquirente utilizza il tasto freccia giù sulla tastiera per modificare la quantità del prodotto. [GitHub-36299](https://github.com/magento/magento2/issues/36299)

<!-- ACP2E-1232-->

* Gli acquirenti non possono più aggiungere al carrello un prodotto di una categoria che non è più consentita dopo aver cambiato il gruppo di clienti a cui appartiene l’acquirente. Magento Open Source ora controlla l’accesso delle autorizzazioni del gruppo di clienti per specifiche categorie quando vengono modificate le impostazioni di configurazione delle autorizzazioni.

<!-- ACP2E-926-->

* I carrelli acquisti dei clienti non vengono più svuotati prima della creazione dell’ordine da parte dell’amministratore e il contenuto del carrello viene ora ripristinato se l’ordine viene annullato o abbandonato. Gli elementi vengono ora rimossi dal carrello solo dopo la creazione dell’ordine. In precedenza, ogni volta che un utente amministratore tentava di creare un ordine nella pagina Admin Manage Shopping Cart (Gestisci carrello acquisti), il carrello veniva svuotato.

<!-- AC-6939-->

* Il mini carrello visualizza ora le immagini del prodotto corrette dopo l&#39;esecuzione di `bin/magento catalog:image:resize`. In precedenza, tutte le immagini venivano sostituite dall’immagine segnaposto del prodotto predefinita. [GitHub-35535](https://github.com/magento/magento2/issues/35535)

<!-- AC-2376-->

* Il pagamento può essere completato correttamente se l&#39;indirizzo di spedizione contiene un attributo di estensione. In precedenza, Magento Open Source ha generato questo errore: `Object of class Magento\Quote\Api\Data\AddressExtension could not be converted to string`. [GitHub-34202](https://github.com/magento/magento2/issues/34202)

<!-- AC-2793-->

* La mutazione `addBundleProductsToCart` non aggiunge più prodotti a un preventivo se un&#39;opzione di prodotto richiesta non ha valore. [GitHub-25676](https://github.com/magento/magento2/issues/25676)

<!-- B2B-2458-->

* Magento Open Source ora restituisce un messaggio informativo quando una mutazione `addProductsToCart` non riesce quando si aggiunge al carrello un prodotto con autorizzazioni insufficienti.

<!-- ACP2E-1242-->

* Magento Open Source non genera più un errore nella pagina del carrello quando si utilizza l’ordine rapido per aggiungere un prodotto in una quantità che supera le scorte disponibili.


### Regola prezzo carrello

<!-- AC-2242-->

* Le opzioni di spedizione gratuita della regola del prezzo del carrello impostate durante la creazione della regola ora vengono applicate agli ordini come previsto. In precedenza, le opzioni di spedizione gratuita applicate durante la creazione della regola venivano ignorate durante il pagamento e la spedizione gratuita non era consentita al momento dell’applicazione della regola. [GitHub-35013](https://github.com/magento/magento2/issues/35013)

<!-- ACP2E-1074-->

* La colonna `discount_percent` della tabella `sales_order_item` per un prodotto ora viene compilata come previsto con la percentuale di sconto quando la quantità di sconto dell&#39;articolo non è impostata o è maggiore o uguale alla quantità dell&#39;articolo dell&#39;ordine. In precedenza, questa colonna non veniva compilata quando si applicava una regola di prezzo del carrello a questo prodotto.

### Catalogo

<!-- ACP2E-1181-->

* Il widget elenco prodotti non visualizza più prezzi errati o memorizzati nella cache per un acquirente registrato. Il prezzo visualizzato nel widget della home page ora corrisponde all&#39;indirizzo del cliente e viene aggiornato quando il cliente aggiorna l&#39;indirizzo. In precedenza, la cache del browser non aggiornava i prezzi dei prodotti nella home page in base alle regole fiscali del gruppo di clienti.

<!-- ACP2E-1007-->

* La funzione Confronta prodotti ora funziona correttamente in una distribuzione multisito e dipende dal sito Web.

<!-- ACP2E-900-->

* Magento Open Source non visualizza più i dati della pagina precedente quando ricarichi una pagina dei dettagli di un prodotto. In precedenza, quando la pagina dei dettagli del prodotto veniva ricaricata, i dati della prima scheda venivano uniti ai dati appena caricati per un secondo diviso.

<!-- ACP2E-816-->

* Le categorie con sottocategorie possono ora essere espanse nel menu principale sui dispositivi mobili come previsto. In precedenza, gli acquirenti non potevano aprire o espandere le categorie con sottocategorie nelle distribuzioni per dispositivi mobili. [GitHub-35329](https://github.com/magento/magento2/issues/35329)

<!-- ACP2E-789-->

* Gli elenchi delle categorie ora vengono aggiornati come previsto quando un prodotto viene assegnato a un nuovo sito Web o store. In precedenza, l&#39;indicizzatore del prezzo del prodotto non era contrassegnato come non valido e successivamente è stato riattivato in un&#39;esecuzione `cron` come previsto. Di conseguenza, l’inserimento del prezzo del prodotto non era presente nella tabella dell’indice dei prezzi e non veniva visualizzato nel nuovo negozio o sito web.

<!-- AC-6395-->

* Il conteggio dell&#39;inventario storefront è ora accurato quando l&#39;impostazione di configurazione **[!UICONTROL Display Out of Stock Products]** è abilitata. [GitHub-35899](https://github.com/magento/magento2/issues/35899)

<!-- AC-6384-->

* La pagina della categoria non è più vuota quando l&#39;impostazione **[!UICONTROL Allow All Products Per Page]** è abilitata. [GitHub-35900](https://github.com/magento/magento2/issues/35900)

<!-- AC-6330-->

* L&#39;opzione di configurazione **[!UICONTROL Display Out of Stock Products]** ora funziona come previsto quando è abilitata. In precedenza, tutti i prodotti venivano visualizzati come esauriti nella vetrina quando questa opzione era abilitata in Amministrazione. [GitHub-35898](https://github.com/magento/magento2/issues/35898)

<!-- ACP2E-1306-->

* L’ordinamento dei prodotti in base agli attributi booleani ora funziona come previsto. [GitHub-36390](https://github.com/magento/magento2/issues/36390)

<!-- ACP2E-1206-->

* Gli sconti della regola del prezzo di catalogo non vengono più applicati alle opzioni di prodotto personalizzate a prezzo fisso, ma solo al prezzo originale del prodotto.

<!-- AC-6810-->

* Le regole del prezzo di catalogo ora tengono conto dell’ambito selezionato e vengono applicate ai prodotti solo per i siti web per i quali l’attributo ha un valore di opzione che corrisponde alla regola. In precedenza, la regola non teneva conto dell’ambito selezionato nelle distribuzioni multisito. [GitHub-36049](https://github.com/magento/magento2/issues/36049)

<!-- ACP2E-891-->

* Gli attributi di colore e dimensione delle opzioni dei campioni ora sono preselezionati nella pagina dei dettagli del prodotto quando un acquirente modifica il prodotto configurabile dalla pagina Il mio carrello. (jQuery 3.x supporta ora il nome del widget `swatchRenderer`, che ora è Camel Case.) In precedenza, l’opzione campione non era preselezionata.

<!-- ACP2E-1361-->

* Ora i clienti vengono avvisati del calo dei prezzi dei prodotti quando il cliente è abbonato all’avviso di calo dei prezzi. In precedenza, le notifiche di calo dei prezzi non venivano sempre inviate a causa del caching a livello di applicazione.

<!-- ACP2E-1348-->

* Le regole del catalogo basate su SKU con la condizione **[!UICONTROL is not one of]** ora funzionano come previsto.

<!-- AC-729-->

* Magento Open Source non presuppone più erroneamente che una categoria sia la categoria padre di un’altra in base al percorso della categoria. In precedenza, quando due categorie erano adiacenti e un ID di categoria inizia con l’ID di categoria di un’altra categoria, Adobe Commerce presupponeva che le categorie avessero la stessa categoria principale. [GitHub-32464](https://github.com/magento/magento2/issues/32464)

### Prodotti configurabili


<!-- ACP2E-1083-->

* Magento Open Source non genera più un errore quando un utente amministratore aggiunge manualmente prodotti a un prodotto configurabile a cui sono già assegnati molti prodotti semplici. In precedenza, Magento Open Source visualizzava questo errore: `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- AC-2877-->

* Gli acquirenti non possono più aggiungere al carrello prodotti configurabili con una quantità vendibile pari a 0 nelle distribuzioni con ordini arretrati disabilitati. Magento Open Source ora indica che il prodotto è esaurito. [GitHub-35319](https://github.com/magento/magento2/issues/35319)

<!-- AC-2678-->

* La creazione di un nuovo prodotto mediante l’importazione di un prodotto configurabile con molte opzioni da una diversa visualizzazione dello store ora genera una copia esatta del primo prodotto come previsto. In precedenza, l’ordinamento delle opzioni configurabili del nuovo prodotto era errato e i titoli non venivano tradotti nelle impostazioni locali della nuova visualizzazione store in implementazioni con più visualizzazioni store e impostazioni locali. [GitHub-35200](https://github.com/magento/magento2/issues/35200)

<!-- AC-535-->

* I prodotti configurabili con tutti i prodotti secondari esauriti vengono ora visualizzati come esauriti sul vetrina.

<!-- AC-6852-->

* Ora gli SKU di prodotto configurabili e i nomi dei prodotti vengono visualizzati con precisione. In precedenza, nomi e SKU venivano visualizzati come non definiti dopo lo spostamento di un gruppo di attributi al di sopra del gruppo Dettagli prodotto in **[!UICONTROL Stores]** > **[!UICONTROL Attribute set]**. [GitHub-36309](https://github.com/magento/magento2/issues/36309)


### Coupon

<!-- ACP2E-1053-->

* È stata aggiunta una logica di convalida al flusso di lavoro Gestisci codici coupon per applicare le impostazioni del codice coupon durante la generazione dei coupon. In precedenza, la generazione del codice coupon ignorava l&#39;impostazione **[!UICONTROL Code Length]** quando il valore **Quantità coupon** era maggiore di 2500.

<!-- ACP2E-1029-->

* I punti premio vengono ora aggiunti al conto di un cliente come previsto quando viene applicato un buono sconto durante il pagamento con il metodo di pagamento PayPal Express.

<!-- ACP2E-1225-->

* Ora puoi applicare un codice coupon durante la creazione dell’ordine di amministrazione quando la regola del prezzo del carrello ha come condizione il peso. In precedenza, i codici coupon non venivano impostati se non venivano selezionati altri campi per il prodotto. [GitHub-36271](https://github.com/magento/magento2/issues/36271)

<!-- ACP2E-1223-->

* Ora puoi filtrare i rapporti coupon per più regole di prezzo del carrello. [GitHub-36272](https://github.com/magento/magento2/issues/36272)

<!-- AC-2812-->

* Le opzioni personalizzate vengono ora applicate e salvate quando un utente amministratore preme **[!UICONTROL Enter]** durante la configurazione di un prodotto con opzioni personalizzate. In precedenza era possibile selezionare le opzioni e aggiungere il prodotto a un ordine, ma le opzioni non venivano salvate e all’utente amministratore veniva richiesto di selezionare nuovamente le opzioni del prodotto. [GitHub-35284](https://github.com/magento/magento2/issues/35284)

<!-- AC-6688-->

* I codici coupon possono ora essere esportati correttamente in Excel XML. In precedenza, il file generato non conteneva tutti i codici coupon selezionati, ma solo tutti gli elementi selezionati nel selettore elementi per pagina.[GitHub-36073](https://github.com/magento/magento2/issues/36073)


### cron

<!-- ACP2E-1243-->

* Il processo cron `catalog_index_refresh_price` ora viene eseguito correttamente. In precedenza, Magento Open Source registrava questo errore durante l&#39;esecuzione cron: `report.ERROR: Cron Job catalog_index_refresh_price has an error: SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens`.

### Valuta

<!-- ACP2E-1012-->

* È stato aggiunto uno spazio mancante tra i simboli di valuta personalizzati e i prezzi dei prodotti sia in vetrina che in Admin. Sono state aggiunte la condizione appropriata e l’espressione regex per consentire un NBSP personalizzato nei simboli di valuta. Ad esempio, IDRx 105.00 è stato visualizzato in precedenza come IDRx105.00.


### E-mail


<!-- ACP2E-1063-->

* Magento Open Source non invia più e-mail duplicate di un cliente dopo la creazione di un ordine dall’amministratore.

<!-- ACP2E-1200-->

* Le e-mail degli ordini di amministrazione non vengono più inviate quando l&#39;impostazione **[!UICONTROL Email order confirmation]** è disabilitata. [GitHub-36256](https://github.com/magento/magento2/issues/36256)

<!-- ACP2E-1151-->

* Le opzioni immagine non vengono più visualizzate come markup HTML nella nota di credito, nella conferma dell&#39;ordine e nelle e-mail del cliente della fattura (modello predefinito) per i prodotti con opzioni personalizzate.

### Framework


<!-- AC-6385-->

* Gli utenti Admin possono ora aprire correttamente la pagina Admin **[!UICONTROL Store]** > **[!UICONTROL Configuration]** quando nessun paese nell&#39;impostazione **European Union Countries** (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL General]** > **[!UICONTROL Country options]** > **[!UICONTROL European Union Countries]**). In precedenza, quando un utente amministratore tentava di aprire la pagina, Magento Open Source generava questo errore: `TypeError: explode(): Argument #2 ($string) must be of type string, null given in /var/www/php/folder/vendor/magento/module-config/ViewModel/CountryFilter.php:46`. [GitHub-35901](https://github.com/magento/magento2/issues/35901)

<!-- AC-6361-->

* `jquery.cookie` dipendenze ora funzionano come previsto con le dipendenze di JavaScript. In precedenza non era possibile utilizzare alias per `jquery/jquery.cookie`. [GitHub-35913](https://github.com/magento/magento2/issues/35913)

<!-- AC-3226-->

* Il comando `bin/magento i18n:collect-phrases` ora include `<title>` testo nel file CSV esportato. [GitHub-35462](https://github.com/magento/magento2/issues/35462)

<!-- AC-6841-->

* `Magento\Framework\Code\Reader\ArgumentsReader::getParentCall()` ora supporta gli argomenti del costruttore denominato. È ora possibile chiamare una funzione impostando i parametri in base al loro nome.

<!-- ACP2E-1287-->

* Gli errori vengono ora registrati come previsto nel file `exception.log`. In precedenza, anche se nel file `system.log` venivano registrati errori, in `var/log/exception.log` non venivano registrati errori.

<!-- AC-3758-->

* I commercianti ora possono specificare un provider SMTP esterno personalizzato. [GitHub-26104](https://github.com/magento/magento2/issues/26104)

<!-- AC-3752-->

* È ora possibile autorizzare nuovamente le integrazioni OAuth, come previsto, nelle implementazioni che eseguono Magento Open Source 2.4.3-p2. Precedentemente, la riautorizzazione non è riuscita con questo errore: `The attempt to post data to consumer failed due to an unexpected error. Please try again later`. Magento Open Source ha inoltre tentato di decrittografare i valori non crittografati. [GitHub-35313](https://github.com/magento/magento2/issues/35313)

<!-- ACP2E-1201-->

* Il parametro `rowId` corretto viene ora passato quando la categoria `urlKey` viene salvata per le categorie con categorie figlio. In precedenza, `categoryId` errato veniva passato durante il salvataggio della categoria `URLKey`.

<!-- ACP2E-981-->

* Il codice attributo prodotto `event` è stato aggiunto all&#39;elenco dei codici attributo prodotto riservati. In questo modo vengono eliminati gli errori associati all&#39;utilizzo di un attributo con questo nome nella vetrina. In precedenza, l&#39;applicazione aveva generato questo errore nelle pagine dei dettagli del prodotto e di ricerca/elenco prodotti quando veniva utilizzato `event`: `report.CRITICAL: Error: Call to a member function getStatus() on string in /home/mer33515/public_html/ee24develop/magento2ee/app/code/Magento/CatalogEvent/Observer/ApplyIsSalableToProduct.php:23`.

<!-- AC-5985-->

* I messaggi di errore di convalida della vetrina che si verificano durante il posizionamento dell&#39;ordine ora vengono visualizzati in modo coerente. In precedenza, i messaggi venivano visualizzati, compressi e quindi rivisualizzati. [GitHub-35651](https://github.com/magento/magento2/issues/35651)

<!-- AC-2943-->

* I consumatori AMQP non hanno più esito negativo a causa di una funzione `trim()` obsoleta nelle distribuzioni che eseguono PHP 8.1. In precedenza, quando il consumer AMQP veniva avviato dopo l&#39;installazione, Magento Open Source generava questo errore: `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in .../vendor/magento/framework-amqp/Config.php on line 143`. [GitHub-35380](https://github.com/magento/magento2/issues/35380)

<!-- AC-2882-->

* Il metodo `getFilteredTimerIds` ora funziona come previsto.  La classe `Magento\Framework\Profiler\Driver\Standard\Stat` è ora compatibile con PHP 8.1. In precedenza, Magento Open Source generava un’eccezione durante la chiamata di questo metodo. [GitHub-35307](https://github.com/magento/magento2/issues/35307)

<!-- AC-2784-->

* È stata rimossa la dipendenza dalla libreria `imagemin-svgo`.

<!-- AC-2058-->

* Il processo del modello di minimizzazione ora elabora correttamente i commenti consecutivi quando il primo commento inizia con `//`. [GitHub-34880](https://github.com/magento/magento2/issues/34880)

<!-- AC-2241-->

* È stata corretta una query del database emessa dal modulo `BundleGraphQl` che ha restituito questo errore: `"debugMessage": "Notice: Undefined offset: 16 in vendor/magento/module-bundle-graph-ql/Model/Resolver/Options/Collection.php on line 130"`.[GitHub-34991](https://github.com/magento/magento2/issues/34991)


### Correzioni generali


<!-- ACP2E-1068-->

* Magento Open Source ora visualizza un intervallo di tempo preciso quando un utente amministratore seleziona l&#39;opzione **[!UICONTROL Last 24 Hours]** dal dashboard delle statistiche dell&#39;amministratore. In precedenza, Magento Open Source mostrava un intervallo di tempo errato. Ciò si è verificato perché il fuso orario del database è rimasto invariato.

<!-- ACP2E-1066-->

* È ora possibile generare note di credito sia per le quantità intere che per quelle decimali. In precedenza erano supportate solo le quantità intere.

<!-- ACP2E-1001-->

* La regola di convalida dell&#39;input Codice postale cliente per il tipo **solo numerico** ora funziona come previsto nel campo **[!UICONTROL Edit Customer Address]** (**[!UICONTROL Store]** > **[!UICONTROL Attribute]** > **[!UICONTROL Customer Address]**). In precedenza, le informazioni sull’indirizzo del cliente venivano salvate senza la convalida del codice postale.

<!-- ACP2E-873-->

* Gli account cliente condivisi a livello globale dispongono ora di indirizzi convalidati in base all&#39;elenco dei paesi consentiti per il sito Web corrente e salvati correttamente. In precedenza, questi account venivano erroneamente convalidati rispetto ai paesi consentiti del sito web in cui il cliente era registrato.

<!-- AC-3167-->

* Le breadcrumb dalla gerarchia delle pagine di CMS non vengono più visualizzate quando **[!UICONTROL Enable Hierarchy Functionality]** è disabilitato. In precedenza venivano visualizzate le breadcrumb e quando gli acquirenti facevano clic su di esse veniva visualizzata una pagina 404. [GitHub-35513](https://github.com/magento/magento2/issues/35513)

<!-- AC-2567-->

* La rimozione di un prodotto da tutti i siti Web tramite Admin non causa più il seguente errore: `SQLSTATE[42000]: Syntax error or access violation`. [GitHub-35133](https://github.com/magento/magento2/issues/35133)

<!-- AC-2235-->

* I clienti che superano il numero massimo di tentativi di accesso non riusciti possono effettuare l’accesso dopo la reimpostazione della password. [GitHub-34981](https://github.com/magento/magento2/issues/34981)

<!-- AC-2020-->

* Il componente Righe dinamiche ora si comporta come previsto quando un utente amministratore aggiunge un nuovo elemento. In precedenza, il componente riga si comportava in modo errato quando un nuovo prodotto semplice veniva aggiunto a un prodotto raggruppato. [GitHub-34850](https://github.com/magento/magento2/issues/34850)

<!-- magento/magento2/pull/35598-->

* Sono stati corretti errori di battitura e grammatica errata nel file `app/code/Magento/Backend/etc/menu.xsd`.

<!-- magento/magento2/pull/35818-->

* Il file `app/code/Magento/Authorization/README.md` è stato aggiornato per descrivere con precisione la creazione della tabella.

<!-- magento/magento2/pull/35940-->

* Il metodo `recordLogin` è stato aggiornato per impostare i valori di accesso nel modello utente e per mantenere i valori corretti nei campi `logdate` e `lognum` della tabella `admin_user`. In precedenza, i tentativi di accesso per gli utenti amministratori aggiornati non venivano registrati.

<!-- magento/magento2/pull/35990-->

* I modelli di problema GitHub sono stati convertiti in moduli di problema per problemi di esperienza degli sviluppatori e richieste di funzioni.

<!-- ACP2E-961-->

* L&#39;attributo cliente `Is required` è ora implementato correttamente per ambito sito Web per il modulo di modifica cliente amministratore.

<!-- ACP2E-895-->

* Il campo **[!UICONTROL Grid Filter Condition Type]** degli attributi dell&#39;indirizzo del cliente e del cliente non è più visibile nella pagina di modifica degli attributi quando l&#39;impostazione **[!UICONTROL Use in Filter Option]s** è disabilitata.

<!-- AC-6020-->

* Magento Open Source visualizza ora un messaggio di errore informativo se un commerciante non riesce a immettere un valore di attributo SKU facoltativo durante la creazione di un prodotto. In precedenza, l&#39;applicazione generava questa eccezione quando l&#39;attributo era facoltativo: `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/html/mg244/project-community-edition/vendor/magento/module-eav/Model/Entity/AbstractEntity.php on line 932`. [GitHub-35810](https://github.com/magento/magento2/issues/35810)

<!-- ACP2E-716-->

* Il filtro **[!UICONTROL Show my quotes]** sulla pagina **[!UICONTROL My Quotes]** ora funziona come previsto. In precedenza, i risultati del filtro includevano le virgolette di altri utenti amministratori.


### GraphQL


<!-- AC-1730-->

* `Types` che implementano più interfacce nel codice GraphQL ora possono essere separate da un segno `&` e da `,` in conformità alla specifica `@doc` di GraphQL.

<!-- ACP2E-885-->

* La mutazione `setShippingAddressesOnCart` ora supporta l&#39;impostazione di codici di area numerici come `region`. In precedenza, questa mutazione funzionava in modo errato per i valori dei codici di area numerici.

<!-- ACP2E-1237-->

* La query `products` ora restituisce solo le revisioni associate all&#39;ambito specificato. In precedenza, le query restituivano recensioni da tutti gli store.

<!-- ACP2E-882-->

* Le autorizzazioni per le categorie ora vengono rispettate durante le richieste di GraphQL.

<!-- AC-1805-->

* La query `customer` ora filtra correttamente gli ordini con un intervallo `from` e `to` specificato. [GitHub-31537](https://github.com/magento/magento2/issues/31537)

<!-- AC-5984-->

* La query `product` ora restituisce dati di categoria corretti nell&#39;aggregazione. In precedenza, `attribute_code.category_uid` restituiva il valore di `category_id` invece di `category_uid`.

<!-- AC-6084-->

* La query `customerOrders` non genera più un errore `\"model\" value should be specified`. [GitHub-35852](https://github.com/magento/magento2/issues/35852)

<!-- ACP2E-894-->

* La query `customer` ora filtra gli ordini in base all&#39;ambito. Ora puoi specificare se la query deve filtrare gli ordini per negozio, sito Web o a livello globale.

<!-- ACP2E-1172-->

* La query `categoryList` ora restituisce un conteggio accurato dei prodotti per le categorie padre ancorate e non ancorate. Il nuovo attributo `is_anchor` è stato aggiunto all&#39;elenco delle colonne selezionate della raccolta categorie. In precedenza, le richieste restituivano un conteggio di prodotti pari a 0. [GitHub-36300](https://github.com/magento/magento2/issues/36300)

<!-- AC-2500-->

* La mutazione `generateCustomerTokenAsAdmin` ora funziona come previsto durante la creazione di un token per accedere a un archivio non predefinito in una distribuzione multi-store. [GitHub-35084](https://github.com/magento/magento2/issues/35084)

<!-- AC-1731-->

* La mutazione `createEmptyCart` genera ora un&#39;eccezione come previsto quando viene utilizzato un token scaduto. [GitHub-26112](https://github.com/magento/magento2/issues/26112)

<!-- AC-1965-->

* I messaggi di errore relativi alle query sul carrello sono stati resi più informativi. [GitHub-34546](https://github.com/magento/magento2/issues/34546)

<!-- AC-2798-->

* I dati di aggregazione nella risposta di una query `products` ora includono valori corretti per gli attributi del tipo di prezzo `attribute_code` e `label`. [GitHub-28878](https://github.com/magento/magento2/issues/28878)

<!-- AC-6685-->

* La query `products` restituisce le informazioni sulla categoria come previsto quando il prefisso del database ha un valore non Null. In precedenza, restituiva un `Internal server error`. [GitHub-36117](https://github.com/magento/magento2/issues/36117)

<!-- AC-1003-->

* È stato corretto il tipo restituito per il metodo `getCustomerIsGuest`. [GitHub-29529](https://github.com/magento/magento2/issues/29529)

<!-- B2B-2221-->

* Refactoring del plug-in `Magento\CatalogGraphQl\Plugin\DesignLoader` eseguito.

<!-- B2B-2379-->

* Il ricaricamento del carrello ora viene attivato una sola volta come previsto quando il carrello viene inizializzato da mutazioni GraphQL. In precedenza, il caricamento del carrello attivava un’inutile riconvalida del carrello rispetto alle scorte, che consumavano risorse significative ogni volta che il carrello veniva caricato.

<!-- AC-1726-->

* È stato aggiunto il tipo `gift_message` a `OrderItemInterface`. [GitHub-29418](https://github.com/magento/magento2/issues/29418)

<!-- AC-2454-->

* Le opzioni prodotto restituite nelle risposte di GraphQL ora includono solo i prodotti all’interno del catalogo a cui appartiene l’utente. Se l’utente appartiene a un catalogo condiviso, vengono restituiti solo i prodotti nei cataloghi condivisi. Se l&#39;utente è ospite o non fa parte di un catalogo condiviso personalizzato, vengono restituiti solo i prodotti del catalogo pubblico.


### Google ReCAPTCHA

<!-- AC-3179-->

* Un errore reCAPTCHA nel file `var/log/exception.log` per l&#39;accesso amministratore reCAPTCHA di Google V3 è stato risolto e non vengono registrati messaggi di errore. In precedenza, quando un utente amministratore configurava le impostazioni **[!UICONTROL Configuration]** > **[!UICONTROL Security]** > **[!UICONTROL Google reCAPTCHA Admin Panel]**, veniva generato il seguente errore a intervalli di pochi secondi: `main.ERROR: Can not resolve reCAPTCHA parameter. {"exception":"[object] (Magento\Framework\Exception\InputException(code: 0): Can not resolve reCAPTCHA parameter. at /home/xxxxxxx/public_html/vendor/magento/module-re-captcha-ui/Model/CaptchaResponseResolver.php:25)"} []`. [GitHub-34975](https://github.com/magento/magento2/issues/34975)


### Immagine

<!-- ACP2E-905-->

* Sono stati aggiornati i consigli sulle dimensioni del logo per la distinta fattura PDF.


### Importa/esporta


<!-- ACP2E-957-->

* L&#39;importazione di un prodotto con lo stesso codice URL numerico di un prodotto esistente, ma senza il relativo carattere alfabetico terminale, non causa più un errore di convalida quando **[!UICONTROL Product URL Suffix]** è impostato su vuoto in Amministrazione.

<!-- AC-6588-->

* Il comando `bin/magento app:config:import`importa correttamente il contenuto di un file `config.php` quando contiene determinate espressioni `cron`. In precedenza, l&#39;importazione non era riuscita con questo errore: `Import failed: Notice: Trying to access array offset on value of type null in [..]/vendor/magento/module-config/Model/Config/Backend/Currency/Cron.php on line 66`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-1289-->

* L’esportazione completa ora funziona correttamente quando AWS S3 viene utilizzato come archiviazione remota. In precedenza, l’esportazione non riusciva a causa delle dimensioni del file caricato.

<!-- ACP2E-982-->

* Lo stato del prodotto ora viene importato correttamente quando mancano le colonne dei dati di inventario nel file CSV. In precedenza, dopo l’importazione del prodotto, l’origine predefinita veniva assegnata automaticamente al prodotto, la sua quantità veniva impostata su zero e il suo stato veniva elencato come esaurito quando mancavano le colonne dei dati di inventario nel file CSV.

<!-- ACP2E-841-->

* L&#39;importazione dei valori di Advanced Pricing ora fornisce il conteggio corretto per i record nuovi e aggiornati quando l&#39;importazione include più di 100 record. In precedenza, il messaggio di completamento dell’importazione conteneva un conteggio errato.

<!-- ACP2E-984-->

* I file CSV esportati ora contengono percorsi corretti per i nomi delle categorie, che vengono salvati in più lingue. È stato aggiunto un ID store per la raccolta di categorie. In precedenza, i file esportati contenevano percorsi misti con lingue diverse invece di un percorso di categoria derivato dalla vista archivio predefinita.

<!-- ACP2E-1319-->

* L’aggiornamento delle opzioni personalizzate per un prodotto in una visualizzazione specifica dello store tramite l’importazione ora viene completato correttamente. In precedenza, se una riga relativa al prodotto veniva suddivisa in più batch, veniva generato un errore interno del server.

<!-- AC-6926-->

* Il servizio di importazione `Fixer.io` ora funziona come previsto. I tassi di cambio vengono ora importati correttamente. [GitHub-36010](https://github.com/magento/partners-magento2ee/issues/36010)

### Indice

<!-- ACP2E-1296-->

* La reindicizzazione dei prezzi ora viene eseguita correttamente quando il catalogo contiene prodotti bundle non assegnati ad alcun sito Web. In precedenza, durante l&#39;esecuzione dell&#39;indice dei prezzi del prodotto si verificava l&#39;errore seguente: `Warning: Undefined array key <bundel product id > in vendor/magento/module-bundle/Model/ResourceModel/Indexer/Price/DisabledProductOptionPriceModifier.php on line 117`. [GitHub-35796](https://github.com/magento/magento2/issues/35796)

### Infrastruttura

<!-- AC-5972-->

* Sono stati risolti i problemi relativi al modulo di terze parti `colinmollenhour/php-redis-session-abstract` e PHP 8.1. [GitHub-35634](https://github.com/magento/magento2/issues/35634)


### Ordine

<!-- ACP2E-998-->

* Il prefisso dell&#39;ordine passato nello script di installazione ora viene aggiunto correttamente all&#39;ID dell&#39;ordine.

<!-- ACP2E-790-->

* La pagina dei dettagli dell’ordine ora viene caricata correttamente se l’ordine contiene un prodotto con un lungo valore di testo personalizzato. In precedenza, la pagina dei dettagli dell&#39;ordine non veniva caricata e il valore nella colonna `sales_order_item.product_options` non veniva memorizzato correttamente se un prodotto conteneva un valore lungo per un&#39;opzione di testo personalizzata.

<!-- AC-3178-->

* Lo stato dell&#39;ordine di vetrina è ora preciso per gli ordini con rimborso parziale. In precedenza, un ordine rimaneva nello stato di elaborazione dopo la spedizione quando veniva applicato un rimborso parziale. [GitHub-35528](https://github.com/magento/magento2/issues/35528)

<!-- AC-3031-->

* Il gruppo di clienti è ora rappresentato con precisione come **Non connesso** per un ordine creato da un utente ospite. In precedenza, il gruppo di clienti era NULL nei riepiloghi degli ordini degli ospiti, che influenzavano le e-mail di conferma e l’esportazione degli ordini. [GitHub-35440](https://github.com/magento/magento2/issues/35440)

<!-- AC-2811-->

* Lo stato **[!UICONTROL Closed]** è ora assegnato agli ordini virtuali come previsto dopo l&#39;emissione di una nota di credito e il rimborso al cliente. In precedenza, i prodotti virtuali venivano visualizzati come **[!UICONTROL Complete]** nel menu a discesa Stato ma come **[!UICONTROL Closed]** nel piè di pagina dei commenti dell&#39;ordine quando il commento veniva aggiunto dall&#39;amministratore. [GitHub-35283](https://github.com/magento/magento2/issues/35283)

<!-- AC-6641-->

* Gli ospiti possono ora effettuare ordini per prodotti con una quantità inferiore a uno e la quantità di prodotti è ora strettamente digitata come `float`. In precedenza, poiché la quantità di prodotto era strettamente digitata come `int`, gli ordini per una quantità di prodotto inferiore a uno non sono riusciti con questo messaggio: `Some of the products are disabled`. [GitHub-36060](https://github.com/magento/magento2/issues/36060)

<!-- ACP2E-1313-->

* I rimborsi di spedizione ora vengono calcolati correttamente quando l&#39;opzione di configurazione **[!UICONTROL Apply discount on prices]** è impostata su **[!UICONTROL including taxes]**.

<!-- ACP2E-1199-->

* Le griglie di fatture, spedizioni e note di accredito ora vengono aggiornate in modo asincrono dopo l&#39;archiviazione degli ordini.

<!-- ACP2E-1194-->

* Gli ordini duplicati non derivano più da richieste GraphQL simultanee identiche. Le virgolette sono ora bloccate per un massimo di 10 secondi per impedire la creazione di ordini duplicati e la seconda richiesta non riesce con questi errori: `The cart isn't active` o `The order has already been placed and is currently processing`. Questo valore di blocco può essere configurato tramite ID per il parametro `lockWaitTimeout` della classe `Magento\Quote\Model\PlaceOrderMutex`. [GitHub-36274](https://github.com/magento/magento2/issues/36274)

<!-- ACP2E-860-->

* I valori degli attributi della società vengono ora visualizzati come previsto nelle sezioni degli indirizzi di fatturazione e spedizione del flusso di lavoro di pagamento. In precedenza, gli attributi della società non venivano visualizzati correttamente nella pagina dei dettagli dell’ordine perché i negozi non venivano impostati correttamente durante la creazione dell’ordine. I valori degli attributi sono stati memorizzati correttamente solo quando la proprietà **Mostra società** è stata impostata su **[!UICONTROL optional]** per il **sito Web principale** nelle distribuzioni di più store.

<!-- ACP2E-1117-->

* Il valore `customer_address_id` è ora impostato come previsto per un nuovo indirizzo di fatturazione quando la casella di controllo **[!UICONTROL My billing and shipping address are the same]** è selezionata. È stata introdotta una condizione aggiuntiva per identificare se l’indirizzo di fatturazione è uguale all’indirizzo di spedizione prima di impostare l’ID dell’indirizzo del cliente per l’indirizzo di spedizione.

<!-- AC-6057-->

* Sono stati risolti i problemi di concorrenza con l’inserimento dell’ordine. In precedenza, se due ordini venivano inoltrati da browser diversi nello stesso momento, o quasi nello stesso momento, a entrambi veniva assegnato lo stesso ID ordine. [GitHub-35833](https://github.com/magento/magento2/issues/35833)

<!-- AC-6908-->

* L’inserimento di un ordine fatturato automaticamente per un prodotto gratuito quando è abilitata l’indicizzazione asincrona ora funziona come previsto. Nessuna voce aggiunta alla tabella `sales_order_grid or sales_invoice_grid` per questi ordini. In precedenza, Magento Open Source ha generato un&#39;eccezione perché l&#39;applicazione ha tentato di indicizzare le griglie durante il posizionamento dell&#39;ordine invece di affidarsi a `cron`. [GitHub-36334](https://github.com/magento/magento2/issues/36334)


### Metodi di pagamento


<!-- ACP2E-862-->

* Il metodo di pagamento COD non viene più visualizzato nel flusso di lavoro di pagamento della vetrina quando il COD è esentato per il paese specificato negli indirizzi di spedizione e fatturazione. In precedenza, le impostazioni di configurazione dell’amministratore per questa funzione non venivano implementate.

<!-- AC-1119-->

* Le informazioni sul pagamento dell&#39;insieme di credenziali non vengono più visualizzate nella sezione Pagamento del flusso di lavoro di creazione degli ordini dell&#39;amministratore se l&#39;acquirente non ha salvato un token. [GitHub-33954](https://github.com/magento/magento2/issues/33954)

<!-- AC-2688-->

* I prezzi personalizzati non vengono più raddoppiati dopo che uno sconto viene applicato dalla regola prezzo carrello. [GitHub-35154](https://github.com/magento/magento2/issues/35154)

<!-- ACP2E-1120-->

* Il nuovo stato ordine in sospeso viene ora rispettato come previsto quando un ordine viene effettuato utilizzando il metodo di pagamento Totale parziale zero.

<!-- ACP2E-1121-->

* Le impostazioni e-mail degli ospiti vengono ora rispettate durante la creazione degli ordini per un acquirente ospite con PayPal Express tramite GraphQL. In precedenza, l&#39;indirizzo e-mail impostato veniva sostituito dall&#39;indirizzo e-mail impostato nel conto PayPal.


#### Braintree


<!-- BUNDLE-3186-->

* Gli ID ordine vengono ora aggiunti alle richieste di liquidazione per le transazioni di pagamento.

<!-- AC-3030-->

* Magento Open Source non genera più il seguente errore quando un commerciante fa clic su **[!UICONTROL Reports]** > **[!UICONTROL Braintree Settlement]**: `Error: Undefined constant Braintree\PaymentInstrumentType::ANDROID_PAY_CARD in /var/www/html/vendor/paypal/module-braintree-core/Ui/Component/Report/Listing/Column/PaymentType.php:49`. [GitHub-35434](https://github.com/magento/magento2/issues/35434)

<!-- BUNDLE-3043-->

* La query `customerPaymentTokens` non restituisce più token Braintree quando l&#39;insieme di credenziali è disattivato in Amministrazione.

<!-- BUNDLE-3107-->

* Il pulsante **[!UICONTROL Pay Later]** e i banner sono stati abilitati per Italia e Spagna.

<!-- BUNDLE-3137-->

* Gli utenti amministratori possono ora creare un ordine o riordinarlo quando il metodo di pagamento Braintree è abilitato. In precedenza, Magento Open Source ha generato questo errore: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.

<!-- BUNDLE-3139-->

* L&#39;estrazione con il metodo di pagamento Braintree ora viene completata quando Braintree PayPal è abilitato e **[!UICONTROL Enable Card Payments]** è disabilitato. In precedenza, la barra di avanzamento non veniva mai risolta e Magento Open Source visualizzava questo errore della console: `adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66)`. [GitHub-35961](https://github.com/magento/magento2/issues/35961)

<!-- BUNDLE-3140 3141-->

* Sono stati implementati gli hook web per la protezione dalle frodi, il pagamento tramite ACH e il metodo di pagamento locale. Il web hook di protezione dalle frodi viene attivato solo se è stata presa una decisione relativa ai rischi in Braintree. Il Web hook ACH viene attivato solo dopo l&#39;aggiornamento di un pagamento ACH a `settled` o `settlement decline`.

<!-- BUNDLE-3143-->

* I campi di configurazione **[!UICONTROL Tagline]** e **[!UICONTROL Layout]** sono stati rimossi da tutti i pulsanti **[!UICONTROL PayPal]** nella sezione Stile amministratore.

<!-- ACP2E-1229-->

* L&#39;opzione Metodo di pagamento Braintree Vault rimane selezionata nel flusso di lavoro di pagamento quando un acquirente aggiorna il proprio indirizzo di fatturazione. In precedenza, il metodo di pagamento veniva deselezionato quando l&#39;acquirente deselezionava il pulsante **[!UICONTROL My billing and shipping address are the same]**.

<!-- BUNDLE-3184-->

* Gli elementi riga vengono ora passati per le transazioni PayPal quando l&#39;impostazione di configurazione **[!UICONTROL Send Line Items]** è abilitata dall&#39;amministratore.

<!-- BUNDLE-3187-->

* La logica di convalida nel campo Metodo di pagamento ACH **[!UICONTROL Account Number]** ora supporta testo di quattro-17 cifre.

<!-- BUNDLE-3043-->

* La query `customerPaymentTokens` non restituisce più token Braintree quando l&#39;insieme di credenziali è disattivato dall&#39;amministratore.

<!-- BUNDLE-3137-->

* Gli utenti amministratori possono ora creare un ordine o riordinare per i clienti quando è abilitato il metodo di pagamento Braintree. In precedenza, Magento Open Source ha generato questo errore: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`

<!-- BUNDLE-3139-->

* Gli acquirenti possono ora utilizzare il metodo di pagamento Braintree nei negozi in cui **[!UICONTROL Enable Card Payments]** è stato disabilitato. In precedenza, Magento Open Source ha generato questo errore JavaScript: `_adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66).`


#### Prestazioni

<!-- ACP2E-1028-->

* L’indicizzatore dei prezzi ora elimina i dati obsoleti come previsto dopo la sostituzione dei record durante la reindicizzazione parziale di cataloghi di grandi dimensioni. In precedenza, il processo di reindicizzazione rimuoveva i record obsoleti prima di sostituirli, causando la temporanea scomparsa dei prodotti dalla vetrina. [GitHub-35616](https://github.com/magento/magento2/issues/35616)

<!-- ACP2E-963-->

* Le prestazioni del comando `bin/magento/setup:upgrade` sono state migliorate. In precedenza, questo comando ricreava i trigger del database, causando un tempo di inattività significativo durante l’esecuzione del comando. Inoltre, gli indicizzatori non sono tornati alla modalità pianificata e sono rimasti in modalità di salvataggio. [GitHub-33386](https://github.com/magento/magento2/issues/33386)

<!-- ACP2E-1016-->

* L’aggiornamento dei prezzi dei livelli tramite API ora viene eseguito più rapidamente. In precedenza, l&#39;aggiornamento dei prezzi dei livelli generava query `SELECT` non necessarie, che ritardavano l&#39;esecuzione quando molti gruppi di clienti venivano assegnati a un prodotto.

<!-- ACP2E-1307-->

* Il caricamento delle pagine che includono l’elenco dei prodotti per widget di catalogo è stato ottimizzato. In precedenza, gli attributi non globali venivano caricati direttamente dal database.

### Rapporti

<!-- ACP2E-1104-->

* Le date del report Totale ordini **da** e **a** ora vengono visualizzate correttamente dopo la selezione dalla selezione delle date.

<!-- BUNDLE-3147-->

* La costante `ANDROID_PAY_CARD` in `Braintree/Ui/Component/Report/Listing/Column/PaymentType.php` ha sostituito `GOOGLE_PAY_CARD`. Questo risolve i problemi relativi al rapporto Braintree.

### Recensioni

<!-- ACP2E-1214-->

* Gli utenti amministratori con accesso limitato a un ambito specifico possono ora eliminare le revisioni dei prodotti come previsto.

### Ruoli

<!-- ACP2E-1277-->

* È stato aggiunto un ACL mancante per **[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Services]** > **[!UICONTROL OAuth]**. In precedenza, non era possibile definire l’accesso a questa impostazione di configurazione OAuth durante la configurazione delle autorizzazioni del ruolo.


### Ricerca

<!-- ACP2E-989-->

* Le ricerche di stringhe tra virgolette ora funzionano come previsto quando l&#39;impostazione di configurazione **[!UICONTROL Minimum Terms to Match]** è abilitata. In precedenza, Magento Open Source ha generato questo errore: `{"error":{"root_cause":[{"type":"parsing_exception","reason":"[match_phrase] query does not support [minimum_should_match]' ...`.

<!-- ACP2E-877-->

* Il filtro di ricerca **Punto di accesso** per i record dei clienti nelle griglie dei clienti dell&#39;ordine cliente funziona ora come previsto durante la creazione dell&#39;ordine.

<!-- ACP2E-783-->

* La qualità dei suggerimenti di ricerca è stata migliorata per le query con più parole.

<!-- AC-6768-->

* I risultati della ricerca ora includono gli output esauriti delle opzioni per tutti i prodotti disponibili quando **[!UICONTROL Display Out Of Stock Products]** è abilitato [GitHub-36055](https://github.com/magento/magento2/issues/36055)


### Spedizione

<!-- ACP2E-670-->

* Le tariffe di spedizione per FedEx, USPS e UPS vengono calcolate correttamente quando la regola Carrello spedizione gratuita è impostata per corrispondere solo a un sottoinsieme di articoli nel carrello.

<!-- AC-937-->

* Nella pagina Spedizione per amministratori non viene più visualizzata l&#39;opzione di spedizione gratuita se il totale dell&#39;ordine è inferiore all&#39;importo minimo specificato per l&#39;ordine idoneo per la spedizione gratuita. [GitHub-33697](https://github.com/magento/magento2/issues/33697)

<!-- AC-838-->

* Magento Open Source ora rispetta l&#39;impostazione di configurazione del cliente amministratore **[!UICONTROL Show Company]** durante la visualizzazione dell&#39;indirizzo di spedizione o del cliente. Se questa impostazione è disabilitata, la società di spedizione non viene più inclusa nel record di spedizione, nell&#39;indirizzo del cliente o nel record dell&#39;ordine del database. In precedenza, le informazioni venivano visualizzate nonostante la disattivazione dell’impostazione. [GitHub-33729](https://github.com/magento/magento2/issues/33729)

<!-- magento/magento2/pull/35631-->

* È stata rimossa un&#39;operazione di salvataggio superflua sui preventivi durante la stima della spedizione.

<!-- magento/magento2/pull/35817-->

* L&#39;ambito `storeId` è ora applicato direttamente da `$request->getStoreId()` per garantire che l&#39;ambito non venga perso quando un preventivo viene creato da un utente amministratore. In precedenza, si verificavano occasionalmente problemi con i metodi di spedizione quando veniva creato un preventivo dall’amministratore utilizzando moduli di terze parti.

<!-- ACP2E-1304-->

* Gli URL compatibili con SEO vengono ora generati per i prodotti con l&#39;impostazione `url_key` sovrascritta a livello di visualizzazione store. In precedenza, gli URL dei prodotti delle categorie non venivano reindirizzati a URL compatibili con SEO (Search Engine Optimization).

<!-- ACP2E-1196-->

* Magento Open Source non genera più un errore relativo all&#39;importo minimo dell&#39;ordine quando viene applicato uno sconto alle spese di spedizione.

<!-- ACP2E-1190-->

* I rimborsi di spedizione ora vengono calcolati correttamente quando l&#39;imposta viene applicata dopo l&#39;applicazione di uno sconto alla spedizione.

<!-- ACP2E-910 AC-3182-->

* Tutte le promozioni applicabili per un carrello richiesto tramite query GraphQL `cart` vengono restituite insieme. Le promozioni includono sconti per articoli di linea, regole del carrello/sconti, coupon, gift card e credito del negozio. [GitHub-35545](https://github.com/magento/magento2/issues/35545)

<!-- AC-2363-->

* Sono stati aggiunti i tipi `price_excl_tax` e `price_excl_tax` all&#39;output della mutazione `setShippingMethodsOnCart`. [GitHub-31206](https://github.com/magento/magento2/issues/31206)

<!-- AC-1096-->

* Gli ID di spedizione univoci vengono ora passati nelle risposte GraphQL come previsto con i dettagli di spedizione per gli ordini di spedizione a più indirizzi per le query GraphQL.

### Imposta


<!-- AC-3201-->

* L&#39;impostazione di configurazione **[!UICONTROL Display Zero Tax Subtotal]** è ora applicata come previsto per gli ordini nelle distribuzioni che offrono più metodi di spedizione. In precedenza, il campo imposta zero era visibile sulla pagina del carrello durante il pagamento prima che fosse selezionato un metodo di spedizione anche quando questa impostazione era disabilitata. [GitHub-35561](https://github.com/magento/magento2/issues/35561)

<!-- AC-3157-->

* Magento Open Source ora può visualizzare i prodotti raggruppati con l&#39;imposta sulla pagina delle categorie di vetrina nelle distribuzioni che eseguono PHP 8.1. In precedenza, Magento Open Source non visualizzava un elenco di prodotti e generava questa eccezione: `main.CRITICAL: Exception: Deprecated Functionality: ucfirst(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/m24/vendor/magento/module-tax/Pricing/Render/Adjustment.php on line 188 in /var/www/m24/vendor/magento/framework/App/ErrorHandler.php:61`. [GitHub-35500](https://github.com/magento/magento2/issues/35500)

<!-- ACP2E-1258-->

* Gli esercenti non possono più spostare un aggiornamento pianificato in un altro aggiornamento che contiene lo stesso ID regola. In precedenza, gli aggiornamenti della pianificazione per le regole di prezzo del carrello creavano pianificazioni duplicate quando un aggiornamento veniva spostato in un altro aggiornamento che conteneva lo stesso ID regola.

<!-- ACP2E-1295-->

* L&#39;assegnazione automatica del gruppo di clienti ora funziona quando non è associato alcun ID IVA all&#39;indirizzo del cliente. Se l&#39;indirizzo non contiene un ID IVA, viene considerato come appartenente a un cliente non IVA registrato e Magento Open Source modifica il gruppo di clienti in un gruppo non IVA. In precedenza, quando **[!UICONTROL Enable Automatic Assignment to Customer Group]** era abilitato, l&#39;account cliente non veniva assegnato automaticamente a `customerGroup` quando l&#39;ID IVA veniva eliminato dall&#39;account cliente.

<!-- ACP2E-493-->

* Ora vengono visualizzati i blocchi dinamici corretti per le regole del catalogo di staging in modalità anteprima di staging. In precedenza, venivano visualizzati blocchi dinamici non correlati.

<!-- ACP2E-1080-->

* Se durante l&#39;estrazione viene applicata la spedizione multipla, nella sezione Sintetico imposte delle fatture e delle note di accredito vengono ora visualizzate correttamente più imposte.

<!-- ACP2E-1076-->

* Gli sconti non vengono più applicati quando il subtotale di un ordine, imposte incluse, insieme all&#39;importo dell&#39;imposta fissa sul prodotto supera la condizione della regola del carrello nella pagina del carrello. In precedenza, gli sconti venivano applicati anche quando il totale superava la condizione della regola del carrello.

<!-- ACP2E-913-->

* È ora possibile specificare `vat_id` quando si utilizza GraphQL per aggiungere o aggiornare l&#39;indirizzo di un acquirente guest.


### Test

<!-- ACP2E-1171-->

* Sono stati corretti gli errori relativi agli unit test per diverse versioni delle librerie `ICU` e `libxml`.

<!-- ACP2E-1134-->

* Ora gli sviluppatori possono dare istruzioni al sistema di eseguire uno staffaggio di dati in una visualizzazione store specifica. Il nuovo parametro facoltativo `scope` accetta un `string` che corrisponde all&#39;alias dello staffaggio dell&#39;archivio.

<!-- ACP2E-1133-->

* Aggiunta la possibilità di generare più istanze di uno staffaggio dati utilizzando il parametro facoltativo `count`.

<!-- AC-6860-->

* Funzione `array_first` non nativa rimossa dalle dipendenze di sviluppo nel framework MFTF.

### Traduzioni e lingue

<!-- ACP2E-912-->

* La traduzione in linea ora funziona correttamente con i caratteri speciali, inclusi i caratteri Unicode estesi nelle frasi situate nei tag SCRIPT. In precedenza, i caratteri giapponesi venivano rappresentati in modo errato nello script modificato quando si utilizzava la traduzione in linea.

<!-- ACP2E-844-->

* Il carattere `ñ` in un nome di prodotto è ora convertito in `n` durante la generazione della chiave URL.

<!-- AC-3499-->

* L&#39;output dell&#39;esecuzione di `bin/magento i18n:collect-phrases` ora include le traduzioni dei modelli di posta elettronica nei costrutti `depend` come previsto. [GitHub-35449](https://github.com/magento/magento2/issues/35449)

<!-- ACP2E-1135-->

* I caratteri giapponesi possono ora essere immessi direttamente nel set di attributi della pagina di prodotto (casella combinata). In precedenza, l’immissione diretta di caratteri giapponesi in questa casella combinata causava la modifica o l’eliminazione di caratteri durante l’esecuzione del browser Firefox su MacOS. L&#39;attributo HTML `textInput`, che può gestire meglio la conversione dei caratteri giapponesi in tutti i browser, ha sostituito gli attributi `Value` e `valueUpdate`.

<!-- ACP2E-1238-->

* Il metodo `getOptions` ora recupera correttamente i valori delle etichette degli attributi `price` in base alla vista archivio. In precedenza, l&#39;attributo `price` veniva tradotto durante le operazioni di GraphQL per una visualizzazione archivio non corretta.


### UI


<!-- ACP2E-1018-->

* La valuta specifica per il sito Web viene ora utilizzata come previsto per le colonne Prezzo speciale, Costo e PSRM nella griglia dei prodotti Amministratore. In precedenza, il simbolo di valuta corretto non veniva visualizzato nella griglia dei prodotti del catalogo di amministrazione quando si filtrava in base alla visualizzazione del negozio per un prezzo speciale.

<!-- ACP2E-980-->

* La funzionalità di trascinamento delle opzioni personalizzate del prodotto ora funziona come previsto. È ora possibile spostare un’opzione personalizzabile da una pagina all’altra quando nella griglia delle opzioni personalizzabile sono disponibili più pagine.

<!-- ACP2E-866-->

* Nei grafici del dashboard di amministrazione vengono ora visualizzati gli intervalli di tempo da inizio anno dell&#39;anno di calendario corrente alla data corrente, come previsto. In precedenza, gli intervalli di date includevano più di 12 mesi.

<!-- AC-3088-->

* Nella home page della vetrina è stata aggiunta una favicon predefinita mancante. [GitHub-35493](https://github.com/magento/magento2/issues/35493)

<!-- ACP2E-1025-->

* L’amministratore ora visualizza correttamente la data di accesso più recente di ogni utente amministratore. In precedenza, quando un utente amministratore effettuava il primo accesso all’amministratore, nella griglia degli utenti amministratore veniva visualizzato un valore di data di accesso vuoto.


<!-- AC-3762-->

* La funzionalità di anteprima del modello di e-mail (**[!UICONTROL Marketing]** > **[!UICONTROL Communications]** > **[!UICONTROL Email Templates]**) ora visualizza correttamente i modelli. In precedenza, l’immagine di anteprima veniva troncata. [GitHub-35697](https://github.com/magento/magento2/issues/35697)

<!-- magento/magento2/pull/35656-->

* Aggiunta della classe `new-shipping-address-modal` per supportare lo stile del nuovo indirizzo di spedizione modale.

<!-- magento/magento2/pull/35738-->

* Aggiunto testo informativo sotto il campo di input `Storefront Properties` dell&#39;attributo `Search Weight` nell&#39;amministratore **[!UICONTROL Stores]**  > [!UICONTROL Attributes] > **[!UICONTROL Product]**.

<!-- ACP2E-1323-->

* Le anteprime e-mail ora si aprono in una scheda separata invece di una finestra a comparsa, che fornisce una visualizzazione più ampia del contenuto dell’e-mail. In precedenza, il contenuto delle e-mail veniva troncato.

<!-- ACP2E-1299-->

* La funzione filtro per la griglia del ruolo utente (Admin **[!UICONTROL System]** > **[!UICONTROL Permissions]** > **[!UICONTROL User roles]** > **[!UICONTROL Administrators]**) ora funziona come previsto. Il valore dell’array viene ora gestito separatamente. In precedenza, quando si tentava di immettere una query in questa griglia, Magento Open Source generava questo errore della console e la pagina non veniva caricata: `Uncaught TypeError: Cannot read properties of null`. [GitHub-35993](https://github.com/magento/magento2/issues/35993)

<!-- ACP2E-328-->

* È stata aggiunta la convalida dei valori degli attributi durante la creazione di un cliente tramite l’API REST. Il processo di creazione ora ha esito negativo quando vengono forniti valori di attributi non validi. In precedenza, non vi era alcuna convalida per il genere, che non è un campo obbligatorio. Durante la creazione del cliente, il valore passato per il genere è stato salvato nella tabella `customer_entity`.

<!-- ACP2E-1105-->

* Gli indirizzi aggiunti durante l’estrazione ora mantengono il formato previsto. In precedenza, le righe vuote venivano ignorate.

<!-- ACP2E-897-->

* La modifica della vista griglia delle colonne della griglia del prodotto e la selezione di nuove colonne per una vista personalizzata non attivano più l’azione Seleziona tutte le colonne della griglia. In precedenza, la casella della colonna scompariva e i prodotti nella griglia venivano selezionati o deselezionati. [GitHub-36302](https://github.com/magento/magento2/issues/36302)

<!-- ACP2E-1245 1405-->

* Gli utenti amministratori possono ora cancellare il registro delle attività completate dall’amministratore. In precedenza, l&#39;amministratore visualizzava questo errore: `Something went wrong`. [GitHub-36255](https://github.com/magento/magento2/issues/36255)

<!-- AC-7525-->

* L&#39;impostazione dell&#39;intestazione del tema `Welcome Text` può ora contenere virgolette singole. In precedenza, Magento Open Source ha generato questo errore JavaScript: `Uncaught SyntaxError: Unable to process binding "ifnot: function(){return customer().fullname }"`.

### Riscritture URL

<!-- ACP2E-808-->

* La modifica della visibilità del prodotto in **[!UICONTROL Not Visible Individually]** nell&#39;ambito globale Tutte le visualizzazioni dello store ora rimuove solo le riscritture URL per le visualizzazioni dello store che non hanno sostituito l&#39;attributo di visibilità. Se si modifica in questo modo la visibilità del prodotto, vengono generate anche le riscritture URL per tutte le visualizzazioni dello store, incluse quelle che hanno sostituito l’attributo chiave URL (ma non l’impostazione di visibilità). In precedenza, le regole di riscrittura URL non venivano applicate quando venivano modificate le impostazioni di visibilità.

### Framework API web

<!-- ACP2E-1207-->

* L&#39;API REST `DELETE /rest/V1/products/:sku/media/:entryId` ora restituisce un messaggio di errore se l&#39;immagine non viene rimossa dal prodotto perché assegnata a un ruolo in altre visualizzazioni dello store. In precedenza, l’API restituiva una risposta corretta anche quando l’immagine non veniva rimossa correttamente.

<!-- ACP2E-1155-->

* Gli esercenti possono ora utilizzare l’API REST per creare una nota di credito per un ordine con totale complessivo pari a zero. In precedenza, Magento Open Source visualizzava questo errore: `The order does not allow a credit memo to be created. The credit memo's total must be positive. We can't create a credit memo for the invoice/order`.

<!-- ACP2E-1136-->

* La pagina di modifica del prodotto Amministratore ora riflette accuratamente le assegnazioni di un prodotto dopo che l’assegnazione del sito web del prodotto è stata modificata utilizzando l’API REST. [GitHub-36281](https://github.com/magento/magento2/issues/36281)

<!-- ACP2E-863-->

* Non è più possibile includere ID di opzione duplicati per gli attributi a selezione multipla durante richieste REST API in massa per l’aggiornamento dei prodotti. In precedenza, era possibile impostare ID opzione duplicati per gli attributi a selezione multipla quando si inviava una richiesta API in blocco per aggiornare un prodotto. Quando l&#39;attributo di selezione multipla è stato configurato per l&#39;inclusione nella navigazione a livelli, l&#39;indicizzazione EAV non è riuscita con un errore `Duplicate entry`.

<!-- ACP2E-778-->

* I nomi dei prodotti nei carrelli acquisti ora utilizzano i valori della vista negozio specificata come previsto. In precedenza, i nomi dei prodotti nel carrello restituivano sempre il valore predefinito per la visualizzazione archivio nelle risposte al carrello REST API.

<!-- AC-5986-->

* Ora è possibile aggiornare i valori delle opzioni personalizzate dell’elemento del carrello utilizzando l’API REST. [GitHub-35768](https://github.com/magento/magento2/issues/35768)

<!-- AC-1330-->

* Le richieste API in blocco per più di 20 `sourceItems` ora vengono completate correttamente nelle distribuzioni in cui Inventory è abilitato.

<!-- ACP2E-1044-->

* Il servizio valuta Fixer ora funziona come previsto con le chiavi generate tramite ApiLayer e i tassi di valuta vengono esportati correttamente. In precedenza, Magento Open Source generava un errore quando un commerciante tentava di importare i tassi di valuta tramite l’amministratore.

<!-- ACP2E-726-->

* È ora possibile utilizzare la richiesta REST API `/rest/V1/bulk?searchCriteria[filter_groups]` per eseguire query sulle operazioni in blocco in base ai criteri di ricerca. In precedenza, veniva restituito il seguente errore: `report.CRITICAL: Report ID: webapi-624bbb1db96c4; Message: Item (Magento\AsynchronousOperations\Model\Operation) with the same ID "0" already exists.`

<!-- magento/magento2/pull/36147-->

* I prezzi dei prodotti ora vengono aggiornati correttamente sia nelle pagine di ricerca del catalogo dell’amministratore che in quelle della vetrina tramite l’API Gestisci prezzo base. [GitHub-33767](https://github.com/magento/magento2/issues/33767)


### Lista dei desideri


<!-- ACP2E-1013-->

* Dopo l’accesso, gli acquirenti possono ora aggiungere prodotti alla loro lista dei desideri. In precedenza, a causa di problemi con la convalida della chiave del modulo dopo l’accesso, la chiave del modulo inviata con la richiesta di aggiunta alla lista dei desideri veniva invalidata.

<!-- ACP2E-341-->

* I prodotti vengono ora aggiunti come previsto alla lista dei desideri dalla lista dei prodotti e vengono visualizzate le pagine dopo che un cliente ospite conferma il proprio account da un’e-mail di conferma. In precedenza, i prodotti non venivano aggiunti alla lista dei desideri dopo la conferma dell’account.

<!-- ACP2E-1175-->

* La query `addProductsToWishlist` ora restituisce un messaggio di errore informativo quando un acquirente tenta di aggiungere un elemento a una lista dei desideri con un valore non valido per l&#39;opzione personalizzata `select` del prodotto. In precedenza, mancava la convalida del server per il valore dell’opzione personalizzata dell’elenco a discesa, che causava un valore non valido nel database. L&#39;endpoint ha restituito l&#39;errore interno del server: `GraphQL endpoint returns Internal server error with "Call`.

## Problema noto

**Problema**: non è possibile creare una nota di accredito se la spedizione gratuita è abilitata (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Sales]** > **[!UICONTROL Delivery Methods]**) e il prezzo di spedizione visualizzato include le imposte. Quando si tenta di creare una nota di credito, Adobe Commerce genera l&#39;eccezione: `"Division by zero".vendor/magento/module-sales/Model/Order/Creditmemo/Total/Tax.phpLine 139`. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

**Soluzione**: è ora disponibile un hotfix per questo problema. Vai a [Strumento Patch di qualità: cerca le patch](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html) e cerca la patch ACSD-50814.

## Contributi comunitari

Siamo grati alla comunità Magento Open Source in senso lato e desideriamo esprimere il nostro apprezzamento per il contributo fornito a questa versione.

Il team di progettazione della community [collaboratori Magento](https://magento.biterg.io/app/kibana) mantiene un elenco dei principali collaboratori e partner per mese, trimestre e anno. Dalla pagina Collaboratori, puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi dei partner

Nella tabella seguente vengono evidenziati i contributi dei partner. Questa tabella elenca il Partner che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-6-partner.md}}

### Contributi dei singoli collaboratori

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca il membro della community che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-6-issues.md}}

## Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, vedere [Requisiti di sistema](../../../installation/system-requirements.md).

## Istruzioni di installazione e aggiornamento

È possibile installare Magento Open Source 2.4.6 utilizzando [Composer](../../../installation/composer.md).
