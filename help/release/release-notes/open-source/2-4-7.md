---
title: Note sulla versione di Magenti Open Source 2.4.7-beta1
description: Scopri le nuove funzioni, i miglioramenti, le correzioni di bug e i problemi noti nella versione di Magento Open Source 2.4.7-beta1.
badgeCoreBeta: label="2.4.7-beta1" type="informative"
source-git-commit: 9b66aecb2fc4e84a34320e66272acf446a03b32a
workflow-type: tm+mt
source-wordcount: '6831'
ht-degree: 0%

---


# Note sulla versione di Magenti Open Source 2.4.7-beta1

>[!IMPORTANT]
>
>I rilasci beta possono contenere difetti e sono forniti &quot;COSÌ COME SONO&quot; senza alcuna garanzia di alcun tipo. Adobe non avrà alcun obbligo di mantenere, correggere, aggiornare, modificare, modificare o supportare in altro modo (tramite i servizi di supporto Adobe o in altro modo) le versioni beta. Si consiglia ai clienti di prestare cautela e di non fare affidamento in alcun modo sul corretto funzionamento o sulle prestazioni delle versioni beta e/o di qualsiasi documentazione o materiale di accompagnamento. Di conseguenza, qualsiasi utilizzo delle versioni beta è interamente a rischio del cliente.

Il Magento Open Source 2.4.7-beta1 include oltre 140 correzioni e miglioramenti di qualità. Le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti disponibili. È stato aggiunto il supporto per Composer 2.5, mentre Composer 2.2.x rimane supportato.

Questa versione migliora la copertura di GraphQL per gli attributi personalizzati e le funzionalità avanzate di caching di GraphQL.

{{bics}}

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con le versioni del codice core del Magento Open Source, molti di questi progetti sono anche rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Magento Open Source 2.4.7-beta1

Il Magento Open Source 2.4.7-beta1 è stato testato sulle seguenti versioni dei componenti:

* Compositore 2.5
* Elasticsearch 8.5
* MariaDB 10,6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 e 8.1
* RabbitMQ 3.11
* Redis 7.0
* Vernice 7.3

Il nostro stack tecnologico è basato su PHP e MySQL. Consulta [Requisiti di sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Punti salienti del Magento Open Source 2.4.7-beta1

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti di sicurezza

Questa versione include 13 correzioni di sicurezza e miglioramenti di sicurezza della piattaforma.

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere il tuo amministratore, incluse, ma non solo, queste iniziative:

* INSERIRE NELL&#39;ELENCO CONSENTITI IP
* [autenticazione a due fattori](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* utilizzo di una VPN
* utilizzo di una posizione univoca anziché `/admin`
* corretta igiene della password

Consulta [Bollettino sulla sicurezza degli Adobi](https://helpx.adobe.com/security/products/magento/apsb23-35.html) per le ultime discussioni su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

I miglioramenti della sicurezza per questa versione migliorano la conformità alle best practice di sicurezza più recenti, inclusa questa modifica, che introduce una modifica nel comportamento predefinito di un endpoint REST esistente:

Il comportamento predefinito del [`isEmailAvailable`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) query GraphQL e ([`V1/customers/isEmailAvailable`](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)a) L&#39;endpoint REST è stato modificato. Per impostazione predefinita, l’API ora restituisce sempre `false`. I commercianti possono abilitare il comportamento originale, che consiste nel `true` se l’e-mail non esiste nel database e `false` se esiste. <!-- AC-6695 -->

### Miglioramenti alla piattaforma

Gli aggiornamenti della piattaforma per questa versione migliorano la conformità alle best practice di sicurezza più recenti. Il Magento Open Source 2.4.7-beta1 introduce:

* Compositore 2.5.x. La compatibilità con Composer 2.2.x rimane.  <!-- AC-8129 -->

* **Supporto per la cache di vernice 7.3**. Questa versione è compatibile con la versione più recente di Varnish Cache 7.3. La compatibilità rimane con le versioni 6.0.x e 7.2.x, ma si consiglia di utilizzare il Magento Open Source 2.4.7-beta1 solo con Vernice Cache versione 7.3 o 6.0 LTS.

* **Supporto di RabbitMQ 3.11**. Questa versione è compatibile con l’ultima versione di RabbitMQ 3.11. La compatibilità rimane con RabbitMQ 3.9, che è supportato fino ad agosto 2023, ma è consigliabile utilizzare il Magento Open Source 2.4.7-beta1 solo con RabbitMQ 3.11.

#### Altri aggiornamenti e sostituzioni

Le librerie JavaScript obsolete sono state aggiornate alle versioni più recenti, tra cui:

* `moment.js` libreria (v2.29.4) <!-- AC-7389 -->
* `jQuery UI` libreria (v1.13.2)  <!-- AC-7775 -->
* `jQuery` libreria del plug-in di convalida (v1.19.5) <!-- AC-8077 -->

### GraphQL

Questa versione offre funzionalità avanzate di caching di GraphQL e supporto allo schema GraphQL per gli attributi EAV dei clienti, tra cui:

* **Supporto migliorato per attributi personalizzati**. Il supporto degli attributi personalizzati di GraphQL è stato migliorato arricchendo i dati API in modo da supportare ora tutti i tipi di attributi. Lo schema degli attributi EAV di GraphQL ora supporta l’estensione degli attributi del cliente e degli oggetti dell’indirizzo del cliente nell’Admin e il loro recupero tramite GraphQL. Le aree specifiche di miglioramento includono: <!-- LYNX-61 110-->

   * estensione/aggiunta del supporto di attributi personalizzati ad aree specifiche come l’indirizzo del cliente
   * aggiunta della cache per gli attributi personalizzati
   * supporto migliorato degli attributi personalizzati esistenti per i prodotti

* **Le funzionalità avanzate di caching di GraphQL migliorano la velocità di caricamento delle pagine**. È stata aggiunta la funzionalità di memorizzazione in cache a queste query, che migliora la velocità di caricamento delle pagine per la maggior parte delle pagine PWA:

   * [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) <!-- B2B-2487 2258 -->
   * [`currency`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/) <!-- B2B-2255 -->
   * [`countries`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) e [`country`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/) <!-- B2B-2256 -->
   * [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) <!-- B2B-2257 -->
   * [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata) <!-- B2B-2259 -->

* **Nuovi tipi di cache del resolver GraphQL** include:
   * Pagina CMS. Memorizza nella cache i risultati del risolutore pagina CMS.  <!-- B2B-2451 -->
   * Blocchi CMS. In questo modo vengono memorizzati nella cache i risultati restituiti da `Magento\CmsGraphQl\Model\Resolver\Blocks::resolve`. <!-- B2B-2659 -->

* Le prestazioni del parser GraphQL sono migliorate riducendo il numero di volte in cui `parse` viene chiamato per richiesta. Ora si chiama una volta. In precedenza, il parser veniva chiamato almeno tre volte. <!-- B2B-2606 -->

#### Nuova query

[`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) <!-- LYNX-152 160-->

#### Query obsolete

* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) <!-- LYNX-77-->
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Metapackage estensione Magento Open Source

Questa versione introduce il metapackage di estensione del Magento Open Source v1.0.0-beta1, che riunisce automaticamente il [Servizi di pagamento](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html) con questa versione di base. La versione di questa estensione inclusa in questo metapackage viene installata quando `composer update` viene eseguito, semplificando il processo di aggiornamento dell’estensione quando si esegue l’aggiornamento alla versione core più recente. Questa estensione mantiene una pianificazione di rilascio indipendente.

Le versioni future di questo metapacchetto di estensione conterranno estensioni aggiuntive.

### Page Builder

Page Builder v.1.7.4 è compatibile con il Magento Open Source 2.4.7-beta1.

### PWA Studi

PWA Studi v.13.2.x è compatibile con il Magento Open Source 2.4.7-beta1. Include diversi miglioramenti per migliorare l’accessibilità. Per informazioni sulle correzioni di bug, consulta [Versioni di PWA Studi](https://github.com/magento/pwa-studio/releases). Consulta [Compatibilità delle versioni](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studi e delle relative versioni compatibili di base del Magento Open Source.

## Problemi risolti

Sono stati risolti centinaia di problemi nel codice core del Magento Open Source 2.4.7-beta1. Di seguito è descritto un sottoinsieme dei problemi risolti inclusi in questa versione.

### Installazione, aggiornamento, distribuzione

<!-- ACP2E-1505 -->

* Il `bin/magento setup:upgrade` Il comando non ha più esito negativo con questo tipo di errore relativo al limite di memoria MySQL: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. La migrazione di attributi a selezione multipla è stata ottimizzata per consumare meno memoria durante `setup:upgrade`.

<!-- ACP2E-1751 -->

* La generazione di un backup del database ora funziona come previsto sia dalla riga di comando Admin che da quella. Precedentemente, il Magento Open Source aveva generato questo errore: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 1605-->

* In esecuzione `setup:config:set` senza specificare `--lock-db-prefix` Il parametro non cancella più il valore corrente dal `env.php` file.

<!-- ACP2E-1498 -->

* La configurazione della vernice è stata aggiornata per impedire agli utenti guest di accedere ai contenuti memorizzati nella cache relativi ad altri gruppi di clienti.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` ora viene completato correttamente durante l’installazione di un nuovo modulo che installa sia le tabelle che i moduli associati `mview` indici.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` ora visualizza un messaggio di errore più informativo quando un argomento della coda di messaggi non include un nome di argomento. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` ora visualizza un messaggio di errore più informativo quando i file XML uniti non sono validi. Il messaggio di errore ora include il nome del file.

### Prodotti bundle

<!-- ACP2E-1478 -->

* I prodotti bundle ora vengono importati correttamente senza duplicare le SKU nelle opzioni del prodotto. In precedenza, il Magento Open Source creava più SKU duplicate nelle opzioni del prodotto quando importava i prodotti in bundle con voci duplicate.

<!-- ACP2E-1388 -->

* Il prezzo del prodotto del bundle ora viene calcolato correttamente quando uno dei prodotti nel bundle è esaurito. In precedenza, se un prodotto che faceva parte del bundle era esaurito, veniva rimosso dal calcolo del prezzo.

<!-- ACP2E-1503 -->

* I prodotti in bundle vengono ora visualizzati come esauriti al momento dell’acquisto dell’ultimo dei prodotti secondari richiesti. In precedenza, i prodotti in bundle venivano visualizzati come in magazzino sul negozio quando i loro prodotti semplici erano esauriti.

<!-- ACP2E-1443 -->

* Problemi di prestazioni durante l’aggiunta di prodotti bundle con opzioni non richieste al carrello utilizzando `addBundleProductsToCart` mutazione sono state risolte.

<!-- ACP2E-1264 -->

* Il `categoryList` query ora restituisce tutte le opzioni del bundle come previsto quando **[!UICONTROL Show out-of-stock products]** l&#39;impostazione di configurazione è attivata. In precedenza, le opzioni esaurite non venivano incluse nella risposta alla query.

<!-- ACP2E-1345 -->

* Prodotti bundle creati con `POST V1/products` operazione riuscita quando l&#39;ambito del prezzo del catalogo è impostato su `website`. In precedenza, si verificava una violazione del vincolo di integrità. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Cache

<!-- ACP2E-1524 -->

* La cache delle pagine viene ora cancellata come previsto per un prodotto principale quando uno dei suoi prodotti secondari è stato salvato dall’amministratore. È stato introdotto un controllo del plug-in per raggiungere l’invalidazione della cache per le varianti configurabili, simile ad altri tipi di prodotto, indipendentemente dallo stato dell’indicizzatore (pianificato o in tempo reale). In precedenza, i prezzi non venivano aggiornati correttamente sullo storefront dopo l’aggiornamento di una variante configurabile da parte dell’amministratore.

<!-- ACP2E-1454 -->

* È stato aggiunto un meccanismo di caching per le credenziali di AWS. Un provider di credenziali ora utilizza la cache del Magento per memorizzare nella cache le credenziali recuperate da AWS per la configurazione EC2.

<!-- AC-7639 -->

* Il plug-in il cui scopo è quello di aggiungere il tag della cache configurabile quando viene salvato un prodotto semplice associato a un prodotto configurabile ora funziona come previsto. Tutti i tag della cache configurabili rilevanti vengono rimossi come previsto quando un prodotto semplice viene aggiornato da `POST V1/products`. In precedenza, non tutti i prezzi venivano aggiornati nella vetrina e le cache dovevano essere cancellate manualmente. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Carrello e pagamento

<!-- ACP2E-1580 -->

* Il calcolatore delle imposte sul carrello e della spedizione ora riflette con precisione la configurazione di destinazione predefinita. In precedenza, quando configuravi le impostazioni predefinite di calcolo della destinazione fiscale e specificavi Stato/Area geografica e CAP, nel carrello veniva visualizzato solo il valore ZIP **[!UICONTROL Estimate Tax and Shipping]**. Il risultato è stato l’impostazione da parte del Magento Open Source dell’ID di regione su non definito prima di richiamare l’istruzione condizionale che imposta l’ID di regione predefinito dall’amministratore.

<!-- ACP2E-1547 -->

* Il Magento Open Source non genera più questo errore durante l’estrazione quando il carrello acquisti persistente è abilitato: `Invalid state change requested`. In precedenza, quando veniva generato questo errore, venivano emessi più ordini con lo stesso `quote_id` sono stati creati occasionalmente.

<!-- ACP2E-1456 -->

* Il mini carrello ora visualizza i prezzi dei prodotti del bundle che riflettono le impostazioni di configurazione dell’imposta del carrello. In precedenza, il mini carrello includeva sempre le imposte nei prezzi dei prodotti bundle.

<!-- AC-7503 -->

* La stima della spedizione fornita dalla pagina del carrello è ora accurata. `collectShippingRates` è ora impostato una sola volta. In precedenza, la stima della spedizione veniva duplicata. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* Il `cart` query non restituisce più un errore quando un prodotto nel carrello specificato è esaurito. In precedenza, gli acquirenti che utilizzavano questa query per effettuare un acquisto non potevano completare l’acquisto quando un articolo era esaurito e la pagina di pagamento era vuota.

<!-- ACP2E-1459 -->

* Richieste API guest a `POST V1/default/V1/guest-carts/<cartId>/shipping-information` non restituisce più un `cancel` stato se la pagina viene ricaricata durante l’accesso in un ambiente mobile. In precedenza, il Magento Open Source aveva generato un errore 500 e aveva registrato questa eccezione: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* L&#39;idoneità per la spedizione gratuita viene ora calcolata come previsto quando **[!UICONTROL Subtotal (Excl. Tax)]** viene applicata la condizione per le regole del carrello. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* Il `cart` query ora restituisce il prezzo di livello corretto per un prodotto. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- AC-1162 -->

* Sono stati aggiunti messaggi di errore informativi alla pagina di pagamento per guidare gli acquirenti quando l’applicazione di un coupon sulla pagina di spedizione è in conflitto con il metodo di spedizione selezionato. In precedenza, un messaggio indicava agli acquirenti di tornare alla pagina precedente.

<!-- ENGCOM-8387 -->

* Il popup di autenticazione ora viene inizializzato solo quando è necessario invece che ogni volta che viene abilitato il check-out guest. Ora viene inizializzato quando l&#39;acquirente guest tenta di procedere all&#39;estrazione e l&#39;estrazione guest è disabilitata. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Regola prezzo carrello

<!-- ACP2E-1516 -->

* Le regole di prezzo del carrello vengono ora applicate come previsto quando per il negozio viene configurata una regola di prezzo del carrello correlata a un metodo di spedizione e questo metodo viene modificato in un altro durante il check-out. Precedentemente, il `applied_rule_ids` il valore non è mai stato modificato in `sales_order_item` e la regola del prezzo del carrello non è stata applicata all’ordine.

<!-- AC-2044 -->

* I coupon vengono ora applicati correttamente a un ordine quando un acquirente applica il coupon dopo aver selezionato il metodo di spedizione a tariffa fissa in cui si applica una regola di prezzo del carrello con il metodo di spedizione impostato come condizione. In precedenza, nella pagina del carrello venivano visualizzati i `Coupon is Not valid` e il coupon non è stato applicato. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

### Catalogo

<!-- ACP2E-1479 -->

* Il Magento Open Source non visualizza più un messaggio di avviso quando si salva un prodotto creato con opzioni personalizzate dopo l&#39;eliminazione dell&#39;immagine.

<!-- ACP2E-1419 -->

* Le immagini delle miniature dei prodotti vengono ora visualizzate come previsto nell’e-mail di avviso sulle scorte di prodotto inviata quando un prodotto è di nuovo disponibile. In precedenza, questa immagine non veniva visualizzata nell’e-mail di avviso

<!-- AC-3003 -->

* Il conteggio dei prodotti nella struttura ad albero delle categorie (Amministratore **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) è ora accurato. In precedenza, non era possibile recuperare il conteggio dei prodotti della categoria dal `catalog_category_product_index` tabella. È stato corretto l’errore di battitura che ha attivato questo bug. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* L’immagine principale del prodotto nella pagina dei dettagli del prodotto non si sposta più in modo visibile verso il basso durante il caricamento della pagina quando `product_image_white_borders` nel tema `view.xml` è disabilitato. In precedenza, l’immagine del prodotto veniva spostata visibilmente verso il basso durante il caricamento della pagina a causa di impostazioni di altezza non corrette in Fotorama JS.

<!-- ACP2E-1361 -->

* Ora i clienti vengono avvisati del calo del prezzo del prodotto quando si sottoscrivono avvisi di calo del prezzo. In precedenza, le notifiche di calo dei prezzi non venivano sempre inviate a causa del caching a livello di applicazione.

<!-- ACP2E-1422 -->

* È stata aggiunta la convalida lato server al processo di creazione degli attributi del prodotto tramite l’API web. Non è possibile abilitare **[!UICONTROL Use in Layered Navigation Catalog]** campo quando **[!UICONTROL Catalog Input Type for Store Owner]** il valore del campo è `Text Field`,  `Text Area`,  `Text Editor`, `Date`, o `Date and Time`. In precedenza, i prodotti venivano omessi dalle categorie e dai risultati di ricerca.

<!-- ACP2E-1413 -->

* La pagina della categoria ora viene ricaricata con l’impaginazione corretta dopo che un acquirente apre la pagina, modifica l’impaginazione, passa a una pagina di prodotto e quindi ritorna alla pagina della categoria.  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* I prodotti semplici esauriti che sono opzioni per un prodotto configurabile ora vengono visualizzati come disabilitati nella vetrina quando **[!UICONTROL Display Out of Stock Products]** è impostato su **Sì**. In precedenza, tutte le opzioni venivano visualizzate come disponibili, nonostante il loro stato e la loro disponibilità reale.

<!-- ACP2E-1384 -->

* L&#39;aggiornamento dell&#39;attributo dell&#39;ambito del sito Web in una visualizzazione archivio specifica non esclude più il valore di tale attributo nell&#39;ambito globale. In precedenza, importando i prezzi dei prodotti quando sono disponibili più righe con la stessa SKU e `store_view_code` ha prodotto prezzi non accurati per gli ambiti di visualizzazione predefiniti e Tutti gli store.

<!-- ACP2E-1632 -->

* Gli esercenti possono ora aggiungere un’immagine GIF alla galleria di immagini di un prodotto dall’Amministratore. In precedenza, il Magento Open Source visualizzava questo errore:  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Sono stati aggiunti controlli per gestire gli errori derivanti da chiavi di matrice non definite. In precedenza, si verificava un errore durante la generazione della whitelist dello schema dichiarativo.

<!-- ACP2E-1749 -->

* Il Magento Open Source ora restituisce un risultato valido per la data personalizzata `01/01/1970`. In precedenza, l’attributo personalizzato restituiva questo errore: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` le query che utilizzano i frammenti ora restituiscono le informazioni sulla categoria come previsto. In precedenza, si verificava un errore interno del server nella pagina della categoria. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problemi relativi a `cataloginventory_stock` il processo di reindicizzazione parziale è stato risolto e le prestazioni dell’indicizzatore sono migliorate. In precedenza, le categorie di prodotti e scorte non venivano aggiornate con precisione.

<!-- AC-8226 -->

* Il Magento Open Source ora genera un reindirizzamento 301 per un prodotto quando la categoria a cui appartiene è stata spostata in un nuovo elemento padre. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Regole del catalogo

<!-- ACP2E-1579 -->

* Le regole del catalogo vengono ora applicate come previsto in un ambiente multisito.

### Coupon

<!-- ACP2E-1551 -->

* Gli acquirenti possono ora utilizzare due codici coupon generati automaticamente separati che sono stati generati dalla stessa regola di prezzo del carrello. Il `Uses per Coupon` è ora abilitato quando il tipo di coupon selezionato per `Auto` (simile per il tipo di cedola =`Specific Coupon`). Ciò a sua volta consente all’acquirente di applicare più codici coupon allo stesso prezzo del carrello, se i codici sono diversi.

<!-- ACP2E-1496 -->

* Il valore del coupon monouso di un acquirente viene ora ripristinato come previsto quando l’ordine a cui era applicato viene annullato.

<!-- ACP2E-1195 -->

* Il `GET V1/coupons/<couponId>` l’endpoint ora restituisce la risposta completa prevista per i coupon creati manualmente, come per i coupon generati automaticamente.  In precedenza, alcuni campi venivano omessi (ad esempio, `usage_limit`, `usage_per_customer`, e `created_at`).

### cron

<!-- AC-7987 -->

* Gli utenti amministratori possono ora visualizzare quale attività `bin/magento cron:run` processo attualmente in esecuzione. Il titolo del processo attualmente in esecuzione elenca i nomi dei gruppi e dei processi. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Cliente

<!-- AC-6748 -->

* Il Magento Open Source ora visualizza il **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]**, e **[!UICONTROL Fax]** campi nella pagina modifica cliente in base alle impostazioni di configurazione. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### E-mail

<!-- ACP2E-1529 -->

* I dettagli dell’amministratore della società ora vengono salvati come previsto e gli amministratori vengono reindirizzati correttamente, quando le e-mail di assegnazione dell’amministratore della società contengono un `CMS Block URL` variabile.

<!-- AC-2903 -->

* Gli indirizzi e-mail dei clienti possono ora includere segni diacritici. In precedenza, la convalida front-end impediva la creazione di un utente con segni diacritici nel suo indirizzo e-mail. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Le e-mail di avviso relative a titoli e prezzi ora vengono tradotte in base alla lingua configurata per la visualizzazione predefinita del sito web store. In precedenza, queste e-mail non venivano tradotte.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` ora invia un’e-mail che avvisa i clienti che un ordine è pronto per essere ritirato solo quando l’ordine è pronto. L’e-mail ora viene attivata solo quando la richiesta è stata soddisfatta senza un’eccezione.

### Framework

<!-- ACP2E-1492 -->

* Mutex è stato implementato per gli ordini di evitare race condition durante l&#39;aggiornamento da richieste simultanee. In precedenza, le richieste simultanee (race condition) per l’annullamento di ordini causavano la duplicazione delle voci in `inventory_reservation` tabella.

<!-- ACP2E-1381 -->

* Il `populateWithArray` ora la funzione trasforma correttamente le proprietà dell’oggetto in una custodia, rendendola compatibile con `AbstractModel` getter e setter. In precedenza, la formattazione delle maiuscole/minuscole dei serpenti era errata quando il nome dell’attributo dei dati conteneva diverse lettere maiuscole in una riga.

<!-- ACP2E-1522 -->

* Il valore di incremento automatico nel `catalog_product_entity_varchar` La tabella ora viene incrementata correttamente dopo il salvataggio di un prodotto. In precedenza, questo valore aumentava di dieci volte.

<!-- ACP2E-1701 -->

* Il Magento Open Source non genera più questa eccezione di file system quando si tenta di svuotare la cache JavaScript/CSS:  `No such file or directory`.

<!-- ACP2E-1358 -->

* Il valore di `value_id` in `customer_entity_int` viene ora incrementato correttamente. Viene eseguita una query di aggiornamento anziché `insert on duplicate key update` quando si aggiorna un’entità che incorpora questi attributi. Di conseguenza, le colonne di incremento automatico utilizzate nel modello EAV crescono ora in modo lineare. In precedenza, il processo di incremento automatico per le colonne ignorava i valori a causa di query di inserimento non riuscite. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* È stato rimosso uno spazio vuoto non necessario da `id` attributi che non lo richiedono. Questo bug è stato introdotto da una modifica al codice di Magento Open Source 2.4.6.

<!-- AC-7923 -->

* I codici store non vengono più visualizzati nell&#39;URL store quando lo store è in modalità single-store. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Sono stati apportati aggiornamenti minori a `around` plug-in. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Campioni `Helper` è stato sottoposto a refactoring per rimuovere gli alias di importazione fuorvianti. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Ora gli utenti amministratori possono eliminare o rinominare un `sitemap.xml` come previsto. In precedenza, un utente amministratore poteva eliminare il file dall’amministratore, ma rimaneva nel file system.  [GitHub-37468](https://github.com/magento/magento2/issues/37468)


<!-- ACP2E-1747 -->

* I coupon non vengono più contrassegnati come utilizzati quando il pagamento non riesce per l’ordine a cui sono stati applicati. I messaggi della coda vengono ora elaborati nell&#39;ordine in cui vengono pubblicati all&#39;avvio del consumer. In precedenza, il primo messaggio veniva estratto dalla coda per verificare semplicemente se i messaggi erano in coda e veniva successivamente rifiutato, causando l’ultima elaborazione del primo messaggio.

<!-- ACP2E-1627 -->

* Il Magento Open Source non genera più un&#39;eccezione nel file di registro quando un utente tenta di stampare un&#39;etichetta di spedizione. In precedenza, se un’estensione modifica le intestazioni di risposta che contengono un allegato, il sistema generava un’eccezione nel file di registro.

<!-- AC-7986 -->

* È stato aggiunto il supporto per altre classi HTML a `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)

### Correzioni generali

<!-- ACP2E-1508 -->

* Gli errori non si verificano più durante le richieste di un feed RSS per le categorie quando **[!UICONTROL RSS Feed Top Level Category]** è abilitato. Precedentemente, la navigazione nella pagina della categoria di feed RSS generava un Elasticsearch `CRITICAL` errori nei file di registro quando **[!UICONTROL RSS Feed Top Level Category]** è stato abilitato.

<!-- ACP2E-1490 -->

* Il valore corretto viene ora salvato per `gws_store_groups` quando l’ambito del ruolo viene modificato durante la creazione del ruolo utente. In precedenza, quando l’ambito del ruolo era selezionato come `All`, il `gws_store_groups` il valore è stato salvato come nullo durante la creazione dell&#39;utente, ma non durante la modifica del ruolo. Inoltre, se l’ambito del ruolo è stato selezionato come `Custom`, quindi `gws_store_groups` il valore è sempre stato salvato come nullo.

<!-- ACP2E-1446 -->

* È ora possibile accedere alla pagina di reimpostazione della password facendo clic sul collegamento Reimpostazione password amministratore nella pagina di accesso amministratore quando **[!UICONTROL Add Store Code to Urls]** è attivata. Il collegamento per la reimpostazione della password amministratore ha aperto in precedenza la pagina di accesso o la pagina 404.

<!-- ACP2E-1274 -->

* L’intervallo di date nel dashboard Statistiche amministratore viene ora calcolato in base al fuso orario impostato nelle impostazioni di configurazione, quindi convertito in UTC per recuperare i dati dal database.

<!-- ACP2E-1665 -->

* Il filtro della gerarchia CMS funziona come previsto dopo aver filtrato una vista dello store e aver fatto clic su **[!UICONTROL Save]** su Amministratore **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Precedentemente, facendo clic su **[!UICONTROL Save]** ha aggiornato la pagina, ma il contesto è andato perso e la visualizzazione dello store selezionata non è più visualizzata.

<!-- ACP2E-1631 -->

* Facendo clic su **[!UICONTROL Send invitation]** (Admin **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) ora invia una richiesta POST insieme alla chiave del modulo e invia l&#39;invito correttamente. Precedentemente, quando si faceva clic su questo pulsante, non erano presenti né il metodo HTTP POST né la chiave del modulo.

<!-- ACP2E-1608 -->

* È ora possibile copiare correttamente i file a zero byte nello storage remoto con AWS S3.

<!-- AC-7402 -->

* Gli utenti amministratore possono ora aggiungere un nuovo indirizzo cliente dall’amministratore quando quel cliente è stato creato per un altro sito web il cui ID store non corrisponde all’ID sito web. In precedenza, Magenti Open Source visualizzava questo messaggio a comparsa: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* Nella pagina dell’editor di blocchi CMS viene ora visualizzato il widget corretto `block_id` valore.  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Biglietti regalo e confezione


<!-- ACP2E-1341 -->

* L’emulazione ora inizia durante `send()` chiamate una volta completata l&#39;emulazione durante il `getInfoBlockHtml()` e non viene registrato alcun errore. Precedentemente, il `system.log` il file è stato inondato con questo errore: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Ora puoi utilizzare la `updateCartItems` mutazione per aggiornare una gift card in un carrello. In precedenza, questa mutazione poteva aggiornare nel carrello solo l’importo della carta.

<!-- AC-7530 -->

* Il `addProductsToCart` query ora aggiunge correttamente una gift card a un carrello. In precedenza, questa query prevedeva il nome del destinatario della gift card, ma è stato restituito il nome del mittente. Il Magento Open Source ha generato questo errore: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* Il Google reCAPTCHA nel flusso di lavoro di pagamento ora funziona come previsto per assegni, ordini di pagamento e metodi di pagamento personalizzati.

<!-- ACP2E-1311 -->

* I moduli di Magento Open Source non possono più essere inviati prima del caricamento della casella di controllo Google ReCAPTCHA.

<!-- ACP2E-1338 -->

* Il widget reCAPTCHA ora precede il **[!UICONTROL Place Order]** sulla pagina di pagamento. In precedenza, il widget veniva visualizzato nella parte superiore della pagina.

### GraphQL

<!-- ACP2E-1584 -->

* Attributi del prodotto di tipo `DateTime` ora mappa su `FilterRangeTypeInput` filtrare nelle query di prodotti. In precedenza, questi attributi venivano mappati su `FilterMatchTypeInput`. In seguito a questa modifica, le query verranno filtrate su `DateTime` gli attributi richiedono `from` e `to` invece di valori di corrispondenza.

<!-- ACP2E-1552 -->

* Il `customer` La mutazione ora restituisce solo le recensioni dei clienti relative a una visualizzazione specifica dello store come previsto quando filtrate per ID store.

<!-- AC-7544 -->

* Il `categories` query non restituisce più un errore quando `items.redirect_code` il valore di risposta contiene un valore null. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1486 -->

* Il `changeCustomerPassword` la mutazione ora attiva l’e-mail come previsto dopo aver reimpostato correttamente una password.

<!-- ACP2E-1494 -->

* `urlResolver` e `route` Le query ora restituiscono un risultato quando `Target Path` di riscrittura URL è un URL assoluto. Precedentemente, il `urlResolver` La query ha restituito NULL quando è stata utilizzata per recuperare i dati di reindirizzamento.

<!-- AC-7979 -->

* Il `products` query ora restituisce le etichette corrette. [GitHub-29635](https://github.com/magento/magento2/issues/29635)


<!-- ACP2E-1315 -->

* Il `categoryList` query ora restituisce un valore popolato `product` sezione del `options` blocco per i prodotti secondari dei bundle come previsto.  In precedenza, non venivano restituite informazioni sui prodotti secondari del bundle.

<!-- AC-7114 -->

* Il `route` query ora restituisce route per categorie e prodotti come previsto senza un errore interno del server. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* Il `products` query now recupera `url_key` valori quando sono selezionate più categorie.

<!-- LYNX-17 -->

* `product` le query ora restituiscono aggregazioni solo per i prodotti assegnati al catalogo condiviso specificato.

<!-- AC-7974 -->

* I nomi delle transazioni sono stati aggiunti alle transazioni di New Relic GraphQL. [GitHub-36874](https://github.com/magento/magento2/issues/36874)

<!-- AC-6680 -->

* Il `OptionValueProvider` classe `get()` il metodo ora restituisce un valore di opzione attributo basato sul dato `option_id` come previsto. In precedenza, restituiva un errore. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* Il `searchProducts` query ora restituisce tutte le aggregazioni (filtri) disponibili e le relative etichette tradotte correttamente. In precedenza, le etichette di aggregazione di prezzi e categorie non venivano tradotte come previsto. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Ora puoi utilizzare un frammento `ProductCard` quando si esegue una query `related_products`, `upsell_products`, e  `crossell_products` il `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* Il `products` query ora restituisce i prodotti correlati, di upselling e di cross-selling nell’ordine in cui sono stati salvati. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* Le query GraphQL ora restituiscono dati di prodotti correlati ordinati per posizione. [GitHub-33010](https://github.com/magento/magento2/issues/33010)


<!-- AC-8542 -->

* `category_url_path` è stato aggiunto a `ProductAttributeFilterInput`, che supporta la richiesta di tutti i prodotti per una categoria in una singola query. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* È stato corretto un errore in cui il metodo che imposta l’archivio corrente in una mutazione GraphQL veniva eseguito prima del metodo che gestisce la convalida. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Immagine

<!-- ACP2E-1353 -->

* Il modulo di caricamento delle icone preferite di amministrazione ora supporta `.ico` tipi di file. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importa/esporta

<!-- ACP2E-1565 -->

* Il processo di importazione del prodotto non viene più interrotto quando mancano le immagini del prodotto. In precedenza, quando mancava un’immagine di un prodotto durante l’importazione di un servizio di terze parti utilizzando un file CSV, il Magento Open Source visualizzava questo errore: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* Le prestazioni dell’esportazione dei clienti dalla griglia Cliente sono state migliorate nelle implementazioni in cui è abilitato il B2B.

<!-- ACP2E-1391 -->

* Il processo di importazione del prodotto non genera più un errore di convalida quando un valore di attributo in `configurable_variations` la colonna contiene una virgola.

<!-- ACP2E-1377 -->

* La decodifica è stata esclusa dal processo di esportazione. Il testo del file di esportazione CSV rimane invariato dopo l’importazione. Di conseguenza, la descrizione non cambia dopo la reimportazione. In precedenza, i tag HTML venivano rimossi nell’editor di Page Builder dopo l’esportazione e l’importazione del prodotto.

<!-- ACP2E-1451 -->

* Le configurazioni non predefinite (ambito del sito web o dell’archivio) aggiunte come variabili di ambiente non interrompono più il `app:config:import` processo con un errore di ricorsione.

<!-- ACP2E-1569 -->

* Gli indicizzatori di ricerca e prezzo del catalogo in modalità Aggiornamento in modalità di salvataggio non vengono più invalidati dopo l’importazione. In precedenza, la versione del documento Indicizzatore Elasticsearch veniva modificata quando venivano importati prodotti nuovi ed esistenti.

<!-- ACP2E-1482 -->

* I rapporti sui prodotti ora vengono esportati in `var` directory.  In precedenza, questi rapporti venivano esportati nella directory principale dei documenti, una directory di sola lettura nelle istanze cloud.

<!-- ACP2E-1736 -->

* I campi di indirizzo cliente a selezione multipla vuoti non interrompono più o interrompono il processo di esportazione.

### Indice

<!-- ACP2E-1697 -->

* Sono state migliorate le prestazioni dell’indicizzatore del prodotto Regola catalogo nelle distribuzioni in cui le regole non vengono assegnate a tutti i siti web.

<!-- ACP2E-1401 -->

* Creazione di un tipo di prodotto personalizzato quando gli indici sono impostati su **[!UICONTROL Update on schedule]** non causa più l’aggiornamento dell’indice `cron` attività da non superare. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` non genera più un errore MySQL quando la griglia del cliente include attributi cliente personalizzati appena creati. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* La modifica della modalità di indicizzazione per più indicizzatori (ovvero, una modifica della modalità di indicizzazione di azione di massa) ora cambia la modalità di un indicizzatore solo quando la modalità corrente è diversa da quella applicata. Ciò migliora le prestazioni impedendo viaggi inutili al database. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

<!-- AC-6934 -->

* È stata migliorata l’indicizzazione dei prodotti con molte opzioni di attributi. [GitHub-36386](https://github.com/magento/magento2/issues/36386)


### Infrastruttura

<!-- ACP2E-1462 -->

* Il Magento Open Source non include più il percorso completo della radice del server nel messaggio di errore visualizzato quando una richiesta HTTP non valida è stata inviata al server. Solo le stringhe vengono ora passate al `explode` come secondo argomento.

<!-- AC-8384 -->

* `restricted_classes.php` ha sostituito `Zend_Validate_File_Upload`. In precedenza, la convalida si bloccava durante il caricamento di un file di importazione di dimensioni superiori al valore configurato in `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- AC-7093 -->

* Il motore dei modelli e-mail ora può elaborare correttamente alcune direttive nidificate (ad esempio, `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` Le query con dati di aggregazione ora restituiscono i valori di etichetta corretti per gli attributi di prodotto di tipo booleano. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- AC-2618 -->

* Aggiunte regioni ucraine al `directory_country_region` tabella. [GitHub-35187](https://github.com/magento/magento2/issues/35187)

<!-- https://github.com/magento/magento2/pull/29173 -->

* I file CSS non vengono più danneggiati durante l’unione `var/tmp` e `pub/static` si trovano su file system diversi e **[!UICONTROL CSS Merging Enabled]** è abilitato. I file temporanei sono stati creati nella stessa directory statica del file di destinazione per garantire che entrambi i file si trovino nello stesso file system. Di conseguenza, la chiamata per rinominarlo è atomica. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Chiamata a una funzione membro `getId()` non attiva più un&#39;eccezione.

<!-- https://github.com/magento/magento2/pull/34092 -->

* I controlli dei tipi vengono ora applicati per il tipo di array nel processore di configurazione del tema di progettazione.  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Registrazione

<!-- ACP2E-1385 -->

* Gli utenti amministratore possono ora visualizzare i registri delle azioni in blocco create dalle integrazioni nella sezione Bulk Actions Log (Registro azioni in blocco) dell&#39;amministratore.

### Login

<!-- ACP2E-1521 -->

* Il ripristino di una password in un browser e il successivo accesso tramite un altro browser non generano più un&#39;eccezione. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* I clienti vengono ora reindirizzati alla pagina di accesso dopo l’attivazione di un account, come previsto. In precedenza, i clienti effettuavano l’accesso automaticamente.

### Ordini

<!-- ACP2E-1514 -->

* Gli acquirenti non possono più ordinare un prodotto utilizzando un prezzo personalizzato quando un ordine viene generato dall’amministratore utilizzando il prezzo personalizzato una tantum. In precedenza, se un ordine conteneva un articolo con prezzi personalizzati, questo prezzo personalizzato veniva applicato ad altri ordini con la funzionalità di riordino.

<!-- ACP2E-1421 -->

* Gli acquirenti non possono più salvare gli stati degli ordini errati nella pagina dell’ordine. Lo stato dell&#39;ordine non viene più modificato da Completo a Elaborazione quando viene spedito un articolo. In precedenza, il Magento Open Source non verificava lo stato attuale dell’ordine prima di salvarne lo stato dopo che un acquirente aveva inserito un commento. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1367 -->

* La griglia degli ordini di vendita viene ora sincronizzata in modo asincrono con tutti gli ordini come previsto. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* La funzionalità Filtra per data di acquisto nella sezione Ordini cliente della pagina Ordini ora funziona come previsto. In precedenza, si verificava un errore JavaScript quando la logica di conversione del fuso orario generava un errore quando lo stesso fuso orario veniva fornito al metodo.

<!-- ACP2E-1294 -->

* Il dashboard Magento Open Source ora visualizza le statistiche degli ordini corrette al primo caricamento. In precedenza, il dashboard mostrava informazioni di ordine errate, ma mostrava le informazioni corrette una volta aggiornato il periodo di tempo.

<!-- ACP2E-1762 -->

* Gli utenti Admin vengono ora reindirizzati come previsto alla pagina dell’ordine dopo aver selezionato una vista store durante la creazione di un nuovo ordine da Admin.

<!-- ACP2E-1418 -->

* L’API REST degli ordini ora restituisce informazioni sui prodotti configurabili e semplici nell’ordine, indipendentemente dallo stato delle scorte dei prodotti semplici. Gli utenti amministratori possono effettuare ordini ora solo se gli articoli (prodotti) selezionati sono in magazzino o in vendita. In precedenza, questa API restituiva informazioni solo sui prodotti in stock.

<!-- AC-7901 -->

* La pagina della nota di accredito non si blocca più se la spedizione gratuita è abilitata quando il prezzo di spedizione include le imposte e i calcoli delle imposte vengono applicati dopo gli sconti. In precedenza, il Magento Open Source aveva emesso un `Division by zero` eccezione. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Utilizzo di `rest/V1/orders/{id}/comments` l’endpoint per pubblicare un commento su un ordine senza fornire lo stato dell’ordine non influisce più sulla visualizzazione dell’ordine. In precedenza, lo stato dell’ordine veniva registrato come NULL in `sales_order` e `sales_order_grid` e né la pagina Ordini personali né la griglia Ordine amministratore visualizzavano l&#39;ordine. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

### Page Builder

<!-- ACP2E-1564 -->

* L’aggiunta di un prodotto a un carrello dal carosello Page Builder non duplica più la quantità di articolo da pagine con due widget diversi che visualizzano gli stessi prodotti.

<!-- ACP2E-1542 -->

* Page Builder non aggiunge più `tabindex` Attributo HTML ai tag di collegamento ipertestuale `a` quando si modifica un collegamento ipertestuale e quindi si salva un modello.

<!-- ACP2E-1444 -->

* Il widget prodotti e l’anteprima di Page Builder ora gestiscono correttamente i caratteri speciali HTML. In precedenza, il widget del prodotto non visualizzava correttamente gli SKU contenenti `&` carattere.

<!-- ACP2E-1441 -->

* Il contenuto degli elementi di testo di Page Builder viene ora aggiornato come previsto quando selezioni e aggiorni il blocco di contenuto completo in modalità anteprima.

<!-- ACP2E-1362 -->

* Copiare e incollare testo da un editor di testo di Page Builder a un altro ora funziona come previsto. In precedenza, la pagina in cui si tentava di incollare il testo non poteva essere salvata e il Magento Open Source visualizzava questo errore della console: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` il tipo di contenuto creato nelle versioni precedenti di Page Builder ora viene visualizzato correttamente.

<!-- ACP2E-1234 -->

* L’amministratore ha migliorato il filtro per la descrizione dei metadati del prodotto durante la creazione del prodotto. Precedentemente, se Page Builder era abilitato, la descrizione dei metadati del prodotto veniva generata in base al valore predefinito` {{name}} {{description}}` maschera. La maschera di metadescrizione del prodotto predefinita è ora composta da `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* L’aggiunta di un blocco dinamico senza contenuto non attiva più un errore.

<!-- AC-6645 -->

* Sono stati risolti i problemi relativi alla visualizzazione delle colonne nel contenuto di Page Builder. Precedentemente, `column-line` il contenuto del tipo di contenuto non è stato renderizzato. [GitHub-3949](https://github.com/magento/pwa-studio/issues/3949)

### Pagamento

<!-- ACP2E-1215 -->

* L&#39;opzione Metodo di pagamento Vault non viene più visualizzata nel flusso di lavoro di pagamento dell&#39;amministratore quando l&#39;acquirente non dispone di un token Vault. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* Il **[!UICONTROL Venmo]** ora può essere nascosto quando i pulsanti PayPal sono attivati. Precedentemente, il **[!UICONTROL Venmo]** impossibile rimuovere il pulsante dal carrello, dal mini carrello, dai dettagli del prodotto o dalle pagine di pagamento.

<!-- AC-7105 -->

* Gli acquirenti vengono ora reindirizzati alla pagina di successo dopo aver completato con successo un pagamento tramite Paypal Payflow. [GitHub-36520](https://github.com/magento/magento2/issues/36520)


#### Braintree


<!-- ACP2E-1229 -->

* L&#39;opzione Metodo di pagamento Braintree Vault non viene più deselezionata automaticamente nel flusso di lavoro di pagamento quando un acquirente aggiorna il proprio indirizzo di fatturazione. In precedenza, il metodo di pagamento veniva deselezionato quando l’acquirente deselezionava il **[!UICONTROL My billing and shipping address are the same]** pulsante.

<!-- BUNDLE-3248 -->

* Sono stati risolti i problemi relativi al check-out con PayPal tramite Braintree dopo l’aggiornamento da Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* I numeri di telefono ora vengono visualizzati come previsto con gli indirizzi nei campi dell’indirizzo di spedizione modale del popup di Google Pay. In precedenza, mancavano i numeri di telefono.

<!-- BUNDLE-3228 -->

* Gli ordini vengono ora inseriti correttamente con Braintree quando la risposta Braintree include un valore vuoto per `threeDSecureInfo/eciFlag`. In precedenza, si verificava un errore PHP durante il check-out quando questo valore era vuoto.

<!-- BUNDLE-3243 -->

* Il Magento Open Source non genera più un errore quando un acquirente applica un coupon nella pagina di revisione dell&#39;ordine durante il check-out con Google Pay dal mini-carrello. In precedenza, gli acquirenti venivano reindirizzati a una pagina 404.

<!-- BUNDLE-3245 -->

* Gli acquirenti possono ora completare il pagamento utilizzando Braintree Payments e Magenti Open Source 2.4.6 con ReCAPTCHA v2 o v3 invisibile. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Gli acquirenti non possono più fare clic sul pulsante **[!UICONTROL PayPal]** per acquistare un prodotto configurabile senza prima selezionare le opzioni richieste. In precedenza, gli acquirenti potevano fare clic sul pulsante **[!UICONTROL PayPal]** e sono stati successivamente reindirizzati alla pagina del prodotto con un errore:

<!-- BUNDLE-3148 -->

* Il **[!UICONTROL PayPal]** viene ora visualizzato come previsto sulle pagine del carrello e del mini-carrello. In precedenza, questo pulsante non veniva visualizzato nella pagina del carrello e veniva duplicato nella pagina del mini carrello.

<!-- BUNDLE-3244 -->

* Gli ordini fatturati parzialmente vengono ora acquisiti come previsto nell’account corretto nelle distribuzioni in cui i commercianti hanno due ID account commerciante diversi per la stessa valuta nel proprio account di Braintree.

<!-- BUNDLE-3250 -->

* Il Magento Open Source non genera più un errore durante la creazione di una seconda fattura parziale per un ordine pagato per Braintree quando **[!UICONTROL Enable Vault for Card Payments]** è abilitato. In precedenza, quando un commerciante tentava di creare una seconda fattura, Magenti Open Source generava questo errore: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

<!-- AC-2901 -->

* Le informazioni sul pagamento delle Braintree vengono ora salvate per ogni negozio e gli acquirenti ora vedono solo le informazioni sulla carta salvate nel negozio in cui fanno acquisti. In precedenza, gli acquirenti potevano visualizzare le informazioni sulla scheda memorizzata da tutti i negozi durante il pagamento. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

### Promozione

<!-- ACP2E-1290 -->

* Gli effetti della **[!UICONTROL Fixed amount discount for whole cart]** regola di prezzo, se applicata con **[!UICONTROL Apply to shipping amount]** regola, ora è distribuito proporzionalmente come previsto tra i prodotti e gli importi di spedizione. In precedenza, i calcoli degli sconti non erano corretti.

<!-- ACP2E-1300 -->

* Il **[!UICONTROL Discard Subsequent Rules]** L&#39;impostazione viene ora applicata come previsto. Quando questa impostazione è abilitata, altre regole con priorità bassa possono essere applicate solo a un prodotto diverso. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### Rapporti

<!-- ACP2E-1541 -->

* Rapporto Ordini (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) ora include i valori dell&#39;ordine corretti quando gli ordini vengono generati da negozi che utilizzano valute non predefinite. In precedenza, questo rapporto includeva valori errati. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Le informazioni fuorvianti nel modulo di report degli ordini di vendita sono state riviste per maggiore chiarezza.

<!-- ACP2E-1435 -->

* Gli utenti amministratori ora possono cercare record con e-mail che contengono  `+` (segno più) dalla pagina Rapporto Carrelli abbandonati. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

### Ricerca {#search-heading}

<!-- ACP2E-1499 -->

* I risultati della ricerca ora visualizzano i risultati rilevanti in base al peso della ricerca degli attributi come previsto.

<!-- AC-7505 -->

* Testo informativo sotto `Search Weight` dell&#39;attributo `Storefront Properties` campo di input in Amministratore **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** descrive ora i valori possibili. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Spedizione

<!-- AC-7003 -->

* Il **[!UICONTROL Shipping Policy]** è ora visibile nell’ambito di visualizzazione dell’archivio di amministrazione quando  **[!UICONTROL Apply custom Shipping Policy]** è abilitato ed è disponibile una polizza di spedizione personalizzata. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* Il `cart` query ora restituisce un `selected_shipping_method` valore corrispondente a uno dei `available_shipping_methods` codici vettore e metodo. In precedenza, quando uno dei metodi di spedizione selezionati conteneva un carattere di sottolineatura, questi codici vettore/metodo non corrispondevano. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* Il `setShippingAddressesOnCart` la mutazione non genera più un errore quando il secondo valore nella matrice stradale è nullo. In precedenza, veniva generata questa eccezione: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### Imposta

<!-- ACP2E-1527 -->

* È ora possibile modificare il valore di Paese e area aliquota dalla pagina di modifica Regola imposta come previsto. In precedenza, le modifiche apportate da quella pagina non venivano salvate.

<!-- ACP2E-1143 -->

* L’importo dell’imposta nell’area di stima del carrello viene ora aggiornato come previsto quando viene aggiornato il metodo di spedizione. In precedenza, l&#39;aliquota non veniva aggiornata dopo che un acquirente aveva cambiato paese durante il check-out.

<!-- AC-8227 -->

* Il `tax class` Il valore per i prodotti semplici appena creati ora viene impostato sul valore del prodotto principale durante la creazione di nuove varianti di un prodotto configurabile esistente nell’ambito della visualizzazione store. In precedenza, questo valore era impostato su none. Di conseguenza, a questi prodotti nel carrello non veniva aggiunta alcuna imposta e i clienti venivano tassati in difetto. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Test

<!-- AC-7098 -->

* Problemi di prestazioni con array di grandi dimensioni in `TableNameSniff` sono stati risolti.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` ora tiene conto dell’ora legale.


### UI

<!-- ACP2E-171 -->

* Il modulo di registrazione cliente ora viene caricato come previsto quando include più attributi cliente selezionati. Precedentemente, il Magento Open Source aveva generato questa eccezione: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* I messaggi di benvenuto contenenti virgolette singole vengono ora visualizzati correttamente nella vetrina senza errori della console. In precedenza, se un messaggio di benvenuto conteneva una virgoletta singola, il messaggio di benvenuto non veniva caricato durante il rendering nella vetrina. Il Magento Open Source ha inoltre visualizzato errori della console.

<!-- ACP2E-1369 -->

* Il Magento Open Source non genera più un errore quando si tenta di modificare rapidamente la visualizzazione tra la cronologia dei commenti e Restituisce nella pagina Ordine amministratore. In precedenza, Magenti Open Source visualizzava questo errore generico: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Gli utenti amministratori con privilegi limitati a un sito web ora possono aggiornare gli attributi di prodotto specifici di un sito web impostati su un `all stores view` ambito.

<!-- ACP2E-1648 -->

* Il widget Lente ora viene caricato come previsto nella pagina del prodotto.

<!-- ACP2E-1216 -->

* Le opzioni personalizzabili su più righe vengono ora visualizzate correttamente nei documenti PDF di fatture, spedizioni e note di accredito. In precedenza, il testo su più righe era preceduto da un’interruzione di pagina imprevista e, se il testo superava la pagina, veniva troncato.

<!-- AC-7402 -->

* Gli utenti amministratore possono ora aggiungere un nuovo indirizzo cliente dall’amministratore quando quel cliente è stato creato per un altro sito web il cui ID store non corrisponde all’ID sito web. In precedenza, Magenti Open Source visualizzava questo messaggio a comparsa: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* I dettagli dell’amministratore della società ora vengono salvati come previsto e gli amministratori vengono reindirizzati correttamente, quando le e-mail di assegnazione dell’amministratore della società contengono un `CMS Block URL` variabile.

<!-- ACP2E-1775 -->

* I messaggi di errore associati all’invio di commenti nella pagina dei dettagli dell’ordine ora sono più informativi. In precedenza, quando un acquirente faceva clic su **[!UICONTROL Submit comment]** senza modificare lo stato dell&#39;ordine o immettere testo nell&#39;area dei commenti, Magenti Open Source ha visualizzato il seguente messaggio: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* L’icona del calendario ora viene visualizzata come previsto nei campi dell’intervallo di date in Admin **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** dopo aver selezionato una data per un campo. In precedenza, dopo aver selezionato una data per un campo, l’icona del calendario non veniva più visualizzata sugli altri campi e il Magento Open Source visualizzava il testo segnaposto. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* I moduli di registrazione cliente che includono campi a selezione multipla ora vengono caricati correttamente. In precedenza, il modulo non veniva caricato se conteneva campi a selezione multipla e veniva attivato il seguente errore:  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Facendo clic sulla miniatura di un video nella modalità a schermo intero della galleria dei prodotti, ora il video viene visualizzato come previsto. In precedenza, il video non veniva visualizzato e la console del browser mostrava un errore JavaScript. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* Alla riga del copyright è stata aggiunta una variabile che viene aggiornata automaticamente ogni anno. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* Il cursore immagine sulla pagina del prodotto ora funziona come previsto nella visualizzazione per dispositivi mobili. In precedenza, veniva visualizzata correttamente solo la prima immagine. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### Riscritture URL

<!-- ACP2E-1737 -->

* Le riscritture degli URL delle categorie vengono ora generate per tutte le visualizzazioni dello store quando si importa una nuova categoria da un file CSV.

<!-- ACP2E-1700 -->

* Le configurazioni del suffisso URL del prodotto e del suffisso URL della categoria ora corrispondono ai suffissi presenti nella `url_rewrite` tabella. In precedenza, si verificavano race condition durante l’aggiornamento delle configurazioni del suffisso URL, e i suffissi URL configurati e il `url_rewrite` tabella non corrispondente.

<!-- ACP2E-1703 -->

* Durante la creazione di riscritture dell’URL di una categoria, il Magento Open Source ora esegue il rendering della struttura delle categorie a tutti i livelli. In precedenza venivano visualizzati solo i primi tre livelli di categorie. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1737 -->

* Le riscritture degli URL delle categorie sono ora presenti nel file CSV durante l’importazione di una nuova categoria.

<!-- ACP2E-1668 -->

* Le pagine CMS multi-store senza riscritture URL ora vengono inoltrate come previsto. In precedenza, le pagine CMS multi-store richieste senza riscritture URL venivano reindirizzate alla home page del negozio, ma le pagine CMS originali non venivano indirizzate.

### Framework API web

<!-- ACP2E-1543 -->

* I clienti creati utilizzando l’API in blocco ora ricevono le e-mail di registrazione del cliente nella lingua configurata nel sito web assegnato.  In precedenza, tutte le e-mail venivano inviate alla lingua predefinita, non a quella del sito web a cui il cliente è assegnato.

<!-- ACP2E-1339 AC-7577-->

* Il `POST V1/guest-carts` la chiamata non invia più gli ordini degli ospiti quando **[!UICONTROL Allow Guest Checkout]** è disabilitato.


<!-- ACP2E-1526 -->

* Il Magento Open Source ora restituisce correttamente il `content` (codice immagine base64) in `GET V1/products/sku/media` risposte API di product media. Il `content` L&#39;attributo non è stato precedentemente visualizzato nella risposta.

## Problemi noti

I seguenti problemi noti saranno risolti nel Magento Open Source 2.4.7-beta2:

**Problema**: l’API XML del gruppo di continuità è stata dichiarata obsoleta da UPS il 5 giugno 2023 e ha avuto effetti sui commercianti nei seguenti modi:

* I clienti attuali (ovvero, i commercianti che hanno già generato le chiavi di accesso UPS) non saranno interessati fino a giugno 2024.

* I commercianti che desiderano generare nuove chiavi di accesso per utilizzare l’integrazione preconfigurata con UPS Adobe Commerce non possono al momento generare nuove chiavi.

**Problema**: facendo clic su **[!UICONTROL Show password]** sulla pagina di accesso di storefront non visualizza la password come previsto.  <!-- AC-8823 -->

**Problema**: i prezzi dei pacchetti fissi non includono i prezzi speciali assegnati come previsto. <!-- ACP2E-2034 -->

## Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Istruzioni di installazione e aggiornamento

È possibile installare il Magento Open Source 2.4.7-beta1 utilizzando [Compositore](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
