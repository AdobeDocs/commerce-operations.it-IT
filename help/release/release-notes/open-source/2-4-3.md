---
title: Note sulla versione di Magenti Open Source 2.4.3
description: Scopri nuove funzioni, miglioramenti, correzioni di bug e problemi noti nella versione 2.4.3 di Magenti Open Source.
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '13303'
ht-degree: 0%

---


# Note sulla versione di Magenti Open Source 2.4.3

Magenti Open Source 2.4.3 introduce miglioramenti a livello di prestazioni e sicurezza oltre a miglioramenti significativi della piattaforma. I miglioramenti della sicurezza includono l&#39;espansione della copertura reCAPTCHA e l&#39;inclusione di limiti di velocità integrati. Le dipendenze del compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. Page Builder è ora disponibile come estensione bundle in Magento Open Source. Ora è lo strumento di modifica del contenuto predefinito per Adobe Commerce e Magenti Open Source.

Questa versione include più di 370 nuove correzioni al codice core e 33 miglioramenti della sicurezza. Include la risoluzione di quasi 290 questioni GitHub da parte dei nostri membri della community. Questi contributi della community spaziano dalla pulizia secondaria del codice di base ai miglioramenti significativi in GraphQL.

Questa versione include più di 370 nuove correzioni al codice core e 33 miglioramenti della sicurezza. Tutti i problemi noti identificati nelle note sulla versione di Magenti Open Source 2.4.2 sono stati risolti in questa versione.

{{bics}}

Vedi [Note sulla versione di Adobe Commerce 2.4.2-p2](../security/2-4-2-p2.md) per informazioni su Adobe Commerce 2.4.2-p2.

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è in bundle con le versioni trimestrali , diversi di questi progetti (ad esempio, Progressive Web Application (PWA) Studio) vengono rilasciati anche in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione separate e specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Applica `AC-3022.patch` continuare ad offrire DHL come vettore marittimo

DHL ha introdotto la versione dello schema 6.2 e disattiverà la versione 6.0 dello schema a breve. Adobe Commerce 2.4.4 e versioni precedenti che supportano solo la versione 6.0 dell’integrazione DHL. Si applicano i merchants che distribuiscono queste versioni `AC-3022.patch` al più presto per continuare ad offrire DHL come vettore marittimo. Consulta la sezione [Applicare una patch per continuare ad offrire DHL come vettore di spedizione](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Articolo della Knowledge Base per informazioni sul download e l&#39;installazione della patch.

## Applica la patch MC-43048__set_rate_limits__2.4.3 per risolvere il problema con la limitazione delle tariffe API

Questo hotfix fornisce una soluzione per il problema in cui le API web non possono elaborare richieste che contengono più di 20 elementi in un array. Questo problema riguarda le distribuzioni che eseguono Magenti Open Source 2.4.3, Adobe Commerce 2.4.3 o 2.3.7-p1. A queste versioni è stata aggiunta una limitazione della velocità integrata per impedire attacchi di tipo Denial-of-Service (DoS) e il valore massimo predefinito è stato impostato su 20. Questa patch ripristina il limite predefinito a un valore superiore. Se sospetti che lo store stia subendo un attacco DoS, Adobe consiglia di abbassare i limiti di input predefiniti a un valore inferiore per limitare il numero di risorse che possono essere richieste. Consulta la sezione [API Web: impossibile elaborare le richieste con più di 20 elementi nell&#39;array](https://support.magento.com/hc/en-us/articles/4406893342093) Articolo della Knowledge Base.

## Applica la patch AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch per risolvere l&#39;errore fatale PHP in caso di aggiornamento

Il seguente errore irreversibile può verificarsi durante l&#39;aggiornamento al Magento Open Source 2.4.3:

```terminal
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Questo errore deriva dall&#39;utilizzo del `str_contains` che è una funzione PHP 8.x. L&#39;applicazione Open Source 2.4.3 non supporta PHP 8.x. Questo hotfix sostituisce questa funzione con una funzione PHP 7.x supportata. Consulta la sezione [Aggiornamento Adobe Commerce 2.4.3, 2.3.7-p1 Errore irreversibile Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Articolo della Knowledge Base.

## Elementi di rilievo

Cerca le seguenti funzioni di rilievo in questa versione.

### Miglioramenti sostanziali della sicurezza

Questa versione include 33 correzioni di sicurezza e miglioramenti alla sicurezza della piattaforma. Molte di queste correzioni di sicurezza sono state riportate in 2.4.2-p2 e 2.3.7-p1.

#### 33 miglioramenti di sicurezza che aiutano a chiudere le vulnerabilità RCE (Remote Code Execution) e XSS (cross-site scripting)

Finora non si sono verificati attacchi confermati relativi a tali problemi. Tuttavia, alcune vulnerabilità possono essere potenzialmente sfruttate per accedere alle informazioni sui clienti o per prendere il controllo delle sessioni di amministrazione. La maggior parte di questi problemi richiede che un autore dell&#39;attacco ottenga prima l&#39;accesso all&#39;amministratore. Di conseguenza, ti ricordiamo di prendere tutte le misure necessarie per proteggere il tuo amministratore, compresi, tra l’altro, questi sforzi: inserire nell&#39;elenco Consentiti IP, [autenticazione a due fattori](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html), l&#39;utilizzo di una VPN, l&#39;utilizzo di una posizione unica anziché `/admin`e una buona igiene delle password. Vedi [Bollettino sulla sicurezza di Adobe](https://helpx.adobe.com/security/products/magento/apsb21-64.html) per una discussione su questi problemi fissi.

#### Ulteriori miglioramenti della sicurezza

I miglioramenti a livello di sicurezza per questa versione migliorano la conformità alle best practice di sicurezza più recenti, tra cui:

* A **nuovo plugin Composer** aiuta a evitare confusione di dipendenza e identifica i pacchetti dannosi con gli stessi nomi dei pacchetti interni nell’archivio dei pacchetti pubblici. Consulta la sezione [Adobe rilascia il nuovo plug-in del compositore con versione 2.4.3](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) post sul blog.

* **Limitazione dei tassi è ora integrato nelle API** per prevenire attacchi di tipo Denial of Service (DoS). Le API web impongono ora restrizioni sulle dimensioni o sul numero di risorse (il valore massimo predefinito è impostato su 20 e può essere configurato con un valore diverso in base alle esigenze aziendali) che possono essere richieste da un client. Vedi [Limitazione delle aliquote](https://developer.adobe.com/commerce/webapi/get-started/api-security/) per informazioni sulla configurazione di queste restrizioni. <!-- MC-35358-->

* **La copertura ReCAPTCHA è stata estesa** per includere:

   * Le API web che hanno pagine HTML corrispondenti vengono coperte tramite ReCAPTCHA. (Questo esclude le API web a cui accedono le integrazioni). La copertura ReCAPTCHA protegge gli endpoint dagli attacchi di spam. Quando un servizio di integrazione di terze parti che utilizza OAuth accede alle API web, ReCAPTCHA viene disattivato.<!-- MC-34472-->

   * La pagina Inserisci ordine storefront e le API web relative al pagamento. La protezione ReCAPTCHA per queste pagine è disabilitata per impostazione predefinita e può essere abilitata dall’amministratore. Questa copertura aggiunge un meccanismo di forza anti-bruta per proteggere i negozi da attacchi carding.

{{cve-notice}}

### Miglioramenti all&#39;infrastruttura

Questa versione contiene miglioramenti che migliorano la qualità del framework e delle seguenti aree funzionali:

* Account cliente

* Catalogo

* CMS

* OMS

* Importazione/Esportazione

* Promozioni e targeting

* Carrello e pagamento

* B2B

* Staging e anteprima

**È ora supportato PayPal Pay in seguito** in implementazioni che includono PayPal. Questa funzione consente agli acquirenti di pagare un ordine in rate bisettimanali invece di pagare l&#39;intero importo al momento dell&#39;acquisto. <!-- MC-40556-->

**Nuovo `use_application_lock` modalità di indicizzazione**. La `use_application_lock` consente di abilitare la reindicizzazione tramite l’uso di variabili di ambiente o configurando la `app/etc/env.php` file. Non è più necessario ripristinare manualmente l&#39;indicizzatore dopo un errore con questa modalità abilitata.  Vedi [Utilizzo della modalità di blocco dell&#39;applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Miglioramenti alla piattaforma

La versione 2.4.3 non è ancora compatibile con PHP 8.x, ma i seguenti aggiornamenti della piattaforma ci avvicinano alla futura compatibilità con PHP 8.x.

* Le dipendenze del Compositore di base e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. <!-- MC-39514-->

* La libreria KnockoutJS è stata aggiornata alla versione 3.5.1 (l’ultima versione). <!-- MC-40694-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. La `Magento_Tinymce3Banner` i test del modulo e MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce. <!-- MC-42199 42170 -->

* Il Magento Open Source 2.4.3 è stato testato e confermato compatibile con il sistema Redis 6.0.12. (la versione 2.4.x rimane compatibile con Redis 5.x.)

* Le dipendenze della libreria Laminas sono state aggiornate alle versioni compatibili con PHP 8.x. Alcune dipendenze ridondanti sono state rimosse dal `composer.json` file. **Magenti Open Source 2.4.3 utilizza Laminas 3.4.0**. <!-- MC-39513-->

### Miglioramenti delle prestazioni

Questa versione include miglioramenti che riducono il tempo di indicizzazione per gli indici del prezzo del prodotto e delle regole del catalogo. Gli esercenti possono ora escludere un sito web da un gruppo di clienti o da un catalogo condiviso, riducendo il numero di record per l’indicizzazione e migliorando i tempi di indicizzazione.

### Integrazione Adobe Stock

Questa versione include l&#39;integrazione di Adobe Stock v2.1.1.

### GraphQL

Questa versione aggiunge la copertura GraphQL per le route condivise. La [query di routing](https://devdocs.magento.com/guides/v2.4/graphql/queries/route.html) e [InterfacciaRoutable](https://devdocs.magento.com/guides/v2.4/graphql/interfaces/routable-interface.html) supporta le richieste di indirizzamento su pagine di prodotti, categorie e CMS. La `urlResolver` La query è stata dichiarata obsoleta e la relativa funzionalità è stata sostituita dalla `route` query.

Consulta la sezione [Guida per gli sviluppatori di GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) per informazioni dettagliate su questi miglioramenti.

### Page Builder

Page Builder è ora disponibile come estensione bundle in Magento Open Source. È ora lo strumento di modifica del contenuto predefinito per Adobe Commerce 2.4.3 e Magenti Open Source 2.4.3. Può sostituire l’editor WYSIWG con qualsiasi modulo di terze parti.

Page Builder sostituisce l’editor TinyMCE nelle seguenti aree di amministrazione:

* Pagina CMS
* Blocco CMS
* Descrizione categoria
* Descrizione del prodotto

Tutti i contenuti creati in TinyMCE sono stati migrati in Page Builder come HTML.

### PWA Studi

Per informazioni sui miglioramenti e sulle correzioni di bug, vedi [Versioni di PWA Studi](https://github.com/magento/pwa-studio/releases). Vedi [compatibilità](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studi e delle relative versioni compatibili.

### Strumento di compatibilità per l’aggiornamento

Il campo di applicazione [Strumento di compatibilità per l’aggiornamento](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) è stato ampliato in base al feedback della community. Iscriviti a [#upgrade-compatibilità-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) Canale di Slack per ottenere il supporto dal team di prodotto Adobe e dalla community, nonché per aiutare a guidare la direzione futura dello strumento.

### Estensioni sviluppate dal fornitore

Consulta i seguenti articoli per gli aggiornamenti sulle funzioni e le modifiche per questa versione:

* [Pagamento Amazon](https://docs.magento.com/user-guide/payment/amazon-pay.html)

* [Braintree](https://docs.magento.com/user-guide/payment/braintree.html)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://docs.magento.com/user-guide/payment/klarna.html)

* [Vertex Cloud](https://docs.magento.com/user-guide/tax/vertex.html)

* [Recensioni prodotto Yotpo](../../../upgrade/modules/upgrade.md)

## Problemi risolti

Abbiamo risolto centinaia di problemi nel codice core 2.4.3.

### Installazione, aggiornamento, distribuzione

<!-- MC-41154-->

* La `bin/magento setup:db:status` ora restituisce un messaggio che indica che tutto è aggiornato dopo un aggiornamento riuscito. In precedenza, l&#39;applicazione visualizzava questo errore: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* I valori di configurazione vengono ora mantenuti al ricaricamento del modulo quando la creazione di un nuovo prodotto configurabile non riesce. In precedenza, i valori venivano persi durante il ricaricamento del modulo e l&#39;applicazione visualizzava questo errore: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* L&#39;applicazione non genera più un&#39;eccezione quando si esegue `bin/magento setup:upgrade` per effettuare l’aggiornamento da un’implementazione di Magento Open Source con Redis ad Adobe Commerce.

<!-- ENGCOM-8508 -->

* Le implementazioni in esecuzione sul cluster Galera ora supportano più clienti. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Gli amministratori ora possono accedere correttamente a una distribuzione quando l&#39;applicazione è stata installata con `—use-rewrites=0` opzione o con `web/seo/use_rewrites` impostato su 0 in `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Aggiornato `sortOrder` carico per `AsyncCssPlugin`. L&#39;applicazione ora viene caricata `AsyncCssPlugin` prima `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` ora controlla il percorso di visualizzazione per determinare se un elemento esiste e se ha un percorso di configurazione, utilizza il `config.xml` anziché per la convalida. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* Compilare meno file con Grunt o da compilazione lato server ora produce gli stessi risultati. Precedentemente. `.abs- styles`, che si estende ad altri `.abs- styles` in `_extends.less`, non sono stati emessi correttamente se compilati con Grunt. Ciò ha comportato differenze tra le distribuzioni di produzione e di sviluppo. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### Integrazione Adobe Stock

<!-- MC-39754-->

* L’applicazione ora visualizza un messaggio informativo e un collegamento all’amministratore **Negozi** > **Configurazione** > **Avanzate** > **Sistema** nella pagina Ricerca per Adobe Stock quando **Chiave API (ID client)** e **Segreto client** non sono impostati. In precedenza, l&#39;applicazione visualizzava questo errore: `We couldn't find any records` e nessun collegamento.

### Backend

<!-- MC-40389-->

* Gli amministratori con accesso limitato (ad esempio, a cui viene assegnato l’accesso a un solo sito web) non possono più modificare le categorie impostate su Ambito globale.

<!-- MC-39037-->

* Rapporto del sistema generato (**Sistema** > **Supporto** > **Report di sistema**) ora viene riprodotto correttamente. In precedenza, il contenuto del rapporto non era allineato.

<!-- MC-30152 ENGCOM-8625-->

* L&#39;applicazione ora disattiva la convalida **Prezzo** come previsto quando **Prezzo dinamico** viene abilitata durante la creazione del bundle product. In precedenza, l&#39;applicazione generava un errore di convalida quando si rimuoveva un valore dalla **Prezzo** quando **Prezzo dinamico** è stata abilitata. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* I reindirizzamenti infiniti non si verificano più quando l’URL amministratore è diverso dall’URL del sito web predefinito nelle distribuzioni in cui l’applicazione è configurata per essere accessibile da due URL.

### Bundle prodotti

<!-- MC-41810-->

* Ora puoi utilizzare la `addProductsToCart` mutazione per aggiungere un bundle product con più di un’opzione di casella di controllo a un carrello.

<!-- MC-41614-->

* L&#39;indicizzazione dei prezzi dei prodotti bundle viene ora eseguita utilizzando tabelle temporanee, evitando il blocco delle tabelle del database. In precedenza, l&#39;applicazione utilizzava tabelle fisiche, che risultavano in tabelle bloccate.

<!-- MC-41177 magento/magento2#32594-->

* Il prezzo di un bundle ora può essere impostato su 0.00. Precedentemente, quando si tornava alla pagina di modifica dopo aver impostato il prezzo su 0.00, il prezzo veniva riportato al valore predefinito. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* I dettagli dell&#39;ordine per gli ordini che contengono prodotti bundle ora mostrano il prezzo corretto per i prodotti bundle se il prezzo è stato modificato prima dell&#39;ordine.

<!-- MC-40035-->

* Lo stato delle scorte dei prodotti nel pacchetto viene aggiornato in base allo stato delle scorte dei prodotti secondari. Precedentemente, i prodotti bundle venivano mostrati come non disponibili quando una opzione era stata rimossa dal prodotto e il prodotto bundle aveva due opzioni con lo stesso SKU.

<!-- MC-39276-->

* Ora un amministratore può modificare il valore di un prodotto bundle `Shipment Type` dopo essere stato spostato in un gruppo di attributi diverso. In precedenza, questo attributo veniva sempre salvato con un `Together` se è stato spostato in un gruppo di attributi diverso dal gruppo predefinito nel set di attributi.

<!-- MC-38900-->

* GraphQL `setGuestEmailOnCart` La modifica ora aggiorna correttamente le e-mail degli utenti ospiti. In precedenza, le tabelle degli indirizzi delle virgolette non venivano aggiornate.

<!-- MC-37719-->

* L’aggiunta, la rimozione o l’aggiornamento di un prodotto secondario a un prodotto bundle tramite le chiamate API REST ora attiva la reindicizzazione come previsto. In precedenza, queste azioni non attivavano la reindicizzazione e, di conseguenza, il prodotto del bundle non cambiava il suo stato di stock fino all&#39;esecuzione della reindicizzazione manuale.

<!-- MC-35725 ENGCOM-8568-->

* L&#39;applicazione ora visualizza la giusta fascia di prezzo per i prodotti bundle con prezzi di livello. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* L’applicazione ora visualizza lo stesso prezzo totale previsto nella pagina del carrello e nella fase di spedizione del flusso di lavoro di pagamento dopo la modifica del prezzo di un’opzione di bundle.

<!-- MC-32617-->

* Ora è possibile configurare correttamente un bundle product accedendo da un carrello acquisti cliente. In precedenza, la pagina Configura prodotto non veniva mai caricata completamente e non era possibile salvare le impostazioni.

<!-- MC-30317 ENGCOM-7141-->

* Ora i commercianti possono assegnare un prezzo univoco per un bundle product su ogni visualizzazione store di una distribuzione multistore. I prezzi specifici per i siti web vengono salvati nel `catalog_product_bundle_selection_price` tabella. Precedentemente, l&#39;applicazione non basava il prezzo di un bundle prodotto sul sito web anche quando  **Negozi** > **Configurazione** > **Catalogo** > **Catalogo** > **Prezzo** > **Campo di applicazione del prezzo del catalogo** è impostato su `Website`. Nessun prezzo specifico per il sito web è stato salvato in `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* Le fatture per i prodotti bundle ora mostrano la quantità corretta per i prodotti semplici associati quando **Prezzi dinamici** è disabilitato. In precedenza, i prodotti semplici associati al prodotto del bundle avevano la quantità del prodotto principale, non il prodotto del bundle). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* La `updateProductsInWishlist` La mutazione ora aggiorna correttamente gli elementi che appartengono a un prodotto bundle in un elenco dei desideri. Precedentemente, invece di aggiornare la voce dell&#39;elenco dei desideri, questa mutazione eliminava l&#39;elemento e ne creava uno nuovo che modificava l&#39;ID dell&#39;elemento.

### Cache

<!-- ENGCOM-8554-->

* La `varnish6.vcl` è stato aggiornato per ignorare il caching della pagina del cliente.

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA ora convalida correttamente i dati forniti da un acquirente, e i campi CAPTCHA vengono ora visualizzati come previsto dopo i molteplici tentativi non riusciti di un acquirente di effettuare il check-out con PayPal Payflow Pro.

<!-- MC-41281-->

* La convalida CAPTCHA non genera più errori casuali nella pagina di pagamento del flusso di lavoro di pagamento.

<!-- MC-41001-->

* L’applicazione ora visualizza i campi CAPTCHA come previsto dopo aver superato il numero di tentativi di completamento non riusciti. Precedentemente, anche se l’applicazione ti ha richiesto di riprovare a tentare la sfida CAPTCHA, non visualizzava i campi CAPTCHA.

<!-- MC-40359-->

* CAPTCHA ora funziona come previsto nella pagina di pagamento. In precedenza, dopo che un acquirente aveva risposto correttamente a una sfida CAPTCHA, il caricatore sulla pagina di checkout non si era mai completato e l&#39;applicazione mostrava questo errore: `captchaData[formId] is undefined`. (Questo errore si verificava solo quando l’acquirente utilizzava lo stesso browser da cui aveva effettuato l’accesso a una distribuzione in esecuzione 2.3.5-p1.)

<!-- ENGCOM-8630-->

* `_.isEmpty()` controlli `defaultCaptcha.js` file completato. In precedenza, questi controlli non venivano completati e, di conseguenza, la pagina di pagamento non veniva caricata dopo l’aggiornamento. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carrello e pagamento

<!-- MC-41911-->

* Durante la conversione e l’aggiornamento della quantità di prodotto nel carrello, l’applicazione ora tiene conto delle localizzatori decimali specifici per le impostazioni internazionali.

<!-- MC-40657-->

* L&#39;applicazione ora visualizza il messaggio di convalida Termini e Condizioni nel blocco pertinente solo quando un acquirente fa clic sul pulsante **Ordine** pulsante . In precedenza, l&#39;applicazione visualizzava questo messaggio nel blocco Applica codice sconto ogni volta che un acquirente cambiava metodo di pagamento nel flusso di lavoro di pagamento: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-39581-->

* L&#39;applicazione ora scarta le modifiche al modulo dell&#39;indirizzo di fatturazione nella fase di pagamento del pagamento per pagamento di pagamento se l&#39;acquirente non fa clic sul **Aggiorna** e torna alla fase di spedizione.

<!-- MC-37807 ENGCOM-8530-->

* Prodotti con opzione personalizzabile `(File)` ora includi i collegamenti attivi come previsto durante il processo di pagamento per spedizione multipla. In precedenza, mancava questo collegamento. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* Il carrello acquisti amministratore ora visualizza i prezzi dei prodotti nelle valute corrette per i negozi che supportano più valute. Precedentemente, i prezzi venivano convertiti nella valuta specificata più di una volta, prima quando i prodotti venivano aggiunti al carrello dalla vetrina, e poi di nuovo quando l’ordine veniva successivamente reso sull’amministratore.

<!-- MC-35640-->

* Gli acquirenti possono ora aggiungere un prodotto al carrello il cui prezzo minimo pubblicizzato (MAP) supera il prezzo normale del prodotto.

<!-- MC-35289-->

* Gli acquirenti ora possono cambiare correttamente il loro indirizzo di fatturazione dal flusso di lavoro di pagamento quando effettuano il check-out con più indirizzi.

<!-- MC-29335 magento/magento2#32251 -->

* Tutte le transazioni di pagamento a pagamento create dagli ospiti vengono ora salvate nel database e visualizzate nell&#39;amministratore come previsto. In precedenza, nel database veniva salvato solo un piccolo sottoinsieme di ordini simultanei e la maggior parte degli ordini veniva persa a causa di timeout derivanti dai blocchi del database. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989-->

* L&#39;applicazione ora visualizza correttamente i messaggi di benvenuto in linea che contengono caratteri speciali quando un ospite inserisce un prodotto nel mini carrello. In precedenza, l’applicazione non aggiungeva il prodotto al mini carrello né visualizzava il messaggio di benvenuto. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* La pagina di spedizione del flusso di lavoro di pagamento ora viene caricata correttamente quando la consegna in-store è abilitata. In precedenza, l&#39;applicazione generava un errore JavaScript e la pagina di pagamento della spedizione non veniva completamente visualizzata.

<!-- ENGCOM-9006-->

* È stato aggiunto il `itemResolvers` argomento del catalogo `di.xml` file. Di conseguenza, il pagamento non viene più interrotto se i moduli di prodotto configurabili e raggruppati sono disabilitati. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* L&#39;applicazione ora visualizza i pulsanti di scelta nel **Informazioni su pagamento e spedizione** come previsto durante il flusso di lavoro di riordinamento amministratore. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* L&#39;applicazione ora applica correttamente le regole del prezzo del carrello con uno sconto fisso a livello di carrello quando il carrello contiene un bundle di prodotto con più opzioni. In precedenza, la regola del prezzo del carrello non veniva applicata completamente all’ordine. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* La **Aggiungi al carrello** il pulsante nella vista a elenco delle categorie ora funziona come previsto. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* È ora possibile utilizzare POST `/V1/carts/mine/items` per aggiungere una quantità personalizzata di prodotti raggruppati a un carrello. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* L&#39;applicazione non popola più l&#39;area dell&#39;indirizzo di fatturazione del flusso di lavoro di pagamento con l&#39;indirizzo di spedizione. Precedentemente, quando **Provincia** Il campo per l&#39;indirizzo di fatturazione era vuoto e gli indirizzi di spedizione e fatturazione differiti, l&#39;applicazione ha popolato l&#39;indirizzo di fatturazione **Provincia** campo con le informazioni dell&#39;indirizzo di spedizione. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catalogo

<!-- MC-36787-->

* Aggiornamento di massa **Abilita incrementi di quantità** e **Incrementi di quantità** Gli attributi ora funzionano come previsto. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41575-->

* L&#39;applicazione non genera più un errore JavaScript dopo che hai abilitato la sincronizzazione di prodotti recenti con l&#39;amministratore. In precedenza, l&#39;applicazione visualizzava questo errore JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* Gli aggiornamenti del layout del tema personalizzato vengono ora applicati come previsto. In precedenza, gli aggiornamenti del layout del tema personalizzato venivano ignorati.

<!-- MC-41499-->

* La cache della categoria di prodotto ora viene svuotata come previsto da `cron` durante `indexer_update_all_views` esecuzione. In precedenza, i conteggi dei prodotti nella pagina Categoria dopo la reindicizzazione non erano corretti.

<!-- MC-41422-->

* I valori degli attributi rimangono invariati quando un attributo non viene specificato in una richiesta REST API di aggiornamento del prodotto per una visualizzazione store. In precedenza, se non veniva specificato un attributo, l&#39;applicazione reimpostava il valore dell&#39;attributo al valore dell&#39;ambito predefinito.

<!-- MC-41284-->

* Griglia prodotti Admin (Amministratore) **Catalogo** > **Prodotti**) ora visualizza il numero di prodotti corretto quando i prodotti vengono filtrati da SKU.

<!-- MC-40873-->

* L&#39;applicazione ora visualizza lo stato accurato delle scorte quando un prodotto viene aggiunto a una pagina CMS quando sono abilitate le Autorizzazioni categoria e impedisce la visualizzazione del prezzo per il gruppo del cliente specificato. In precedenza, tutti i prodotti venivano visualizzati come non disponibili, indipendentemente dallo stato reale delle scorte.

<!-- MC-40859-->

* Il campo di immissione del prezzo del blocco del gruppo di clienti Advanced Pricing ha ora una larghezza minima di cinque cifre. In precedenza, su display a bassa risoluzione erano visibili solo due simboli in questo campo.

<!-- MC-40825-->

* L&#39;applicazione ora elimina correttamente un&#39;immagine del supporto di prodotto dopo l&#39;eliminazione di un prodotto. In precedenza, l&#39;immagine del prodotto multimediale era rimasta nella cartella dopo l&#39;eliminazione del prodotto.

<!-- MC-40811 magento/magento2#32042-->

* Il layout di pagina viene aggiornato come previsto quando crei o modifichi un prodotto nell’amministratore e quindi crei un aggiornamento della progettazione della pianificazione. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Ora è possibile salvare come vuoto un attributo di prodotto personalizzato con valore pari a zero. In precedenza, l&#39;applicazione non aggiornava questo valore in modo che risultasse vuoto.

<!-- MC-40736 ENGCOM-8789-->

* I file di aggiornamento del layout della categoria personalizzata vengono ora applicati ai prodotti come previsto. Precedentemente, l&#39;handle del file di aggiornamento (`catalog_category_view_*`) non corrisponde all&#39;handle del prodotto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* L’ordinamento è stato disattivato per la colonna Imposta prodotto fissa (FPT) dell’elenco Prodotti amministratore. In precedenza, non era possibile ricaricare la pagina Prodotti dopo l’ordinamento della colonna FPT.

<!-- MC-40443-->

* L’anteprima dei widget prodotti Page Builder funziona come previsto in una distribuzione multisito quando i prodotti corrispondenti hanno un prezzo diverso su ciascun sito web.

<!-- MC-40344 ENGCOM-8629-->

* Ordinamento per posizione nella ricerca del prodotto utilizzando GET `/rest/V1/products/?searchCriteria[filterGroups]` ora funziona come previsto. In precedenza, la raccolta di prodotti non aveva un campo `position` valore per l&#39;ordinamento. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Gli utenti amministratori possono ora visualizzare due spazi nel **Nome** e **SKU** nella griglia del prodotto. In precedenza, l&#39;applicazione comprimeva più spazi in un singolo spazio.

<!-- MC-39869-->

* I prodotti vengono ora visualizzati come non disponibili nella vetrina quando la quantità commerciabile nell’amministratore è 0. In precedenza, questi prodotti erano elencati come disponibili nella vetrina e l&#39;applicazione mostrava un **Aggiungi al carrello** pulsante . [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Gli amministratori possono ora aggiungere prodotti con opzioni personalizzabili `(File)` alla griglia Articoli ordinati dalla sezione Carrello acquisti (colonna Attività del cliente) della pagina Cliente amministratore. In precedenza, l&#39;applicazione non aggiungeva l&#39;elemento all&#39;elenco perché il valore non veniva formattato correttamente prima di essere inserito in `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* L&#39;applicazione non richiede più agli acquirenti di selezionare un&#39;opzione di prodotto per un prodotto bundle con una sola opzione.

<!-- MC-39617-->

* L’applicazione ora visualizza tutte le sottocategorie negli aggiornamenti di layout (categorie di ancoraggio e non di ancoraggio) durante la creazione di un nuovo widget.

<!-- MC-39481-->

* La `product` la query non sovrascrive più i valori predefiniti per tutte le viste store in una distribuzione multi-store quando un nome prodotto viene aggiornato solo per una vista store. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Il Magento Open Source aggiorna il conteggio totale delle pagine come previsto quando si modifica il valore per pagina dell&#39;elenco Prodotti, Vendite e Vendite incrociate di amministratori correlati. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Gli amministratori possono ora aggiungere prodotti con due o più opzioni personalizzabili `(File)` a un ordine di SKU.

<!-- MC-39140-->

* L&#39;applicazione non genera più un errore quando un amministratore con autorizzazioni limitate aggiunge un widget di prodotto a una pagina CMS nell&#39;amministratore. In precedenza, l&#39;applicazione generava questo errore quando l&#39;amministratore faceva clic su **Salva** pulsante:  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* Le pagine dei dettagli del prodotto ora si aprono con l’opzione data personalizzabile compilata con la data dell’ordine precedente quando **Usa calendario JavaScript** è abilitato. Se il valore non viene formattato in base alla configurazione corrente, il risolutore del valore dell’opzione della data personalizzata ora torna a un formato alternativo. In precedenza, il valore dell’opzione data personalizzata era vuoto.

<!-- MC-39104-->

* L’applicazione ora visualizza un solo errore nel carrello quando il prodotto è esaurito. In precedenza, l&#39;applicazione visualizzava messaggi ridondanti. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-38575-->

* È ora possibile impostare le `required_options` e `has_options` gli attributi del bundle come previsto durante la creazione o l&#39;aggiornamento di un prodotto bundle utilizzando `POST /V1/product/:sku` punto finale. In precedenza, questi attributi personalizzati erano impostati su 0 (zero) nonostante gli sforzi per impostarli su 1 (uno).

<!-- MC-35717  magento/partners-magento2ee#427-->

* Gli amministratori possono ora aggiungere un prodotto con un’opzione personalizzabile `(File)` a un ordine di SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* È ora possibile salvare un prodotto e un prezzo senza specificare `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* I prodotti di gruppo sono ora disponibili nella vetrina come previsto quando si utilizza un REST `PUT /V1/products/:sku/links` viene utilizzato per associare un nuovo prodotto secondario a un nuovo prodotto del gruppo. In precedenza, i prodotti non venivano indicizzati correttamente dopo l’esecuzione `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Non è più possibile creare un prodotto con un `NULL` Valore SKU. In precedenza era possibile creare un prodotto senza un valore SKU tramite un importatore personalizzato o direttamente nel database, ma quando si tentava di modificarlo dall’amministratore, l’applicazione generava un errore. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* L&#39;aggiunta delle opzioni personalizzate richieste a un prodotto semplice non lo rimuove più dai prodotti compositi padre senza alcun avviso. L&#39;applicazione ora visualizza un avviso informativo e non salva il prodotto.  In precedenza, l’applicazione salvava le modifiche al prodotto e non visualizzava un avviso. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Regola del catalogo

<!-- MC-39896-->

* La `products` query ora restituisce i valori correnti quando una regola del prezzo di catalogo si applica a un articolo. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Tabelle temporanee che iniziano con `catalogrule_product__temp` vengono ora eliminate come previsto quando la reindicizzazione non riesce dopo la scadenza di una regola del carrello o del catalogo, viene disabilitata o diventa inattiva. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* Ora i fusi orari vengono applicati allo stesso modo in `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` e `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### Contenuto CMS

<!-- MC-41471-->

* Le immagini di grandi dimensioni vengono ora ridimensionate come previsto durante il caricamento quando **Abilita ridimensionamento anteriore** l&#39;impostazione di configurazione è abilitata.

<!-- MC-40663 ENGCOM-8883-->

* È stata corretta la gestione degli errori per il controller di salvataggio della pagina CMS. Precedentemente, quando un `Error` oggetto lanciato sul `cms_page_prepare_save` , l&#39;applicazione ha passato questo oggetto al `addExceptionMessage` funzione, interrompere il contratto perché questa funzione richiede un `Exception`. È stato risolto aggiungendo un messaggio di errore utilizzando `addErrorMessage` funzione . [GitHub-30149](https://github.com/magento/magento2/issues/30149)

### Prodotti configurabili

<!-- MC-40719-->

* L’applicazione non duplica più le miniature dei prodotti nella raccolta immagini di un prodotto quando fai clic sulle opzioni configurabili di un prodotto.

<!-- MC-37418-->

* Il pop-up di configurazione visualizzato dall&#39;applicazione quando si modifica un prodotto configurabile da un elenco di desideri ora si chiude come previsto quando si fa clic sul **OK** pulsante .

<!-- MC-39878  magento/magento2#31472-->

* L&#39;applicazione ora genera correttamente le fatture per gli ordini contenenti un solo prodotto configurabile. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Gli acquirenti possono ora aggiungere prodotti configurabili al carrello da una vista store non predefinita. Precedentemente, quando l&#39;acquirente in una visualizzazione store non predefinita tentava di aggiungere un prodotto configurabile, l&#39;applicazione visualizzava questo errore: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### CSP (Content Security Policy CSP)

<!-- ENGCOM-8577-->

* L&#39;informativa sulla sicurezza dei contenuti supporta ora il caricamento di immagini e font codificati base64 attraverso `data: scheme`.

### cron

<!-- MC-30804-->

* Le query di pulizia Cron sono state reimpostate per ridurre o eliminare i seguenti problemi di prestazioni: `cron` lavori rimasti bloccati in sospeso, query MySQL sempre più lente e un aumento dell&#39;utilizzo della CPU. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` che si trovano nello stato `running` per più di 24 ore vengono automaticamente modificati in stato `error`.  Di conseguenza, una nuova istanza del processo può essere eseguita nuovamente e non è necessario modificare manualmente lo stato del processo quando un processo rimane impostato in modo errato sullo stato `running`. In precedenza, se `cronjob` sono bloccati nello stato `running`, l&#39;applicazione impediva l&#39;avvio di nuove istanze dello stesso processo ed era necessario modificare manualmente lo stato del processo. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` i processi ora vengono completati come previsto e non generano più questo errore di serializzazione:  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  i processi cron ora vengono eseguiti come previsto dopo un errore precedente. L&#39;esecuzione non riuscita è contrassegnata come un errore nel `cron_schedule schedule`e l&#39;esecuzione successiva non ha esito negativo automaticamente. Precedentemente, la `cron_schedule` tabella riempita di lavori in sospeso e `indexer_update_all_views` processo cron non eseguito. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` gli deadlock non si verificano più a seguito di `cron` tentativo di impostare un blocco nelle distribuzioni di grandi dimensioni in cui i gruppi si sovrappongono. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` gli deadlock non si verificano più `cron_schedule` tabella dopo pochi `cron` i lavori sono stati eseguiti. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Attributi del cliente personalizzati

<!-- MC-41611-->

* La **Stato** nella rubrica del cliente di vetrina ora viene caricato come e rimane un elemento della pagina a discesa. La **Invia** Questo pulsante è ora disattivato fino a quando tutti gli elementi della pagina non sono stati completamente caricati. In precedenza, l&#39;applicazione caricava questo campo come casella di testo prima di eseguirne il rendering come elemento a discesa, e gli acquirenti potevano immettere e salvare i valori nel campo di testo, causando in seguito un errore durante l&#39;estrazione.

<!-- MC-40329-->

* L&#39;applicazione non genera più un errore quando salvi un attributo dell&#39;indirizzo del cliente con un file allegato nel campo Indirizzo cliente amministratore al momento del caricamento dei file. Ciò si verificava a causa di un&#39;istruzione return mancante nell&#39;azione del controller. In precedenza, l&#39;applicazione generava questo errore: `Something went wrong while saving the file`.

<!-- MC-39354-->

* Le chiamate API REST GET Cart ora restituiscono valori di attributi personalizzati corretti per gli indirizzi di fatturazione e spedizione. In precedenza, gli attributi degli indirizzi personalizzati venivano visualizzati in modo errato nella pagina dei dettagli dell&#39;ordine nella vetrina dell&#39;account personale e nell&#39;amministratore.

<!-- MC-24495-->

* L&#39;applicazione ora gestisce correttamente i file che contengono gli attributi dell&#39;indirizzo del cliente con il tipo di input `file (attachment)`. In precedenza, l&#39;applicazione aveva generato questo errore durante il caricamento del file allegato: `Something went wrong while saving the file`.

### Cliente

<!-- MC-40579-->

* Il filtro per data di creazione dell’account ora genera risultati conformi alle impostazioni del fuso orario configurate e che acquisiscono tutti gli account creati pertinenti.

<!-- MC-40502-->

* Il filtro griglia del cliente ora utilizza un’opzione corretta per un sito web per un utente con restrizioni se i dati erano stati precedentemente memorizzati nella cache. In precedenza, il filtro griglia del cliente recuperava i parametri del sito web dalla cache e includeva dati non corretti per gli utenti con restrizioni.

<!-- MC-39189-->

* L&#39;applicazione non genera più un&#39;eccezione nella pagina Clienti amministratore quando un sito web viene eliminato in una distribuzione multisito. In precedenza, quando un amministratore tentava di accedere all’elenco dei clienti completo, l’applicazione non visualizzava tutti i clienti e mostrava questo errore: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Gli amministratori con autorizzazione ora possono riassegnare i clienti a siti Web diversi dalla scheda Informazioni account del cliente.

<!-- MC-39852-->

* Ora è possibile caricare correttamente un file quando si crea un attributo dell&#39;indirizzo del cliente con un tipo di input `(File)`. In precedenza, quando si tentava di caricare e salvare un file, l&#39;applicazione generava questo errore: `Something went wrong while saving the file`.

### Directory

<!-- MC-39520-->

* L&#39;applicazione non genera più un&#39;eccezione quando un acquirente immette un codice postale/zip non valido durante la sezione di spedizione del flusso di lavoro di pagamento. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Scaricabile

<!-- MC-35779-->

* L’applicazione ora visualizza i collegamenti ai prodotti scaricabili nell’e-mail Nuovo ordine quando l’ordine contiene sia un prodotto scaricabile che un prodotto configurabile con un’opzione scaricabile. In precedenza, l’applicazione visualizzava il collegamento al prodotto scaricabile autonomo ma non il collegamento al prodotto configurabile con un’opzione scaricabile.

### EAV

<!-- MC-41756-->

* I valori della data dell’attributo dell’indirizzo del cliente vengono ora salvati in formato a quattro cifre anziché a due cifre.

### E-mail

<!-- MC-39757-->

* Il collegamento di reimpostazione della password nella pagina Reimpostazione password amministratore ora funziona come previsto. Precedentemente, quando veniva utilizzato un modello personalizzato per la pagina reimposta password amministratore, l’applicazione visualizzava questo messaggio quando un amministratore faceva clic sul collegamento all’interno dell’e-mail: `Your password reset link has expired`. Ciò si verificava perché il modello e-mail personalizzato conteneva la variabile errata per l’ID utente.

<!-- MC-41588-->

* L’invio di e-mail dei clienti dall’amministratore ora funziona correttamente se abilitato a livello di store-view. In precedenza, l’applicazione non inviava e-mail ai clienti quando le impostazioni di notifica e-mail erano abilitate a livello di store-view, ma non a livello globale.

<!-- MC-40950-->

* L’applicazione ora invia e-mail come previsto nelle distribuzioni multisito in cui non tutti i siti web hanno abilitato l’invio asincrono delle e-mail. Precedentemente, se almeno un sito web aveva questa impostazione disabilitata, l’e-mail non veniva inviata da alcun sito web, anche se abilitata. Le e-mail relative a fatture, spedizioni e note di accredito hanno avuto problemi simili. Tuttavia, le e-mail Commenti ordine, Commenti fattura, Commenti spedizione e Commenti nota di accredito sono state inviate correttamente. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-30127 magento/magento2#31455-->

* Le fatture e i PDF delle fatture ora includono gli stessi prezzi previsti per i prodotti dei bundle. In precedenza, i PDF delle fatture includevano il prezzo errato per i prodotti bundle. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* Il casting stringa è stato aggiunto al metodo di filtro del modello e-mail per garantire che il valore restituito sia un valore `string`. In precedenza, quando veniva rilevata un&#39;eccezione mentre non era in modalità sviluppatore, l&#39;applicazione restituiva un `phrase` oggetto. Questo a sua volta ha attivato un mortale `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Le e-mail di conferma dell’ordine vengono ora inviate come previsto quando l’invio asincrono è abilitato (**Negozi**  >  **Configurazione**  >  **Vendite**  > **E-mail di vendita**  >  **Impostazioni generali**  >  **Invio asincrono**) su un sito web in una distribuzione multisito. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* L’applicazione registra ora un errore come previsto quando si verifica un’eccezione quando un cliente tenta di inviare un’e-mail dal modulo Contattaci. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Framework

<!-- MC-41712-->

* Le classi principali nell&#39;amministratore vengono ora controllate per l&#39;annotazione docblock insieme alla classe originale e alle interfacce ereditate. In precedenza, poiché le classi principali non erano selezionate, l&#39;esecuzione di eventuali azioni relative al cliente nell&#39;amministratore che attivava un evento causava un errore. L&#39;applicazione ha registrato questo errore nel registro delle eccezioni: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* L&#39;applicazione non genera più un errore irreversibile quando il server Redis viene arrestato in una distribuzione in cui è abilitato il caching delle pagine Redis.

<!-- MC-40739-->

* L&#39;applicazione rispetta ora **Escludere la cartella multimediale dal backup** quando il backup è abilitato con `bin/magento config:set system/backup/functionality_enabled 1`. Precedentemente, veniva eseguito il backup della cartella multimediale nonostante questa impostazione perché il percorso di `/magento` è stato formato in modo errato con un doppio //.

<!-- MC-40654 ENGCOM-8881-->

* L’applicazione ora traduce tutte le stringhe traducibili come previsto per la pagina Carrello amministratore. In precedenza, il carico di traduzione si verificava troppo tardi e venivano ignorati tutti gli osservatori abbonati all’azione di controllo pre-invio. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* La convalida del modulo nella pagina Crea nuovo account cliente ora funziona correttamente quando il **Accedi come cliente** l&#39;impostazione di abilitazione dell&#39;estensione è disabilitata. In precedenza, l&#39;applicazione generava un errore JavaScript.

<!-- MC-39193-->

* Gestione delle eccezioni per i processi figlio forgiati da `ProcessManager` è stato migliorato. Quando si verifica un&#39;eccezione ora, il processo principale esce e viene visualizzato un messaggio di errore una sola volta. In precedenza, venivano registrati più errori di indicizzazione e venivano visualizzati più messaggi. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Plug-in di Magento Open Source globale (ad esempio, `webapi_rest` e `graphql` ) non viene più attivata per un nuovo tipo di area personalizzata quando `di.xml` di questo file di area non contiene plug-in registrati.

<!-- MC-38770-->

* Le eccezioni che si verificano durante l&#39;inizializzazione non vengono più memorizzate nella cache e ora attivano un codice di risposta 500.

<!-- ENGCOM-8232-->

* L’ultimo handler è stato unito in un `communication.xml` il file non esclude più tutti i gestori creati in precedenza. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correzioni generali

<!-- MC-41194-->

* L&#39;applicazione ora visualizza il numero corretto di stelle nella pagina Analisi prodotto personale e nella pagina Recensioni recenti sulla pagina MyAccount . Precedentemente, l&#39;applicazione applicava le stelle di revisione solo alla prima revisione e lasciava le altre recensioni sulla pagina senza avviarsi.

<!-- MC-40653-->

* I collegamenti degli account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti account nelle intestazioni contenevano ID duplicati, causando errori di convalida WCAG.

<!-- MC-39765-->

* L&#39;applicazione non genera più errori generati dal registro di sistema quando un acquirente guest utilizza un indirizzo non valido. In precedenza, l’applicazione visualizzava questo errore a intermittenza invece di eseguire il rendering della pagina: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* Il processo di ridimensionamento delle immagini non si interrompe più per le immagini in formato non supportato. Precedentemente, quando `catalog:images:resize` rilevato un formato immagine non supportato, il processo si è interrotto e l&#39;applicazione ha visualizzato questo errore: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* Il supporto WEBP e AVIF per le immagini con logo è stato aggiunto all’amministratore. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Non è più possibile modificare l&#39;ambito del `media_gallery` attributo. Precedentemente, quando si modificava l&#39;ambito della `media_gallery` restituisce `global`, l&#39;applicazione ha generato un errore.

<!-- MC-36818  magento/partners-magento2ee#470-->

* I prodotti correlati aggiunti come aggiornamento pianificato non vengono più visualizzati in una pagina di prodotto della vetrina dopo la data di fine dell’aggiornamento. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-33499 magento/partners-magento2ee#446-->

* Il filtro ora funziona come previsto nell’elenco delle esportazioni pianificate quando si seleziona il tipo di entità. In precedenza, il filtro non funzionava e l&#39;applicazione generava un errore JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Le immagini delle categorie ora vengono copiate come previsto dal `catalog/tmp/category` nella directory `catalog/category` quando le categorie vengono salvate utilizzando il metodo di archiviazione del database. La riga immagine nel `media_storage_file_storage` la tabella ora ha anche la `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Dopo l’invio delle modifiche alla gerarchia CMS, ora agli esercenti viene notificato l’utilizzo di cache invalidate come previsto. In precedenza, l&#39;applicazione non aveva annullato le cache durante il salvataggio della gerarchia CMS.

<!-- MC-24725-->

* Le richieste di AJAX ridondanti alla sezione del carrello sono state ridotte. In precedenza, l&#39;applicazione non caricava correttamente il subtotale del carrello, che attivava nuovamente il ricaricamento del carrello.

<!-- MC-23740-->

* È stata aggiunta la convalida per gli URL per impedire l’inclusione di parole riservate nelle chiavi URL. Vedi [Definizione di identificatori di risorsa uniformi ben noti (URI)](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* Sulle distribuzioni che eseguono PHP 7.4, l&#39;applicazione ora restituisce un errore 404 quando il **Genera riscritture URL &quot;categoria/prodotto&quot;** è impostato su **No** e un acquirente tenta di accedere a un percorso di categoria inesistente. In precedenza, l’applicazione restituiva un errore 500 che indicava: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- ENGCOM-8901-->

* `nowdoc` è stato sostituito `heredoc` in `Magento_Backend` commutatore del negozio. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8685-->

* Aggiunte le regioni Argentina, Bolivia, Cile, Ecuador, Guyana, Paraguay, Perù, Suriname e Venezuela `directory_country_region` tabella. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Aggiunte le regioni Albania, Danimarca, Grecia, Islanda, Portogallo e Svezia `directory_country_region` tabella. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* I messaggi vengono ora contrassegnati come errori nella coda messaggi di MysqlMQ quando si verificano delle eccezioni. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* L&#39;applicazione ora fa riferimento all&#39;oggetto classe corretto durante il caricamento delle informazioni fiscali per la nota di credito amministratore e le pagine di fattura. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* L’integrazione con clic e rilascio di Royal Mail ora funziona come previsto. In precedenza, l&#39;applicazione generava questo errore quando si tentava di attivare la sua integrazione: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* L&#39;applicazione ora visualizza un messaggio di errore informativo quando viene passato un ID di spedizione, nota di credito o fattura errato in un URL. In precedenza, l&#39;applicazione generava un errore irreversibile. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* La ricorrenza nel percorso dei file statici è stata rimossa.  L&#39;applicazione ora visualizza una pagina 404 invece di un errore 500. In precedenza, un bug nella configurazione NGINX predefinita generava una ricorsività infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* Nome della `cms_index_noroute.xml` file corretto in `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* La `.editorconfig` è stato reintrodotto il refactoring per correggere la formattazione automatica di `db_schema_whitelist.json` file. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* Il ridimensionamento di una finestra del browser non attiva più eventi di ingrandimento del binding duplicati. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* L&#39;applicazione non genera più un&#39;eccezione SQL durante il filtraggio `Magento\Users\Model\ResourceModel\Users\Collection` da `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Carte regalo

<!-- MC-32651-->

* La logica di convalida dell’intervallo di prezzo è stata aggiunta alla pagina di creazione della carta regalo. In precedenza, un amministratore poteva creare una scheda con un valore minimo che superava il valore massimo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* La `addRequisitionListItemsToCart` la query restituisce ora l&#39;importo di una carta regalo personalizzata come previsto quando la richiesta non contiene un valore per `allow_open_amount`.

### Messaggio regalo

<!-- ENGCOM-8539-->

* Gli amministratori vengono ora reindirizzati direttamente alla pagina di amministrazione richiesta dopo l&#39;accesso.  Precedentemente, quando un amministratore effettuava l’accesso, veniva reindirizzato al dashboard di amministrazione (o a qualsiasi pagina configurata come pagina di avvio) e doveva passare manualmente alla relativa destinazione. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

### Google Tag Manager

<!-- MC-39072-->

* Il componente dell’interfaccia utente per l’indirizzo di fatturazione nella pagina di pagamento del flusso di lavoro di pagamento ora utilizza correttamente l’indirizzo del preventivo quando Google Tag Manager è abilitato. In precedenza, si verificava un errore JavaScript nella pagina di pagamento.

### GraphQL

<!-- MC-41885-->

* GraphQL `products` query ora restituisce opzioni attributo ordinate nello stesso ordinamento utilizzato nella pagina di modifica dell&#39;attributo.

<!-- MC-41473-->

* La risposta alla `{ category(id: 2){ children { name children { name } } } }` La richiesta GraphQL ora include una struttura di categorie ordinata correttamente.

<!-- MC-41030-->

* La `CartItemPrices` L&#39;oggetto contiene ora il nuovo campo GraphQL `fixed_product_taxes`, che restituisce un array delle imposte sui prodotti fisse applicate a un elemento carrello. In precedenza, le imposte sui prodotti fisse applicate a un articolo del carrello non venivano incluse nella query del carrello.

<!-- MC-40920-->

* Le richieste vuote a GraphQL ora lanciano il codice di risposta 200 invece di 500. In precedenza, il parser GraphQL aveva generato un&#39;eccezione prima della generazione del risultato della query.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* La `applyRewardPointsToCart` La mutazione ora aggiorna il totale complessivo di un carrello in modo da riflettere con precisione il valore dei punti di premio detratti. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* I prodotti disattivati non sono più inclusi nella risposta di GraphQL quando GraphQL viene utilizzato per collegare i prodotti di upselling.

<!-- MC-40262-->

* Ora i merchants possono utilizzare GraphQL `setShippingAddressesOnCart` metodo per impostare gli indirizzi di fatturazione e di spedizione per il carrello di un acquirente quando il pagamento per gli ospiti è disattivato.

<!-- MC-39508-->

* La `categoryList` la query non genera più un&#39;eccezione quando contiene più frammenti nel `CategoryTree` oggetto. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* GraphQL `product` query restituisce ora i prezzi corretti del gruppo di clienti.

<!-- MC-38822-->

* GraphQL `products` la risposta alle query ora ordina le aggregazioni in base alla posizione dell’attributo del prodotto.

<!-- ENGCOM-8462-->

* L&#39;applicazione non genera più errori di tipo durante le query GraphQL quando i suffissi URL di prodotti e categorie contengono valori null. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* La `CustomizableDateValue` l&#39;oggetto contiene ora `type` attributo. Il suo valore è un&#39;enumerazione che può essere impostata su DATE, DATE_TIME o TIME.

<!--  magento/partners-magento2ee#421-->

* La [`dynamicBlocks` query](https://devdocs.magento.com/guides/v2.4/graphql/queries/dynamic-blocks.html) restituisce il contenuto dei blocchi dinamici corrispondenti ai filtri specificati.

<!-- ENGCOM-8603-->

* Il POST `V1/products/special-price-delete` La richiesta ora elimina solo il prezzo con un `store_id` come previsto. In precedenza, la chiamata rimuoveva tutti i prezzi speciali per la SKU specificata da tutti i negozi. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* È stato corretto un errore con `country_code` nella `createGiftRegistry` mutazione.

<!-- magento/partners-magento2ee#280 -->

* Sono stati risolti i problemi relativi alla `giftRegistryUid` dell&#39;attributo `updateGiftRegistryItems` mutazione.

<!-- magento/partners-magento2ee#280 -->

* È stato aggiunto un controllo aggiuntivo per impedire il `updateGiftRegistryRegistrants` la mutazione viene utilizzata per aggiungere persone casuali come dichiaranti a un registro dei regali.

<!-- magento/magento2#31380 -->

* La `addConfigurableProductsToCart` mutation ora restituisce la miniatura corretta del prodotto specificato. Precedentemente, restituiva la miniatura del prodotto principale.

<!-- ENGCOM-8477-->

* La `products` query non espone più il prezzo speciale di un prodotto quando il periodo del prezzo speciale è impostato per una data futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* La `customer` la risposta alla query include ora `total_giftcard` come parte del `OrderTotal` oggetto.

<!-- MC-41084 ENGCOM-9042 -->

* È stato corretto un problema che causava il `products` query per restituire informazioni errate sui livelli di prezzo su articoli che non dispongono di prezzi di livello impostati. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Immagine

<!-- MC-38951-->

* È ora possibile impostare gli attributi required_options e has_options come previsto durante la creazione o l&#39;aggiornamento di un prodotto bundle utilizzando POST `/V1/product/:sku` punto finale. In precedenza, questi attributi personalizzati erano impostati su 0 (zero) nonostante gli sforzi per impostarli su 1 (uno).

### Importazione/esportazione

<!-- MC-41576-->

* Il filtro ID categoria per le entità prodotto nella griglia Attributi entità della pagina Esporta ora funziona come previsto.

<!-- MC-41439-->

* Lo stato delle scorte di prodotti raggruppati viene aggiornato come previsto al di fuori delle scorte quando tutti i prodotti secondari sono esauriti. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* Lo stato delle scorte di prodotti configurabili viene ora aggiornato automaticamente come previsto quando lo stato delle scorte di prodotti secondari viene aggiornato tramite l’importazione. In precedenza, lo stato delle scorte dei prodotti non veniva aggiornato automaticamente quando lo stato delle scorte dei prodotti secondari veniva aggiornato dall’importazione.

<!-- MC-41151-->

* Ora puoi salvare valori vuoti in un’esportazione pianificata. In precedenza, l’applicazione aggiornava valori di filtro vuoti dopo la creazione o il salvataggio dell’esportazione. Entrambi `no` e `not specified` i valori sono stati rappresentati da zero nel database e un valore di `not selected` è stato sostituito con `no`.

<!-- MC-41092-->

* Il processo di esportazione ora prende in considerazione l’ambito del ruolo utente durante l’esportazione di prodotti, origini azioni e entità cliente. In precedenza, il processo di esportazione ignorava l’ambito del ruolo utente, che consentiva l’esportazione di entità di esportazione di ruoli utente privati.

<!-- MC-40943-->

* L&#39;applicazione ora imposta la classe di imposta sul prodotto su `None` se un prodotto è importato con `tax_class_name` values `None` o `0`. Precedentemente, se `product tax_class_name` era `None` nel file CSV, l&#39;applicazione ha creato una nuova classe di imposta `None`, che ha duplicato la classe di imposta esistente. Se `product tax_class_name` i `0` nel file CSV, l&#39;applicazione ha ignorato tale valore e la classe di imposta sul prodotto non è cambiata dopo l&#39;importazione.

<!-- MC-40898-->

* Ora gli amministratori possono modificare correttamente le `name` di un pacchetto di prodotti `bundle_values` dall&#39;amministratore. In precedenza, l’applicazione visualizzava il prodotto come non disponibile nella vetrina dopo che il nome era stato modificato dall’amministratore. I prodotti sono stati anche uniti con lo stesso SKU in una singola sezione a opzione del bundle.

<!-- MC-40333-->

* L’applicazione ora tiene conto dell’ambito utente durante l’esportazione dei dati dei clienti. In precedenza, quando si tentava di esportare i clienti, l&#39;applicazione esportava i dati dei clienti da tutti i siti web.

<!-- MC-40305-->

* Durante l’importazione di file CSV, l’applicazione ora rimuove le relazioni di prodotto tra up sell, cross selling e prodotti correlati, come previsto `__EMPTY__VALUE__` è specificato nel file CSV.

<!-- MC-40012-->

* Esportazione dei dati degli indirizzi personalizzati per molti clienti (Amministratore **Sistema** > **Esporta**) non genera più un errore di memoria di routine. Precedentemente, durante l&#39;esportazione dei dati degli indirizzi personalizzati, l&#39;applicazione tentava di caricare tutti i dati del cliente, il che causava l&#39;esaurimento della memoria, e l&#39;applicazione generava un errore di allocazione della memoria.

<!-- MC-39977-->

* I prezzi di livello duplicati non vengono più importati durante il processo di importazione CSV predefinito. In precedenza, mancava la convalida per impedire l&#39;importazione di prezzi di livello duplicati, e quando si verificavano prezzi di livello duplicati, i commercianti non potevano salvare i prodotti. I commercianti hanno visto anche questo errore quando hanno provato a pianificare una modifica del prodotto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Tutte le immagini del prodotto vengono ora convalidate durante l’importazione. In precedenza, l’applicazione convalidava solo la prima immagine quando un prodotto aveva più immagini. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* È ora possibile eliminare un&#39;area da un indirizzo cliente come previsto durante l&#39;importazione. In precedenza, l&#39;area assegnata non veniva modificata quando un indirizzo cliente veniva importato con un&#39;area vuota.

<!-- MC-38810-->

* I prodotti con contenuto JSON o HTML come attributi di prodotto aggiuntivi ora vengono esportati correttamente in un file CSV. In precedenza, il file CSV conteneva stringhe di dati sovrapposte in campi errati.

### Indice

<!-- MC-39718 ENGCOM-8567-->

* Process Manager ora esce con un errore quando un processo figlio non riesce. In precedenza, Process Manager usciva sempre con successo se il numero di funzioni ad esso trasmesse (ad esempio, dimensioni dell&#39;indicizzatore) era inferiore al valore del `MAGE_INDEXER_THREADS_COUNT` variabile di ambiente. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* I prodotti sono ora disponibili come previsto nei risultati della ricerca nella vetrina quando si collegano prodotti utilizzando un PUT REST `/V1/products/:sku/links` richiesta quando la modalità indexer è impostata su **Aggiorna su Salva**.

<!-- MC-38310 magento/magento2#32693-->

* L&#39;indicizzatore della regola del prezzo del catalogo ora funziona come previsto quando la modalità dell&#39;indicizzatore è impostata su **Aggiorna su Salva**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* L&#39;eliminazione di una categoria disabilitata che non include un prodotto ora non ha alcun effetto sulle tabelle degli indici flat delle categorie e della ricerca nel catalogo. In precedenza, l’eliminazione di una categoria inattiva causava una reindicizzazione completa. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Gli indici personalizzati possono ora utilizzare nomi di colonna di entità diversi per le sottoscrizioni. In precedenza, il trigger del database utilizzava il nome della colonna dall’ultimo set di indicizzatore a **Aggiorna per pianificazione** invece dell&#39;indicizzatore designato. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* L&#39;applicazione non invia più richieste AJAX per ricaricare le sezioni dati del cliente (`Magento_Customer/js/section-config`) non influenzate dalla richiesta. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* I seguenti indici non vengono più invalidati dopo l’aggiunta, la rimozione o il riordino di prodotti in una categoria: `catalog_category_product` e `catalogsearch_fulltext` (e loro dipendenti). In precedenza, queste rimozioni involontarie attivavano la reindicizzazione completa dei siti. In queste condizioni, ora viene impedito un reindicizzazione completa quando il catalogo piatto non è abilitato.

### Infrastruttura

<!-- MC-41445-->

* La dipendenza `pelago/emogrifier` è stato aggiornato dalla versione 3.1.0 alla versione 5.0.0. Questo aggiornamento ha comportato l’introduzione di modifiche incompatibili con le versioni precedenti al `Magento\Email\Model\Template\Filter` classe. Il codice modificato viene eseguito durante il rendering dei modelli e-mail. Vedi [Riferimento BIC](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* È stato corretto un problema relativo a `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` che impediva il salvataggio di un nuovo prodotto.

<!-- MC-42199-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. La `Magento_Tinymce3Banner` i test del modulo e MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce.

<!-- MC-41497-->

* L&#39;applicazione non genera più un `Invalid header value detected` errore sul modulo Contattaci quando un acquirente inserisce un indirizzo e-mail che contiene segni diacritici francesi (come &quot;é&quot;, &quot;è&quot;). L&#39;applicazione ora converte le lettere UTF-8 nel nome utente in codifica ASCII. In precedenza, le lettere UTF-8 non venivano convertite in codifica ASCII nella sezione univoca dell’indirizzo e-mail.

<!-- MC-39947-->

* L&#39;applicazione non genera più un errore irreversibile PHP quando un plug-in viene aggiunto a una classe principale. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Aggiornamento dei file README.md per i moduli seguenti: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` è stato aggiornato alla versione 6.0.3 per la compatibilità con PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid` è stato aggiornato per compatibilità con PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` è stato aggiornato alla versione 1.4.4 per garantire la compatibilità con PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* È stata corretta una combinazione non valida di tabulazioni e spazi nel `phpstan.neon` file. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* Utilizzo di proprietà obsolete rimosso `$_isScopePrivate` in tutta la base di codice. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* I layout di pagina non sono più codificati in  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Di conseguenza, il `getPageLayouts()` la funzione ora restituisce l’elenco effettivo dei layout di pagina dichiarati dai diversi moduli come previsto. In precedenza, restituiva solo layout hardcoded. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* La `composer.lock` è stato aggiornato alla versione più recente di Coding Standard. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* È stata aggiunta una dipendenza mancante nella `web-token/jwt-framework` il pacchetto `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Sono stati aggiunti listener passivi al `fotorama.js` per migliorare il punteggio delle metriche del faro. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Il file README.md per il modulo Google Analytics è stato aggiornato. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Process Manager ora gestisce correttamente le eccezioni nei processi con fork. Il processo principale ora si chiude e l&#39;applicazione ora visualizza un messaggio di errore una sola volta. Inoltre, le eccezioni dai processi fork vengono ora gestite quando vengono lanciati nel processo principale. In precedenza, l&#39;applicazione registrava più errori di indicizzazione e visualizzava più messaggi di errore.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* L&#39;applicazione non genera più un errore quando un plug-in viene aggiunto a una classe principale. (2) `optionsProvider` viene ora dichiarato dopo `getContentIdentities` in `Assest.php`.) In precedenza, l&#39;applicazione generava questo errore:  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* In esecuzione `Magento\Framework\Filesystem\Io\Ftp::ls()` in una cartella vuota ora restituisce una matrice vuota come previsto. In precedenza, l&#39;applicazione ha generato questa eccezione: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* La `update` sia per Role che Rules è stato contrassegnato come obsoleto in `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* È stata corretta la conversione per i parametri cookie SameSite. Precedentemente, una concatenazione errata aggiungeva la `lex` suffisso a `value`, `domain`e altri parametri. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` è stato aggiornato alla versione 1.3.1 in tutta la codebase. In precedenza, l&#39;applicazione visualizzava questo errore:  `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* L&#39;applicazione ora visualizza errori più informativi quando si verificano errori in esecuzione `bin/magento` comandi in modalità di produzione. In precedenza, l&#39;applicazione non visualizzava messaggi di errore o visualizzava messaggi che non contenevano informazioni. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* La `ArrayIterator` L&#39;oggetto PHP è stato aggiornato per funzionare come previsto con PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* L&#39;applicazione non genera più un errore quando un cliente tenta di completare un ordine quando non sono disponibili vettori di spedizione. Al contrario, visualizza la pagina di pagamento e questo messaggio: `Sorry, no quotes are available for this order at this time`. In precedenza, l&#39;applicazione visualizzava una pagina di pagamento vuota e registrava questo messaggio nel registro delle eccezioni: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* L&#39;applicazione non registra più ogni cookie come contesto separato. La `$_COOKIE` anche l’array è stato convertito in una stringa. In precedenza, poiché ogni cookie veniva registrato come contesto separato, quando il numero di cookie superava i 50, l’applicazione registrava questo messaggio: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Fattura

<!-- ENGCOM-8472 -->

* Durante la creazione di nuove fatture nell&#39;amministratore, l&#39; **Copia e-mail di** ora funziona come previsto. In precedenza, la casella di controllo veniva ignorata se l&#39;impostazione globale per l&#39;invio di e-mail su fattura era abilitata in **E-mail di vendita**. Ora è coerente e funziona allo stesso modo delle pagine di creazione di note di spedizione e di credito. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Media Gallery

<!-- MC-41728-->

* `bin/magento media-gallery:sync` ora non riesce come previsto quando si elaborano immagini PNG prive di informazioni XMP.

<!-- ENGCOM-8814-->

* Voci nel `catalog_product_entity_media_gallery` la tabella viene rimossa come previsto quando i prodotti correlati vengono eliminati. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* I dettagli immagine possono ora essere aggiornati in Media Gallery quando la minimizzazione JavaScript è abilitata. In precedenza, i dettagli dell&#39;immagine non venivano salvati e l&#39;applicazione visualizzava questo errore: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Le nuove funzioni e le correzioni di bug principali di MFTF sono descritte in [Modifica del framework di test funzionali](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* La `magento indexer:reindex` e `cache:flush` i comandi e `AdminReindexAndFlushCache` il gruppo di azioni è stato rimosso dai test per migliorare l’esecuzione dei seguenti moduli: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal`e `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` è stato aggiunto ai test per evitare errori di prova. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* I test sono stati reinseriti con `StorefrontCheckQuickSearchStringActionGroup` e `StorefrontAssertProductNameOnProductMainPageActionGroup` (gruppi di azioni esistenti). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Prove di refactoring

Per migliorare i tempi di esecuzione, sono stati ripristinati i seguenti test:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`  (sostituzione di obsoleto `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Gruppi di azione

Le azioni ripetitive sono state sostituite con i gruppi di azioni in questi test:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Nuovi gruppi di azioni

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  (sostituisce l’applicazione di filtri alla griglia dei prodotti tramite SKU e facendo clic sulla prima riga (per ridurre il tempo di esecuzione del test) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Gruppi di azioni eliminati

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Rimosso  `CliIndexerReindexActionGroup` (o valore modificato) dai test per migliorare il tempo di esecuzione per `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`,  `Elasticsearch`,  `Elasticsearch6`,  `Indexer`, `LayeredNavigation`,  `LoginAsCustomer`,  `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`,  `Swatches`, `UrlRewrite`, `Weee`e `Wishlist`moduli.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Rimosso `CliCacheFlushActionGroup` da `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee`e `Wishlist` moduli.

### Newsletter

<!-- ENGCOM-8948 MC-40885-->

* L’applicazione non invia più un’e-mail di newsletter a un cliente che è stato annullato l’abbonamento alla newsletter nel periodo di tempo compreso tra la creazione della coda della newsletter e l’invio della newsletter. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* L’applicazione ora rispetta le impostazioni di abilitazione della newsletter (**Negozi**  >  **Impostazioni**  >  **Configurazione**  >  **Clienti**  >  **Newsletter**  >  **Opzioni generali**). In precedenza, queste impostazioni venivano sempre recuperate dall’ambito predefinito nelle distribuzioni per più store. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* Il GET di chiamata REST `/V1/customers/search` ora restituisce informazioni corrette per i clienti abbonati a più newsletter. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* Lo stato della memorizzazione nella cache dell’abbonamento è stato rimosso dal plug-in della newsletter. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Ordine

<!-- MC-40963-->

* L&#39;applicazione ora calcola correttamente un saldo cliente fatturato al momento della restituzione del credito del negozio a un conto cliente per un ordine parzialmente fatturato.

<!-- ENGCOM-8710-->

* L&#39;applicazione ora salva un ordine modificato come previsto quando salva un saldo cliente rimborsato. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Metodi di pagamento

<!-- MC-41525-->

* L’applicazione ora esegue il rendering dei blocchi di pagamento su `frontend` indipendentemente dall’area da cui è stata inviata l’e-mail. (L’area corrente viene ora emulata come `frontend` prima del rendering del blocco di pagamento.) In precedenza, i blocchi di pagamento venivano sottoposti a rendering nell’area da cui veniva inviata l’e-mail. Di conseguenza, se l’e-mail di vendita è stata attivata dall’amministratore o dall’API REST, gli URL delle risorse hanno tentato di caricarle dall’area errata (`webapi_rest` o `adminhtml`).

<!-- MC-40810-->

* L’applicazione ora invia il collegamento per un prodotto scaricabile all’indirizzo e-mail specificato durante il pagamento. Precedentemente, quando un acquirente ha utilizzato PayPal Express Checkout e inserito indirizzi e-mail diversi per inviare l&#39;ordine e per effettuare il check-out, l&#39;applicazione ha inviato il collegamento del prodotto scaricabile al primo indirizzo.

<!-- MC-38051-->

* L&#39;applicazione ora visualizza un valore preciso per il credito all&#39;archivio disponibile nella pagina Metodo di pagamento in implementazioni che supportano più valute.

<!-- MC-37820-->

* L&#39;elenco dei metodi di pagamento viene aggiornato come previsto quando un acquirente guest modifica l&#39;indirizzo di spedizione di un ordine in un paese diverso durante l&#39;estrazione. In precedenza, la modifica dell&#39;indirizzo di fatturazione non attivava un aggiornamento dei possibili metodi di pagamento.

#### PayPal

<!-- MC-39895-->

* Gli acquirenti ora possono effettuare il check-out di un ordine PayPal Payflow Pro con un indirizzo di spedizione che contiene caratteri speciali. In precedenza, la domanda rifiutava il pagamento per questi ordini.

<!-- MC-39861-->

* Gli acquirenti vengono ora reindirizzati alla pagina di successo dell&#39;ordine dopo un pagamento effettuato con successo tramite PayPal. In precedenza, gli acquirenti venivano reindirizzati a una pagina vuota a causa della perdita dei dati della sessione.

### Prestazioni

<!-- MC-41647-->

* Sono state migliorate le prestazioni della ricerca SKU amministratore su cataloghi di grandi dimensioni. I suggerimenti di Query Optimizer ora forzano l&#39;utilizzo dell&#39;indice durante l&#39;esecuzione della query.

<!-- MC-41440-->

* Le prestazioni del  `catalog_product_alert` è stato migliorato il processo cron in esecuzione su tabelle di grandi dimensioni (diversi milioni di righe). Precedentemente, `catalog_product_alert` sono stati caricati tutti gli avvisi sui prodotti, causando un&#39;eccezione di memoria esaurita.

<!-- ENGCOM-8752-->

* L’applicazione non carica più tutte le pagine CMS quando è necessaria una sola pagina di modifica per eseguire il rendering di un modulo Amministratore.  Queste pagine ora vengono caricate più velocemente. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Valori numerici in `WHERE IN` Le espressioni vengono ora espresse come numero e non come stringa, il che migliora le prestazioni delle query in alcune versioni di MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* La `use_application_lock` consente di abilitare la reindicizzazione tramite l’uso di variabili di ambiente o configurando la `app/etc/env.php` file. Non è più necessario ripristinare manualmente l&#39;indicizzatore dopo un errore con questa modalità abilitata. Se questa modalità non è abilitata, è necessario reimpostare manualmente l’indicizzatore dopo un errore. Vedi [Utilizzo della modalità di blocco dell&#39;applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Prezzi

<!-- MC-41767-->

* L&#39;applicazione ora aggiorna correttamente il prezzo di un prodotto con prezzi raggruppati quando un acquirente aggiorna la quantità di prodotto sulla vetrina. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* I prodotti bundle possono ora essere salvati quando ai prodotti è stato assegnato un prezzo di livello e `Magento\Framework\Api\ExtensibleDataObjectConverter` viene utilizzato per convertire i dati di prodotto. Precedentemente, quando `Magento\Framework\Api\ExtensibleDataObjectConverter` è stato utilizzato per convertire i dati di prodotto in un array al momento del salvataggio di un prodotto, l&#39;applicazione non ha salvato il prodotto e ha visualizzato questo errore: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* Gli aggiornamenti pianificati dei prezzi vengono ora applicati ai prodotti già presenti nel carrello di un acquirente. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* Il prezzo del livello viene ora applicato a un prodotto come previsto quando vengono abilitati gli incrementi di quantità e l&#39;inventario decimale è inferiore a 1. Precedentemente, la quantità minima del prezzo di livello era impostata su 1.

### Video del prodotto

<!-- MC-39755-->

* Ora puoi utilizzare la **Aggiungi video** pulsante (Amministratore) **Catalogo** > **Prodotti**) per aggiungere consecutivamente diversi video. In precedenza, i campi video mantenevano i dettagli del video precedente.

<!-- MC-40817-->

* L’accesso alla modalità a schermo intero per un video prodotto in una pagina di prodotto ora funziona come previsto sui dispositivi mobili. Precedentemente, l’accesso alla modalità a schermo intero causava la pausa del video prima dell’uscita dalla modalità a schermo intero.

<!-- MC-39759-->

* Pulsanti freccia di navigazione (**Successivo** e **Precedente**) sono ora visibili come previsto nei video di prodotto di vetrina.

<!-- MC-40463-->

* Ora i merchants possono aggiungere video Vimeo utilizzando **Inserisci video** sulla pagina del prodotto come previsto. In precedenza, l&#39;applicazione visualizzava un errore 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Preventivo

<!-- MC-39531-->

* La `/V1/guest-carts/examplecartid/items` la chiamata ora restituisce la visualizzazione archivio richiesta. Precedentemente, restituiva la prima visualizzazione store nell&#39;archivio, non quella richiesta.

<!-- MC-33893 ENGCOM-8992-->

* L’invio della fattura è ora configurabile. In precedenza, l&#39;invio della fattura non era configurabile e l&#39;applicazione inviava sempre una fattura dopo la creazione. Le e-mail relative a fatture e ordini sono state entrambe inviate nell’ambito di un osservatore. Gli osservatori separati ora governano l&#39;invio dell&#39;e-mail dell&#39;ordine e della fattura. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Rapporti

<!-- MC-39737-->

* Data ultima revisione su Amministratore **Rapporti** > **Recensioni** > **Per prodotti** visualizza la data di revisione corretta. In precedenza, l’applicazione visualizzava la data di creazione del prodotto invece della data di revisione.

### Recensioni

<!-- MC-40116-->

* Le stelle di valutazione della revisione dei prodotti ora vengono calcolate correttamente nella sezione Dettagli revisione della pagina Il mio account .

<!-- MC-39763-->

* Le sezioni Valutazione media prodotti e Valutazioni prodotto della pagina dei dettagli di revisione del prodotto ora vengono sottoposte a rendering corretto. In precedenza, l&#39;ID di revisione non veniva impostato quando l&#39;applicazione calcolava la valutazione della vetrina e il modello di revisione del prodotto non veniva visualizzato correttamente.

<!-- MC-36149-->

* La **Sii il primo a rivedere questo prodotto** il collegamento ora cambia come previsto in un conteggio di revisione dopo che un amministratore ha approvato una revisione.

<!-- ENGCOM-8501 MC-30270-->

* Gli amministratori possono ora ordinare le revisioni dei prodotti nella sezione Recensioni dei prodotti della pagina di modifica del prodotto come previsto. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* Le revisioni vengono ora salvate con l&#39;ID archivio corretto dopo che un amministratore ha approvato e salvato la revisione da un dominio diverso da quello dell&#39;archivio. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Premi

<!-- MC-39820-->

* L&#39;applicazione ora aggiorna l&#39;elenco dei metodi di pagamento quando un acquirente che effettua il check-out con più indirizzi controlla o deseleziona il **Credito store (punti premio)** opzione .

### Vendite

<!-- MC-39796-->

* Gli utenti amministratori possono ora ordinare gli articoli non disponibili quando il **Gli ordini arretrati sono consentiti** è abilitata (**Negozi** > **Configurazione** > **Catalogo** > **Inventario** > **Opzioni stock prodotto**). In precedenza, l&#39;applicazione generava un errore.

<!-- MC-42280-->

* Gli acquirenti possono ora trovare un ordine nella pagina Ordini e restituzioni quando il cognome termina con uno spazio vuoto.

<!-- MC-41438-->

* Le fatture vengono ora create con il totale complessivo corretto quando una regola di prezzo del carrello che assegna uno sconto del 100% viene applicata a un ordine che è anche soggetto alle tasse sui prodotti di catalogo e sugli sconti e che si qualifica per la spedizione gratuita. In precedenza, l&#39;ordine aveva il prezzo corretto, ma la fattura non lo aveva. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Il filtro degli ordini per data ora restituisce risultati precisi. In precedenza, l&#39;applicazione non restituiva un ordine che era stato effettuato dopo le 00:00 UTC quando gli ordini venivano filtrati per data dell&#39;ordine.

<!-- MC-40030-->

* La griglia della nota di accredito ora visualizza il simbolo di valuta corretto quando **Sito Web** l&#39;ambito viene utilizzato per **Prezzo** in una distribuzione multi-store.

<!-- MC-40013-->

* I pulsanti di scelta Metodi di pagamento non scompaiono più nella sezione Informazioni di pagamento e spedizione del flusso di lavoro di pagamento dopo il ricaricamento della pagina Crea nuovo ordine da parte dell’amministratore. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* Il testo arabo viene ora visualizzato correttamente nelle fatture.

<!-- MC-39864-->

* L&#39;applicazione ora calcola correttamente i totali delle imposte per le note di credito parziali basate su un ordine o su una fattura nei negozi che distribuiscono PayPal Payment Pro come gateway di pagamento. In precedenza, per gli ordini con più fatture, l&#39;applicazione applicava l&#39;intera imposta di quell&#39;ordine per la cancellazione parziale della fattura nella nota di accredito.

<!-- MC-39521 ENGCOM-8528-->

* L’applicazione non crea più deadlock casuali del database quando si inviano nuove e-mail di ordine ai clienti. Precedentemente, si verificavano deadlock perché l&#39;applicazione salvava l&#39;intero oggetto e i relativi oggetti al posto delle colonne SQL aggiornate. L&#39;applicazione ha visualizzato questo tipo di errore: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* Nella pagina dei dettagli dell&#39;ordine di magazzino viene ora visualizzata la quantità di prodotto spedita corretta. In precedenza, le quantità del prodotto non erano corrette perché veniva eseguito il rendering del modello per la pagina Spedizione ordine **Qtà spedita** come `int`. È stato modificato in `float`.

<!-- MC-39026-->

* L&#39;applicazione non invia più le copie di una fattura d&#39;ordine via e-mail quando la **Copia e-mail della fattura** pulsante deselezionato. In precedenza, l’applicazione inviava un messaggio e-mail a **Cliente** e **Invia copia e-mail fattura a**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* L&#39;applicazione non crea più voci di indirizzo duplicate per un account cliente quando si crea un nuovo ordine dall&#39;amministratore per un cliente esistente. La **Salva nella Rubrica** la casella di controllo è stata rinominata in **Aggiungi alla Rubrica** e ora è deselezionato in Admin per impostazione predefinita.

<!-- MC-38834-->

* L’applicazione utilizza ora il logo caricato nella **Logo per HTML Print View** impostazioni quando i consumatori stampano un ordine dal loro account. In precedenza, l&#39;applicazione visualizzava il logo LUMA invece del logo caricato.

<!-- MC-38625-->

* Il pager degli articoli dell&#39;ordine sulla vetrina ora funziona come previsto quando il conteggio degli articoli supera i 20. In precedenza, il pager teneva conto dei prodotti secondari e il conteggio totale era errato.

<!-- MC-23915 ENGCOM-8713-->

* L&#39;applicazione ora visualizza i simboli di valuta corretti per il subtotale e i valori di spedizione e gestione nelle griglie della pagina Ordine e della pagina Nota di accredito. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Gli amministratori che utilizzano Safari ora possono aggiungere correttamente un prodotto a un ordine dall’amministratore. Precedentemente, quando l’amministratore faceva clic su **Aggiungi i prodotti selezionati all’ordine** , l&#39;applicazione visualizzava l&#39;icona del caricamento rotante e la pagina era bloccata.

### Regola di vendita

<!-- MC-40671-->

* L&#39;applicazione ora applica le regole del prezzo del carrello con **Sconto Qtà massimo applicato a** o **Fase di Qtà Sconto (Acquista X)** condizioni corrette quando al carrello vengono applicate più regole del prezzo del carrello. Precedentemente, se una regola di prezzo del carrello con **Sconto Qtà massimo applicato a** o **Fase di Qtà Sconto (Acquista X)** è stato applicato dopo un&#39;altra regola del prezzo del carrello, lo sconto totale è stato ridotto al valore configurato per **Sconto Qtà massimo applicato a** o **Fase di Qtà Sconto (Acquista X)** moltiplica il prezzo del prodotto.

<!-- MC-39827-->

* Il rapporto Coupon ora riflette con precisione l’attività del coupon nelle implementazioni in cui viene implementato un database suddiviso.

<!-- MC-39477-->

* Regole del prezzo del carrello che contengono la condizione Categoria **NON** vengono ora applicati come previsto ai prodotti figlio/semplici configurabili che non sono assegnati a una categoria ma i cui prodotti principali sono assegnati.

<!-- MC-39034-->

* GraphQL `cart` query ora restituisce il totale complessivo corretto per il passaggio di fatturazione di un carrello quando un coupon viene applicato all&#39;ordine.

### Ricerca {#search-heading}

<!-- MC-41138-->

* La pagina della categoria non contiene più questi ID degli elementi HTML duplicati: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* I risultati della ricerca per parola parziale non includono più corrispondenze impreviste o irrilevanti e le ricerche producono risultati coerenti sia sulla vetrina che sull’amministratore. L&#39;applicazione ora utilizza un analizzatore diverso senza uno stemmer per ricerche parziali di parole. In precedenza, i risultati della ricerca visualizzavano prodotti che non includevano parole chiave di ricerca. (L’analizzatore predefinito includeva in precedenza uno stemmer e poiché lo stesso analizzatore veniva utilizzato al momento della ricerca parziale delle parole, il risultato della ricerca poteva produrre corrispondenze inaspettate o irrilevanti.)

<!-- MC-40715-->

* La ricerca rapida ora restituisce i risultati se la query di ricerca ha più parole e il nome del prodotto è configurato come non ricercabile. In precedenza, se il nome del prodotto era configurato come non ricercabile, l&#39;applicazione generava un&#39;eccezione di query sulle query di ricerca con più parole.

<!-- MC-40672-->

* I risultati della ricerca ora includono `weight` come previsto quando è configurato come ricercabile.

<!-- MC-40409-->

* L&#39;applicazione non genera più un errore quando si visualizza una pagina di categoria vuota con Elasticsearch abilitato. ma genera la pagina come previsto e visualizza un messaggio informativo. In precedenza, un indice full-text vuoto attivava un&#39;eccezione in una pagina di categoria.

<!-- MC-40376-->

* La funzione di completamento automatico del campo di ricerca ora funziona come previsto se un acquirente fa clic al di fuori del campo di ricerca dopo aver iniziato la ricerca. I suggerimenti di completamento automatico vengono ora visualizzati nuovamente quando l&#39;acquirente riprende a digitare. Precedentemente, l’applicazione non visualizzava i suggerimenti di completamento automatico e se si faceva clic nella casella di ricerca non venivano nuovamente visualizzati i suggerimenti di ricerca (anche se era possibile digitare lettere aggiuntive).

<!-- MC-34217-->

* La ricerca di un prodotto basato sulla SKU completa o parziale in Ricerca avanzata restituisce ora il prodotto previsto.

<!-- MC-31395-->

* I filtri di navigazione su più livelli ora visualizzano conteggi di prodotto precisi. In precedenza, i valori del conteggio dei prodotti derivati dall’Elasticsearch non venivano filtrati dalle autorizzazioni del catalogo.

<!-- MC-23881 ENGCOM-8618-->

* L’Elasticsearch non genera più un errore quando il parametro di pagina dell’URL della categoria supera l’impaginazione. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* È ora possibile aggiungere una mappatura campo Elasticsearch personalizzata a `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`.

<!-- ENGCOM-9029 MC-24026-->

* Gli sviluppatori ora possono modificare le mappature degli Elasticsearch. In precedenza, i modelli dinamici inviati al server di Elasticsearch nelle mappature predefinite erano codificati, il che impediva agli sviluppatori di indicizzare in Elasticsearch eventuali dati aggiuntivi associati a un modulo personalizzato.

<!-- ENGCOM-8464 -->

* I campi di ricerca (ricerca minisearch) ora funzionano come previsto quando i suggerimenti per la ricerca sono disabilitati.

### Spedizione

<!-- MC-41464-->

* L&#39;applicazione ora aggiorna il prezzo di spedizione come previsto quando un acquirente torna alla pagina del carrello dopo l&#39;eliminazione di un prodotto durante l&#39;estrazione con più indirizzi.

<!-- MC-41343-->

* L&#39;applicazione ora visualizza il prezzo di spedizione corretto quando alcuni articoli nel carrello si qualificano per la spedizione gratuita. Precedentemente, quando un sottoinsieme di articoli nel carrello si qualificava per la spedizione gratuita, l&#39;applicazione non adeguava il prezzo di spedizione e mostrava il prezzo di spedizione completo all&#39;acquirente.

<!-- MC-41186-->

* Gli utenti amministratori che sono limitati a un sito web specifico possono ora creare una spedizione per un ordine inserito sullo stesso sito web. In precedenza, l&#39;applicazione aveva generato questa eccezione quando un utente amministratore che non disponeva dell&#39;autorizzazione per la visualizzazione store predefinita tentava di inviare un ordine inserito in una visualizzazione store a cui l&#39;utente amministratore aveva accesso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* L&#39;applicazione ora prende in considerazione gli sconti pertinenti della regola del prezzo del carrello quando si determina se un ordine soddisfa le condizioni per spedizione gratuita DHL.

<!-- MC-40702-->

* Le etichette di spedizione ora utilizzano la valuta di base come previsto invece della divisa dell&#39;ordine per gli archivi che supportano più valute quando un ordine viene inserito in una valuta non di base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678-->

* L&#39;applicazione ora visualizza il subtotale dell&#39;ordine corretto quando un acquirente ritorna alla pagina del carrello durante l&#39;estrazione dopo la navigazione dalla pagina di spedizione multipla. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* La modifica delle informazioni di fatturazione durante la creazione dell&#39;ordine di amministrazione non modifica più le informazioni di spedizione per i clienti con diversi indirizzi di spedizione e fatturazione predefiniti. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* L&#39;applicazione non deseleziona più il **Aggiungi commenti** quando un acquirente fa clic su **Ottieni metodi e tariffe di spedizione** e seleziona un metodo di spedizione quando si crea un ordine dall&#39;amministratore.

<!-- MC-36425-->

* Gli acquirenti ora possono utilizzare il pulsante Indietro del browser per tornare alla pagina Seleziona metodo di spedizione durante il check-out di un ordine con più indirizzi. In precedenza, l&#39;applicazione visualizzava una pagina danneggiata Seleziona metodo di spedizione. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* La quantità di prodotto rimane invariata come previsto dopo che un acquirente cambia la quantità sulla pagina Indirizzo spedizione a più indirizzi e fa clic sul pulsante Indietro del browser.

<!-- ENGCOM-9096-->

* Le tariffe del metodo di spedizione a tariffa fissa non diventano più zero quando viene applicata una regola del prezzo del carrello durante il pagamento. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* L&#39;applicazione non genera più un errore quando un commerciante cerca di inviare un ordine utilizzando DHL quando il **Crea etichetta di spedizione** La casella di controllo è abilitata e il nome del prodotto contiene caratteri unicode. In precedenza, l&#39;applicazione visualizzava questo errore durante la richiesta della creazione dell&#39;etichetta: `The response is in wrong format`.

<!-- ENGCOM-8952 -->

* È possibile effettuare un ordine dall’amministratore in una distribuzione multisito in cui `United States` è abilitato su un sito web e`Disable all countries` è abilitato come ambito predefinito nell’altro sito web. In precedenza, l&#39;applicazione non effettuava l&#39;ordine e mostrava questo errore: `Please check the shipping address information. "regionId" is required. Enter and try again`.

### Store

<!-- MC-40538-->

* L&#39;applicazione non tratta più una stringa di `0` come valore vuoto quando viene visualizzata una home page dello store. In precedenza, l&#39;applicazione trattava un valore intero all&#39;inizio di un percorso di richiesta come un ID store, che aveva effetti non intenzionali sul SEO.

<!-- MC-40313-->

* Plug-in per `\Magento\Framework\App\ActionInterface` sotto `lib/internal/Magento/Framework/App/Action/Plugin` sono stati rimossi per mantenere la linea guida che i plug-in devono essere utilizzati per personalizzare il comportamento di un modulo da un altro modulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* L&#39;applicazione ora visualizza questo messaggio quando si tenta di selezionare `Website` come impostazione predefinita quando `Store View` è disabilitato durante la creazione del sito web: `Please enable your Store View before using this Web Site as Default`. In precedenza si verificava un arresto anomalo del sito Web e l’applicazione non visualizzava un avviso.

### Imposta

<!-- MC-39571-->

* L&#39;applicazione ora tiene conto dell&#39;imposta nascosta durante la convalida dell&#39;importo minimo dell&#39;ordine.

<!-- MC-38025 ENGCOM-8612-->

* L’applicazione ora visualizza le imposte sui prodotti fissi (FPT, Fixed Product Tax) come previsto quando un acquirente ritorna al suo carrello e procede al pagamento dopo l’aggiunta dei prodotti bundle al carrello. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* L&#39;applicazione ora precompila il **Numero IVA** campi di input per gli indirizzi di fatturazione e di spedizione della sezione Informazioni indirizzo della pagina Nuovo ordine amministratore con numeri IVA salvati quando un amministratore crea un ordine per un cliente esistente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* L&#39;applicazione visualizza ora un **Numero IVA** nella pagina di registrazione del cliente quando `customer/create_account/vat_frontend_visibility` è abilitato.

### Test

<!-- MC-41393-->

* Gli ambienti di test sono stati aggiornati a Redis 6.0.12.

<!-- ENGCOM-8529-->

* Rimosso `CacheCleaner::cleanAll();` da test di integrazione.

<!-- ENGCOM-8898-->

* È stato aggiunto un test per questo scenario: Gli utenti amministratori possono modificare un account cliente quando il cliente è iscritto a una newsletter in coda.

<!-- ENGCOM-8484-->

* È stato rimosso il `cache:flush` dai test per migliorare il tempo di esecuzione per `Catalog`, `CatalogUrlRewrite`e `LoginAsCustomer` moduli.

<!-- ENGCOM-8499-->

* I parametri ridondanti sono stati rimossi e POST è stato modificato in GET dove necessario in `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* Nella pagina di accesso del cliente questo messaggio non viene più visualizzato quando **Sposta il codice JS nella parte inferiore della pagina** impostazione (**Store** > **Configurazioni** > **Avanzamento** > **Sviluppatore** > **Impostazioni JavaScript**) e i cookie sono entrambi abilitati: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* I collegamenti degli account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti account nelle intestazioni contenevano ID duplicati, causando errori di convalida WCAG.

<!-- MC-40278-->

* L&#39;applicazione ora dà priorità alla configurazione dell&#39;archivio per un&#39;immagine del logo dell&#39;archivio rispetto alla configurazione del layout. Precedentemente, le dimensioni delle immagini del logo erano fisse e non variavano in base all’archivio.

<!-- MC-35227-->

* L&#39;applicazione ora visualizza gli elementi di pagina in modo coerente sulle pagine della vetrina che utilizzano temi di Magento Open Source standard. In precedenza, non tutti gli stili venivano applicati al tema vuoto, quindi non tutti gli elementi di pagina venivano visualizzati nelle pagine che utilizzano questo tema. Ad esempio, nel campo di ricerca della pagina Ordini non era presente alcuna icona di ingrandimento.

### Traduzione e impostazioni internazionali

<!-- MC-23553-->

* Le parentesi graffe aggiunte alle stringhe non sono più precedute dalla configurazione della traduzione in linea. Precedentemente, la `escapeHtmlAttr` ha convertito le parentesi in codici di entità HTML.

<!-- ENGCOM-8694-->

* Le frasi non traducibili nell’amministratore sono ora traducibili. (Questa richiesta di pull contribuisce agli sforzi continui per rendere localizzabili tutte le stringhe amministratore). [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Stringhe di testo nel modello utilizzate per gestire i metodi di pagamento memorizzati (**Il mio account**  >  **Metodi di pagamento memorizzati** ) sono ora traducibili.

<!-- MC-30798 ENGCOM-8717-->

* Le e-mail dell’ordine inviate dall’amministratore ora utilizzano le impostazioni internazionali dell’archivio non quelle associate all’account dell’amministratore.

### Interfaccia

<!-- MC-41784-->

* Il piè di pagina amministratore visualizza ora la versione corretta del prodotto.

<!-- MC-41067-->

* La paginazione per le origini è ora presente come previsto durante la creazione della spedizione amministratore.

<!-- MC-40240-->

* Il filtro della griglia del prodotto ora funziona correttamente quando si utilizzano attributi di data personalizzati per filtrare i prodotti e le impostazioni internazionali dell’utente amministratore sono `en_GB`.

<!-- MC-39279-->

* I gesti Pinch-to-zoom ora funzionano come previsto nella lente di ingrandimento della galleria immagini della pagina del prodotto sui dispositivi iOS.

<!-- MC-38787-->

* L’impaginazione dei risultati della ricerca nella griglia di prodotto amministratore ora inizia alla pagina 1 per ogni ricerca come previsto.

<!-- MC-38423-->

* Anomalie con la visualizzazione del carrello quando lo zoom è stato risolto. In precedenza, gli elementi di visualizzazione si sovrapponevano quando la pagina veniva ingrandita.

<!-- MC-38226-->

* La pagina di revisione dell&#39;ordine visualizzata durante il pagamento con Pagamento PayPal Express ora viene caricata correttamente. In precedenza, il modello conteneva il **Aggiorna metodo di consegna** , che era nascosto solo parzialmente dallo script durante il rendering della pagina.

<!-- MC-37941-->

* Le stelle di valutazione e il testo di revisione nella sezione Recensioni cliente della pagina del prodotto ora sono correttamente distanziate quando sono presenti nomi di valutazione lunghi.

<!-- MC-37688-->

* Le opzioni vengono ora visualizzate come previsto nell&#39;elenco a discesa Azioni nelle pagine Archivia fatture, spedizioni e note di credito.

<!-- MC-23729  magento/magento2#31549-->

* L&#39;applicazione ora visualizza un valore temporale corretto quando `datetime` component `timeOnly` è impostata su **sì**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* È ora possibile rimuovere un aggiornamento del layout dopo la creazione di un nuovo widget in Admin **Contenuto** > **Widget**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* La **Rimuovi aggiornamento layout** il pulsante ora funziona come previsto su qualsiasi layout aggiunto da Admin **Contenuto** > **Widget**. Precedentemente, questo pulsante non funzionava su un layout diverso dal primo selezionato al momento dell’aggiunta di più layout. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* L&#39;applicazione utilizza ora il titolo della pagina impostato nel file di layout come titolo della pagina del browser per il file Modifica account cliente. Precedentemente, la `Magento\Customer\Controller\Account\Edit` l’azione del controller ha imposto il valore del titolo della pagina a `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* Sono state aggiunte alle seguenti pagine delle caselle di controllo che consentono agli esercenti di passare dalla visualizzazione e l’eliminazione delle password:
   * Accesso cliente
   * Registrazione cliente
   * Modifica cliente (sezione Modifica password)
   * Nuova password impostata dal cliente [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* È stata rimossa un’intestazione ridondante nelle celle della griglia visualizzata quando un amministratore ha aggiunto un prodotto a un set di prodotti raggruppato dopo la modifica del set di attributi. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* L&#39;applicazione visualizza ora un `DateRange` nell’area Logged in del **Cliente**  >  **Login** pagina. In precedenza, l&#39;applicazione visualizzava un `Text` filtro. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* JavaScript è stato rimosso dai file modello e spostato in file separati per ridurre i problemi di rendering sulle pagine amministratore. In precedenza, le pagine amministratore non venivano riprodotte correttamente nelle distribuzioni in cui era stata abilitata la minimizzazione di HTML. L&#39;applicazione ha visualizzato questo errore: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* La `dropdownDialog` ora carica solo il carattere trascinabile e ridimensionabile `jquery-ui` pezzetti di cui ha bisogno. Precedentemente, caricava grandi quantità di codice non necessario, che aumentava il tempo di caricamento e riduceva le prestazioni. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Riscrittura URL

<!-- MC-41550-->

* Le riscritture dell’URL del prodotto per un sito Web specifico in una distribuzione multisito vengono ora generate come previsto dopo che i prodotti sono stati assegnati a un sito web tramite aggiornamento collettivo.

<!-- MC-40780 magento/magento2#32598-->

* L’applicazione ora genera correttamente il percorso URL per le categorie secondarie quando **Usa valore predefinito** la casella di controllo per la chiave URL è abilitata per la categoria principale. In precedenza, lo spostamento di una categoria nella gerarchia causava un errore `url_path` quando si utilizzano chiavi URL diverse in una distribuzione con visualizzazione multi-store. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* L&#39;applicazione aggiorna ora la `url_path` della categoria assegnata a tutto l&#39;ambito dell&#39;archivio quando si sposta una categoria nella gerarchia delle categorie. In precedenza, lo spostamento di una categoria nella gerarchia causava un errore `url_path`.

<!-- MC-39463-->

* I reindirizzamenti URL creati dall’amministratore utilizzando un URL personalizzato ora funzionano correttamente. Precedentemente, GraphQL memorizzava nella cache la risposta da un GraphQL `urlResolver` e ha restituito il vecchio valore dopo l&#39;aggiornamento di riscrittura dell&#39;URL.

<!-- MC-38931  magento/magento2#31106-->

* Le riscritture degli URL di prodotto vengono rimosse come previsto quando un prodotto viene rimosso da un sito web. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* Aggiunta di un `main_table` il riferimento `store_id` in `addStoreFilter` funzione `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` raccolta. In precedenza, si verificavano problemi ogni volta che si verificava un `join` viene aggiunto alla raccolta in una tabella che contiene anche un `store_id` colonna. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* La `PUT /V1/products/:sku` L’endpoint REST ora rigenera l’URL del prodotto come previsto. Precedentemente, l’endpoint rigenerava il prodotto `url_key` ma non l&#39;URL riscrive. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Utente

<!-- MC-40777-->

* È ora possibile salvare un nuovo ruolo utente effettivo (Amministratore **Sistema** > **Autorizzazioni** > **Ruoli utente**) con l&#39;intero `Catalog` albero selezionato escludendo `Edit Product Design` ( **Catalogo** > **Inventario** > **Prodotti** > **Modifica progettazione prodotto**). In precedenza, l&#39;applicazione non salvava le modifiche di prodotto apportate da un utente con questo ruolo e mostrava questo errore: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* L’applicazione ora utilizza il modello e-mail personalizzato corretto durante la generazione dell’e-mail per i nuovi utenti Admin. In precedenza, l&#39;applicazione utilizzava il vecchio modello predefinito, che ometteva i nomi e i cognomi dell&#39;amministratore.

<!-- MC-38122-->

* L’applicazione ora utilizza il modello e-mail corretto quando invia e-mail a nuovi utenti. In precedenza, l&#39;applicazione utilizzava il modello predefinito anche quando era selezionato un modello personalizzato.

### VersionCMS

<!-- MC-39953-->

* L&#39;applicazione ora applica il tema corretto a una pagina CMS dopo aver modificato il layout. In precedenza, l’applicazione cambiava il tema assegnato a Luma dopo il salvataggio delle modifiche di layout, indipendentemente dal tema assegnato alla pagina.

### Video

<!-- MC-42059 ENGCOM-9039-->

* I video sono ora disponibili nella raccolta prodotti come previsto quando il bundle JavaScript avanzato è abilitato e utilizzato. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* I video di YouTube per i prodotti semplici che appartengono a un prodotto configurabile ora funzionano come previsto. In precedenza, le immagini venivano ordinate per ID invece che per posizione. Di conseguenza, alcuni video sono stati trattati come immagini. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Framework API web

<!-- MC-41758-->

* L’API del catalogo ora aggiorna correttamente i valori delle opzioni personalizzate di un prodotto aggiungendo nuovi valori e rimuovendo quelli obsoleti. In precedenza, l’API non eliminava i vecchi valori.

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` ora restituisce l&#39;ID indirizzo come numero intero, non come stringa.

### Widget

<!-- MC-39128-->

* Ora un amministratore può eliminare tutti gli aggiornamenti di layout di un widget. Precedentemente, quando un widget aveva più aggiornamenti di layout, un amministratore poteva eliminare solo il primo.

<!-- MC-39107-->

* Fai clic su **Aggiungi al carrello** sul widget prodotto non si ottiene più un ricaricamento della pagina. Precedentemente, facendo clic su **Aggiungi al carrello** su un widget di prodotto causava il ricaricamento di una pagina corrente prima che il prodotto venisse aggiunto al carrello.

### Lista dei desideri

<!-- MC-40651-->

* L&#39;applicazione non reimposta più le impostazioni di configurazione di un prodotto configurabile quando si fa clic sul pulsante **Modifica elemento** pulsante per il prodotto da un elenco di desideri. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* L&#39;applicazione ora visualizza il prezzo corretto del prodotto quando si aggiorna un prodotto con un&#39;opzione di file personalizzabile nell&#39;elenco dei desideri. In precedenza, l’applicazione mostrava il prezzo del prodotto errato e non visualizzava un collegamento al file caricato.

<!-- MC-39060-->

* Il conteggio totale dei prodotti in una lista di desideri per un cliente con più elenchi di desideri ora corrisponde al numero di elementi nella lista di desideri. In precedenza, i prodotti non disponibili erano inclusi nel conteggio totale dei prodotti.

<!-- MC-36779 magento/magento2#31110-->

* L&#39;applicazione ora rimuove un prodotto da un elenco di desideri dopo averlo aggiunto a un ordine. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Gli acquirenti possono ora aggiungere prodotti correlati al carrello da una lista di desideri. In precedenza, l’applicazione aggiungeva solo il prodotto configurabile, non il prodotto configurabile e i suoi prodotti correlati quando un acquirente faceva clic sul **Seleziona tutto** collegamento della sezione Prodotti correlati. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemi noti

**Problema**: _Errore JavaScript quando reCAPTCHA è disabilitato_. Se reCAPTCHA è disabilitato per il pagamento, il pagamento procede, ma l&#39;applicazione visualizza un `Uncaught TypeError` errore nel registro della console.  Questo problema verrà risolto in una versione successiva. <!-- MC-42589 42649-->

**Problema**: _Errore nell&#39;informativa sulla sicurezza dei contenuti_. La vetrina visualizza il seguente errore nel registro della console: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. Le prestazioni della vetrina non vengono influenzate. <!-- MC-42613-->

**Problema**: _Anomalie con PayPal Mostra di credito di quantità di carte regalo_. Quando PayPal Credit è abilitato e sono configurati più importi di carte regalo, se un acquirente modifica l&#39;importo per il valore di una carta regalo, la vetrina non aggiorna l&#39;importo per i pagamenti a rate. Questo problema verrà risolto in Adobe Commerce 2.4.4 e Magenti Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Problema**:  _La **Aggiungi all&#39;ordine**il pulsante non funziona per i prodotti aggiunti al carrello da SKU_.  l&#39;applicazione visualizza questo messaggio di errore quando si fa clic sul pulsante **Aggiungi all&#39;ordine** dopo aver aggiunto i prodotti all&#39;ordine da SKU: `An error has happened during application run`. I prodotti non vengono aggiunti al carrello. **Soluzione alternativa**: Utilizza la funzione Aggiungi prodotti . <!-- AC-345-->

## Contributi comunitari

Siamo grati alla comunità del Magento Open Source più ampio e vorremmo riconoscere il loro contributo a questa versione.

Il team di ingegneria della community [Collaboratori Magento](https://magento.com/magento-contributors) mantiene un elenco di individui e partner che contribuiscono in modo significativo per mese, trimestre e anno. Da tale pagina puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi partner

La tabella seguente evidenzia i contributi dei partner. In questa tabella sono elencati il Partner che ha contribuito alla richiesta di pull, alla richiesta di pull esterna e il numero di problema GitHub ad essa associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contributi individuali

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca le richieste pull esterne, il numero di problema GitHub ad esse associato (se disponibile) e il membro della community che ha contribuito alla richiesta pull.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Requisiti di sistema

Lo stack di tecnologia è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](../../../installation/system-requirements.md).

### Istruzioni per l&#39;installazione e l&#39;aggiornamento

È possibile installare Magenti Open Source 2.4.3 utilizzando [Compositore](../../../installation/composer.md).

## Strumenti di migrazione

Lo strumento di migrazione dei dati consente di trasferire i dati dell’archivio Magento 1.x esistenti a Magento 2.x. Questa interfaccia a riga di comando include funzioni di verifica, tracciamento dell’avanzamento, registrazione e test. Per le istruzioni di installazione, consulta [Installare lo strumento di migrazione dei dati](../../../tools/data-migration-tool/install.md). Prendere in considerazione l&#39;esplorazione o il contributo al [Archivio di migrazione dei dati](https://github.com/magento/data-migration-tool).

La [Toolkit di migrazione del codice](https://github.com/magento-commerce/code-migration) aiuta a trasferire estensioni e personalizzazioni esistenti dell’archivio Magento 1.x in Magento 2.x. L&#39;interfaccia della riga di comando include script per la conversione di moduli e layout di Magento 1.x.
