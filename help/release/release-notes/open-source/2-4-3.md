---
title: Note sulla versione di Magento Open Source 2.4.3
description: Scopri le nuove funzioni, i miglioramenti, le correzioni di bug e i problemi noti nella versione del Magento Open Source 2.4.3.
recommendations: noCatalog
exl-id: fba0e147-1aa2-4c41-bc7d-51dd6755e014
source-git-commit: 95ea96a566b0579a22b2ba738bd4a4bceef8cd9c
workflow-type: tm+mt
source-wordcount: '12744'
ht-degree: 0%

---

# Note sulla versione di Magento Open Source 2.4.3

Il Magento Open Source 2.4.3 introduce miglioramenti a livello di prestazioni e sicurezza oltre a significativi miglioramenti della piattaforma. I miglioramenti della sicurezza includono l’espansione della copertura reCAPTCHA e l’inclusione di limiti di velocità incorporati. Le dipendenze del compositore di base e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. Page Builder è ora disponibile come estensione in bundle nel Magento Open Source. Ora è lo strumento di modifica del contenuto predefinito per Adobe Commerce e Magento Open Source.

Questa versione include oltre 370 nuove correzioni al codice di base e 33 miglioramenti di sicurezza. Include la risoluzione di quasi 290 problemi GitHub da parte dei membri della community. Questi contributi della community spaziano dalla pulizia minore del codice di base ai miglioramenti significativi in GraphQL.

Questa versione include oltre 370 nuove correzioni al codice di base e 33 miglioramenti di sicurezza. Tutti i problemi noti identificati nelle note sulla versione di Magento Open Source 2.4.2 sono stati risolti in questa versione.

{{bics}}

Consulta le [note sulla versione di Adobe Commerce 2.4.2-p2](../security/2-4-2-patches.md) per informazioni su Adobe Commerce 2.4.2-p2.

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con versioni trimestrali , diversi di questi progetti (ad esempio, Progressive Web Application (PWA) Studio) vengono rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Applica `AC-3022.patch` per continuare a offrire DHL come vettore di spedizione

DHL ha introdotto lo schema versione 6.2 e dichiarerà obsoleto lo schema versione 6.0 nel prossimo futuro. Adobe Commerce 2.4.4 e versioni precedenti che supportano l’integrazione DHL supportano solo la versione 6.0. I commercianti che distribuiscono queste versioni devono applicare `AC-3022.patch` al più presto per continuare a offrire DHL come vettore di spedizione. Per informazioni sul download e l&#39;installazione della patch, vedere l&#39;articolo della Knowledge Base [Applica una patch per continuare a offrire DHL come corriere](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Applica MC-43048__set_rate_limits__2.4.3.patch per risolvere il problema relativo alla limitazione della velocità API

Questo hotfix fornisce una soluzione al problema che impedisce alle API Web di elaborare richieste contenenti più di 20 elementi in un array. Questo problema riguarda le distribuzioni che eseguono Magento Open Source 2.4.3, Adobe Commerce 2.4.3 o 2.3.7-p1. A queste versioni è stata aggiunta una limitazione della frequenza incorporata per impedire attacchi Denial of Service (DoS) e il valore massimo predefinito è stato impostato su 20. Questa patch ripristina il limite predefinito a un valore più alto. Se sospetti che il tuo archivio stia avendo un attacco DoS, Adobe consiglia di abbassare i limiti di input predefiniti a un valore inferiore per limitare il numero di risorse che possono essere richieste. Vedere l&#39;articolo della Knowledge Base [Web API: impossibile elaborare le richieste con più di 20 elementi nell&#39;array](https://support.magento.com/hc/en-us/articles/4406893342093).

## Applica AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch per risolvere l&#39;errore irreversibile PHP durante l&#39;aggiornamento

Durante l’aggiornamento al Magento Open Source 2.4.3 può verificarsi il seguente errore irreversibile:

```
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Questo errore è dovuto all&#39;utilizzo della funzione `str_contains`, che è una funzione PHP 8.x. L&#39;applicazione Open Source 2.4.3 non supporta PHP 8.x. Questo hotfix sostituisce questa funzione con una funzione PHP 7.x supportata. Vedere l&#39;articolo della Knowledge Base [Aggiornamento Adobe Commerce 2.4.3, 2.3.7-p1 PHP Errore irreversibile Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix).

## In evidenza

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti sostanziali della sicurezza

Questa versione include 33 correzioni di sicurezza e miglioramenti di sicurezza della piattaforma. Molte di queste correzioni di sicurezza sono state trasferite a 2.4.2-p2 e 2.3.7-p1.

#### Trentatré miglioramenti di sicurezza che aiutano a chiudere le vulnerabilità RCE (Remote Code Execution) e XSS (Cross-Site Script)

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere l’amministratore, tra cui, ma non solo, queste iniziative: inserire nell&#39;elenco Consentiti dell’IP a due fattori, [autenticazione a due fattori](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), utilizzo di una VPN, utilizzo di una posizione univoca invece di `/admin` e buona igiene della password. Consulta [Bollettino sulla sicurezza di Adobe](https://helpx.adobe.com/security/products/magento/apsb21-64.html) per una discussione su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità con le best practice più recenti, tra cui:

* Un plug-in **new Composer** consente di evitare confusione nelle dipendenze e identifica i pacchetti dannosi con gli stessi nomi dei pacchetti interni nell&#39;archivio dei pacchetti pubblico. Consulta il post sul blog [Nuove versioni del Compositore con versione 2.4.3](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) di Adobe.

* **La limitazione della frequenza è ora integrata nelle API** per impedire attacchi Denial of Service (DoS). Le API web ora impongono restrizioni sulla dimensione o sul numero di risorse (il massimo predefinito è impostato su 20 e può essere configurato su un valore diverso in base alle esigenze aziendali) che possono essere richieste da un client. Per informazioni sulla configurazione di queste restrizioni, vedere [Limitazione frequenza](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- MC-35358-->

* **La copertura ReCAPTCHA è stata estesa** per includere:

   * Le API web con pagine HTML corrispondenti sono coperte tramite ReCAPTCHA. Sono escluse le API web a cui si accede tramite integrazioni. La copertura ReCAPTCHA protegge gli endpoint dagli attacchi di spam. Quando si accede alle API Web da un servizio di integrazione di terze parti che utilizza OAuth, ReCAPTCHA è disabilitato.<!-- MC-34472-->

   * La pagina vetrina di Place Order e le API Web relative ai pagamenti. La protezione ReCAPTCHA per queste pagine è disabilitata per impostazione predefinita e può essere abilitata dall’amministratore. Questa copertura aggiunge un meccanismo di forza anti-brute per proteggere i negozi dagli attacchi di carding.

{{cve-notice}}

### Miglioramenti dell&#39;infrastruttura

Questa versione contiene miglioramenti che migliorano la qualità del framework e le seguenti aree funzionali:

* Account cliente

* Catalogo

* CMS

* OMS

* Importa/esporta

* Promozioni e targeting

* Carrello e pagamento

* B2B

* Staging e anteprima

**PayPal Pay Later è ora supportato** nelle distribuzioni che includono PayPal. Questa funzione consente ai clienti di pagare un ordine in rate bi-settimanali invece di pagare l’intero importo al momento dell’acquisto. <!-- MC-40556-->

**Nuova modalità di indicizzazione `use_application_lock`**. La modalità `use_application_lock` consente di abilitare la reindicizzazione utilizzando variabili di ambiente o configurando il file `app/etc/env.php`. Non è più necessario reimpostare manualmente l’indicizzatore dopo un errore con questa modalità abilitata.  Vedere [Utilizzo della modalità blocco applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Miglioramenti alla piattaforma

La versione 2.4.3 non è ancora compatibile con PHP 8.x, ma i seguenti aggiornamenti della piattaforma ci avvicinano alla compatibilità futura con PHP 8.x.

* Le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. <!-- MC-39514-->

* La libreria KnockoutJS è stata aggiornata alla versione v3.5.1 (l’ultima versione). <!-- MC-40694-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. Il modulo `Magento_Tinymce3Banner` e i test MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce. <!-- MC-42199 42170 -->

* Il Magento Open Source 2.4.3 è stato testato e confermato compatibile con il Redis 6.0.12. (la versione 2.4.x rimane compatibile con Redis 5.x.)

* Le dipendenze della libreria Laminas sono state aggiornate alle versioni compatibili con PHP 8.x. Alcune dipendenze ridondanti sono state rimosse dal file `composer.json`. **Il Magento Open Source 2.4.3 utilizza Laminas 3.4.0**. <!-- MC-39513-->

### Miglioramenti delle prestazioni

Questa versione include miglioramenti che riducono il tempo di indicizzazione per gli indicizzatori di prezzo del prodotto e regole di catalogo. Gli esercenti possono ora escludere un sito web da un gruppo di clienti o da un catalogo condiviso, riducendo il numero di record per l’indicizzazione e migliorando i tempi di indicizzazione.

### Integrazione di Adobe Stock

Questa versione include l’integrazione di Adobe Stock v2.1.1.

### GraphQL

Questa versione aggiunge la copertura GraphQL per i percorsi condivisi. La [query route](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/route/) e la [RoutableInterface](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/routable/) supportano le richieste di routing per le pagine di prodotti, categorie e CMS. La query `urlResolver` è stata dichiarata obsoleta e la relativa funzionalità è stata sostituita dalla query `route`.

Per informazioni dettagliate su questi miglioramenti, consulta la [Guida per gli sviluppatori di GraphQL](https://developer.adobe.com/commerce/webapi/graphql/).

### Page Builder

Page Builder è ora disponibile come estensione in bundle nel Magento Open Source. Ora è lo strumento predefinito per la modifica dei contenuti per Adobe Commerce 2.4.3 e Magento Open Source 2.4.3. Può sostituire l’editor WYSIWG con qualsiasi modulo di terze parti.

Page Builder sostituisce l’editor TinyMCE nelle seguenti aree di amministrazione:

* Pagina CMS
* Blocco CMS
* Descrizione categoria
* Descrizione del prodotto

Tutti i contenuti creati in TinyMCE sono stati migrati in Page Builder come HTML.

### PWA Studio

Per informazioni sui miglioramenti e sulle correzioni di bug, vedi [Versioni di PWA Studio](https://github.com/magento/pwa-studio/releases). Consulta [compatibilità](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studio e delle relative versioni compatibili.

### Upgrade Compatibility Tool

L&#39;ambito di [Upgrade Compatibility Tool](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) è stato espanso in base al feedback ricevuto dalla community. Unisciti al nostro canale di Slack [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) per ottenere supporto dal team di prodotto Adobe e dalla community, nonché per guidare la direzione futura dello strumento.

### Estensioni sviluppate dal fornitore

Per aggiornamenti sulle funzioni e sulle modifiche di questa versione, consulta i seguenti articoli:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Recensioni prodotto Yotpo](../../../upgrade/modules/upgrade.md)

## Problemi risolti

Sono stati risolti centinaia di problemi nel codice core 2.4.3.

### Installazione, aggiornamento, distribuzione

<!-- MC-41154-->

* Il comando `bin/magento setup:db:status` ora restituisce un messaggio che indica che tutto è aggiornato dopo un aggiornamento riuscito. In precedenza, l&#39;applicazione visualizzava questo errore: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* I valori di configurazione ora vengono mantenuti al ricaricamento del modulo quando la creazione di un nuovo prodotto configurabile non riesce. In precedenza, i valori andavano persi durante il ricaricamento del modulo e l&#39;applicazione visualizzava questo errore: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* L&#39;applicazione non genera più un&#39;eccezione quando si esegue `bin/magento setup:upgrade` per eseguire l&#39;aggiornamento da una distribuzione di Magento Open Source con Redis ad Adobe Commerce.

<!-- ENGCOM-8508 -->

* Le implementazioni in esecuzione su Galera Cluster ora supportano più clienti. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Gli amministratori possono ora accedere correttamente a una distribuzione quando l&#39;applicazione è stata installata con l&#39;opzione `—use-rewrites=0` o con `web/seo/use_rewrites` impostato su 0 in `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Caricamento di `sortOrder` aggiornato per `AsyncCssPlugin`. L&#39;applicazione ora carica `AsyncCssPlugin` prima di `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` ora controlla il percorso di visualizzazione per determinare se un elemento esiste e, se dispone di un percorso di configurazione, utilizza il percorso `config.xml` per la convalida. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* La compilazione di un numero minore di file con la compilazione Grunt o lato server produce ora gli stessi risultati. Precedentemente. `.abs- styles`, che estende altri `.abs- styles` in `_extends.less`, non sono stati generati correttamente se compilati con Grunt. Ciò causava differenze tra le distribuzioni di produzione e di sviluppo. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### Integrazione di Adobe Stock

<!-- MC-39754-->

* L&#39;applicazione visualizza ora un messaggio informativo e un collegamento alla pagina Amministratore **Archivi** > **Configurazione** > **Avanzate** > **Sistema** nella pagina Cerca Adobe Stock quando **Chiave API (ID client)** e **Segreto client** non sono impostati. In precedenza, l&#39;applicazione visualizzava questo errore: `We couldn't find any records` e nessun collegamento.

### Back-end

<!-- MC-40389-->

* Gli amministratori con accesso limitato (ad esempio, a cui viene assegnato l&#39;accesso a un solo sito Web) non possono più modificare le categorie impostate su Ambito globale.

<!-- MC-39037-->

* Il rendering del report di sistema generato (**System** > **Support** > **System Report**) è ora eseguito correttamente. In precedenza, il contenuto del rapporto non era allineato.

<!-- MC-30152 ENGCOM-8625-->

* L&#39;applicazione ora disattiva la convalida nel campo **Prezzo** come previsto quando l&#39;impostazione **Prezzo dinamico** è abilitata durante la creazione del prodotto del bundle. In precedenza, l&#39;applicazione generava un errore di convalida quando si rimuoveva un valore dal campo **Prezzo** quando l&#39;impostazione **Prezzo dinamico** era abilitata. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* I reindirizzamenti infiniti non si verificano più quando l’URL dell’amministratore è diverso dall’URL predefinito del sito web nelle distribuzioni in cui l’applicazione è configurata per essere accessibile da due URL.

### Prodotti bundle

<!-- MC-41810-->

* È ora possibile utilizzare la mutazione `addProductsToCart` per aggiungere a un carrello un prodotto bundle con più opzioni di casella di controllo.

<!-- MC-41614-->

* L’indicizzazione dei prezzi dei prodotti bundle viene ora eseguita utilizzando tabelle temporanee, che evita di bloccare le tabelle del database. In precedenza, l’applicazione utilizzava tabelle fisiche, che risultavano in tabelle bloccate.

<!-- MC-41177 magento/magento2#32594-->

* Ora il prezzo di un articolo bundle può essere impostato su 0,00. In precedenza, quando si tornava alla pagina di modifica dopo aver impostato il prezzo su 0,00, il prezzo veniva riportato al suo valore predefinito. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* I dettagli dell’ordine per gli ordini che contengono prodotti bundle ora mostrano il prezzo corretto per i prodotti bundle se il prezzo è stato modificato prima dell’ordine.

<!-- MC-40035-->

* Lo stato delle scorte dei prodotti del bundle viene ora aggiornato in base allo stato delle scorte dei relativi prodotti secondari. In precedenza, i prodotti in bundle venivano mostrati come esauriti quando un’opzione veniva rimossa dal prodotto e il prodotto in bundle aveva due opzioni con lo stesso SKU.

<!-- MC-39276-->

* Un amministratore può ora modificare il valore per l&#39;attributo `Shipment Type` di un prodotto bundle dopo che è stato spostato in un gruppo di attributi diverso. In precedenza, questo attributo veniva sempre salvato con un valore `Together` se veniva spostato in un gruppo di attributi diverso da quello predefinito nel set di attributi.

<!-- MC-38900-->

* La mutazione di GraphQL `setGuestEmailOnCart` aggiorna ora correttamente l&#39;e-mail guest. In precedenza, le tabelle degli indirizzi delle offerte e delle offerte non venivano aggiornate.

<!-- MC-37719-->

* L’aggiunta, la rimozione o l’aggiornamento di un prodotto secondario a un prodotto bundle tramite chiamate API REST ora attiva la reindicizzazione come previsto. In precedenza, queste azioni non attivavano la reindicizzazione e, di conseguenza, il prodotto bundle non modificava lo stato delle scorte fino a quando non veniva eseguita la reindicizzazione manuale.

<!-- MC-35725 ENGCOM-8568-->

* L&#39;applicazione visualizza ora la gamma di prezzi corretta per i prodotti in bundle con prezzi di livello. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* L’applicazione ora visualizza lo stesso prezzo totale previsto nella pagina del carrello e nella fase di spedizione del flusso di lavoro di pagamento dopo la modifica del prezzo di un’opzione del bundle.

<!-- MC-32617-->

* Ora puoi configurare correttamente un prodotto bundle accedendovi da un carrello clienti. In precedenza, la pagina Configura prodotto non veniva mai completamente caricata e non era possibile salvare le impostazioni.

<!-- MC-30317 ENGCOM-7141-->

* I commercianti possono ora assegnare un prezzo univoco per un prodotto bundle su ogni visualizzazione del negozio di una distribuzione multistore. I prezzi specifici del sito Web vengono salvati nella tabella `catalog_product_bundle_selection_price`. In precedenza, l&#39;applicazione non basava il prezzo di un bundle sull&#39;ambito del sito Web anche quando **Archivi** > **Configurazione** > **Catalogo** > **Catalogo** > **Prezzo** > **Ambito prezzo catalogo** era impostato su `Website`. Nessun prezzo specifico per il sito Web salvato in `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* Le fatture per i prodotti in bundle ora visualizzano la quantità corretta per i prodotti semplici associati quando **Dynamic Pricing** è disabilitato. In precedenza, i prodotti semplici associati al prodotto del bundle avevano la quantità del prodotto principale, non del prodotto del bundle). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* La mutazione `updateProductsInWishlist` ora aggiorna correttamente gli elementi che appartengono a un prodotto bundle in una lista dei desideri. In precedenza, invece di aggiornare la voce della lista dei desideri, questa mutazione eliminava la voce e ne creava una nuova, modificandone l’ID.

### Cache

<!-- ENGCOM-8554-->

* Il file `varnish6.vcl` è stato aggiornato per ignorare il caching della pagina del cliente.

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA ora convalida correttamente i dati forniti da un acquirente, e i campi CAPTCHA ora vengono visualizzati come previsto dopo i molteplici tentativi falliti di un acquirente di effettuare il check-out con PayPal Payflow Pro.

<!-- MC-41281-->

* La convalida CAPTCHA non ha più esito negativo in modo casuale nella pagina di pagamento del flusso di lavoro di pagamento.

<!-- MC-41001-->

* L’applicazione ora visualizza i campi CAPTCHA come previsto dopo il superamento del numero di tentativi di completamento non riusciti. In precedenza, sebbene l’applicazione ti avesse richiesto di riprovare a eseguire la richiesta CAPTCHA, non mostrava i campi CAPTCHA.

<!-- MC-40359-->

* CAPTCHA ora funziona come previsto nella pagina di pagamento. In precedenza, dopo che un acquirente ha risposto correttamente a una richiesta CAPTCHA, il caricatore nella pagina di pagamento non ha mai completato e l&#39;applicazione ha visualizzato questo errore: `captchaData[formId] is undefined`. (Questo errore si verificava solo quando l’acquirente utilizzava lo stesso browser da cui aveva precedentemente effettuato l’accesso a una distribuzione in cui era in esecuzione la versione 2.3.5-p1.)

<!-- ENGCOM-8630-->

* Le verifiche di `_.isEmpty()` nel file `defaultCaptcha.js` ora sono state completate. In precedenza, questi controlli non venivano completati e, di conseguenza, la pagina di estrazione non veniva caricata dopo l’aggiornamento. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carrello e pagamento

<!-- MC-41911-->

* L’applicazione ora tiene conto delle localizzazioni decimali specifiche per le impostazioni internazionali durante la conversione e l’aggiornamento della quantità di prodotto nel carrello.

<!-- MC-40657-->

* L&#39;applicazione visualizza ora il messaggio di convalida dei Termini e Condizioni nel blocco pertinente solo quando un acquirente fa clic sul pulsante **Inserisci ordine**. In precedenza, l&#39;applicazione visualizzava questo messaggio nel blocco Applica codice sconto ogni volta che un acquirente cambiava metodo di pagamento nel flusso di lavoro di pagamento: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-39581-->

* Se l&#39;acquirente non riesce a fare clic sul pulsante **Aggiorna** e ritorna alla fase di spedizione, l&#39;applicazione ignora le modifiche apportate al modulo dell&#39;indirizzo di fatturazione nel passaggio di pagamento dell&#39;estrazione.

<!-- MC-37807 ENGCOM-8530-->

* I prodotti con un&#39;opzione personalizzabile `(File)` ora includono collegamenti attivi come previsto durante il processo di pagamento con spedizione multipla. In precedenza, questo collegamento era mancante. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* Il carrello degli amministratori ora visualizza i prezzi dei prodotti nelle valute corrette per i negozi che supportano più valute. In precedenza, i prezzi venivano convertiti nella valuta specificata più di una volta: prima, quando i prodotti venivano aggiunti al carrello dalla vetrina, e poi di nuovo quando l’ordine veniva successivamente renderizzato sull’amministratore.

<!-- MC-35640-->

* Gli acquirenti possono ora aggiungere al carrello un prodotto il cui prezzo minimo pubblicizzato (MAP) supera il normale prezzo del prodotto.

<!-- MC-35289-->

* Gli acquirenti possono ora modificare correttamente il proprio indirizzo di fatturazione dal flusso di lavoro di pagamento quando effettuano il pagamento con più indirizzi.

<!-- MC-29335 magento/magento2#32251 -->

* Tutte le transazioni di pagamento a pagamento create dagli ospiti vengono ora salvate nel database e visualizzate nell&#39;amministratore come previsto. In precedenza, nel database veniva salvato solo un piccolo sottoinsieme di ordini simultanei e la maggior parte degli ordini andava persa a causa di timeout dovuti a blocchi del database. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989-->

* L’applicazione ora visualizza correttamente i messaggi di benvenuto in linea contenenti caratteri speciali quando un ospite inserisce un prodotto nel mini carrello. In precedenza, l’applicazione non aggiungeva il prodotto al mini carrello né visualizzava il messaggio di benvenuto. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* La pagina di spedizione del flusso di lavoro di pagamento ora viene caricata correttamente quando la consegna nel negozio è abilitata. In precedenza, l’applicazione generava un errore JavaScript e la pagina di pagamento della spedizione non veniva riprodotta completamente.

<!-- ENGCOM-9006-->

* Argomento `itemResolvers` aggiunto al file `di.xml` del catalogo. Di conseguenza, l’estrazione non viene più interrotta se i moduli di prodotto configurabili e raggruppati sono disabilitati. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* L&#39;applicazione ora visualizza i pulsanti di scelta nella sezione **Informazioni su pagamento e spedizione** come previsto durante il flusso di lavoro di riordino dell&#39;amministratore. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* L’applicazione ora applica correttamente le regole del prezzo del carrello con uno sconto fisso a livello di carrello quando il carrello contiene un prodotto bundle con più opzioni. In precedenza, la regola del prezzo del carrello non veniva applicata completamente all’ordine. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* Il pulsante **Aggiungi al carrello** nella visualizzazione elenco categorie ora funziona come previsto. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* È ora possibile utilizzare POST `/V1/carts/mine/items` per aggiungere una quantità personalizzata di prodotti raggruppati a un carrello. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* L’applicazione non popola più l’area dell’indirizzo di fatturazione del flusso di lavoro di pagamento con l’indirizzo di spedizione. In precedenza, quando il campo **Stato/Provincia** per l&#39;indirizzo di fatturazione era vuoto e gli indirizzi di spedizione e fatturazione erano diversi, l&#39;applicazione compilava il campo dell&#39;indirizzo di fatturazione **Stato/Provincia** con le informazioni dell&#39;indirizzo di spedizione. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catalogo

<!-- MC-36787-->

* L&#39;aggiornamento di massa degli attributi **Abilita incrementi quantità** e **Incrementi quantità** ora funziona come previsto. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41575-->

* L’applicazione non genera più un errore JavaScript dopo l’abilitazione della sincronizzazione di prodotti recenti con l’amministratore. In precedenza, l&#39;applicazione visualizzava questo errore JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* Gli aggiornamenti del layout del tema personalizzato vengono ora applicati come previsto. In precedenza, gli aggiornamenti del layout del tema personalizzato venivano ignorati.

<!-- MC-41499-->

* La cache della categoria di prodotto viene ora cancellata come previsto da `cron` durante l&#39;esecuzione di `indexer_update_all_views`. In precedenza, i conteggi dei prodotti nella pagina Categoria dopo la reindicizzazione non erano corretti.

<!-- MC-41422-->

* I valori degli attributi ora rimangono invariati quando un attributo non è specificato in una richiesta API REST per l’aggiornamento del prodotto per una vista store. In precedenza, se un attributo non veniva specificato, l&#39;applicazione reimpostava il valore dell&#39;attributo sul relativo valore di ambito predefinito.

<!-- MC-41284-->

* Nella griglia Prodotti amministratore (Admin **Catalogo** > **Prodotti**) ora viene visualizzato il conteggio di prodotti corretto quando i prodotti vengono filtrati per SKU.

<!-- MC-40873-->

* L&#39;applicazione ora visualizza lo stato preciso delle scorte quando un prodotto viene aggiunto a una pagina CMS quando le autorizzazioni della categoria sono abilitate e impedisce la visualizzazione del prezzo per il gruppo del cliente specificato. In precedenza, tutti i prodotti venivano mostrati come esauriti, indipendentemente dallo stato delle scorte reali.

<!-- MC-40859-->

* Il campo di input Prezzo blocco gruppo di clienti di Advanced Pricing ha ora una larghezza minima di cinque cifre. In precedenza, in questo campo erano visibili solo due simboli su display a bassa risoluzione.

<!-- MC-40825-->

* L’applicazione ora elimina correttamente un’immagine multimediale di prodotto dopo l’eliminazione di un prodotto. In precedenza, l’immagine del supporto del prodotto rimaneva nella cartella dopo la corretta eliminazione del prodotto.

<!-- MC-40811 magento/magento2#32042-->

* Il layout di pagina ora viene aggiornato come previsto quando crei o modifichi un prodotto in Amministrazione e quindi crei un aggiornamento della progettazione pianificato. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Ora è possibile salvare come vuoto un attributo di prodotto personalizzato con valore zero. In precedenza, l’applicazione non aggiornava questo valore in vuoto.

<!-- MC-40736 ENGCOM-8789-->

* I file di aggiornamento del layout di categoria personalizzato ora vengono applicati ai prodotti come previsto. In precedenza, l&#39;handle del file di aggiornamento (`catalog_category_view_*`) non corrispondeva all&#39;handle del prodotto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* L’ordinamento è stato disattivato per la colonna Imposta fissa sui prodotti (FPT) dell’elenco dei prodotti amministratore. In precedenza, non era possibile ricaricare la pagina Prodotti dopo l’ordinamento della colonna FPT.

<!-- MC-40443-->

* L’anteprima del widget dei prodotti Page Builder ora funziona come previsto in una distribuzione multi-sito web quando i prodotti corrispondenti hanno un prezzo diverso su ciascun sito web.

<!-- MC-40344 ENGCOM-8629-->

* L&#39;ordinamento in base alla posizione nella ricerca prodotti utilizzando il GET `/rest/V1/products/?searchCriteria[filterGroups]` ora funziona come previsto. In precedenza, la raccolta di prodotti non presentava un valore `position` per l&#39;ordinamento del campo. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Gli utenti amministratori possono ora visualizzare gli spazi doppi nei campi **Name** e **SKU** nella griglia del prodotto. In precedenza, l’applicazione comprimeva più spazi in un singolo spazio.

<!-- MC-39869-->

* I prodotti ora sono visualizzati come esauriti nella vetrina quando la quantità vendibile sull’amministratore è 0. In precedenza, questi prodotti erano elencati come in magazzino nella vetrina e l&#39;applicazione mostrava un pulsante **Aggiungi al carrello** attivo. [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Gli amministratori possono ora aggiungere prodotti con opzioni personalizzabili `(File)` alla griglia Articoli ordinati dalla sezione Carrello acquisti (colonna Attività del cliente) della pagina Cliente amministratore. In precedenza, l&#39;applicazione non aveva aggiunto l&#39;elemento all&#39;elenco perché il valore non era formattato correttamente prima di essere inserito in `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* L’applicazione non richiede più agli acquirenti di selezionare un’opzione di prodotto per un prodotto in bundle con una sola opzione.

<!-- MC-39617-->

* Durante la creazione di un nuovo widget, l’applicazione ora visualizza tutte le sottocategorie negli aggiornamenti del layout (categorie di ancoraggio e non di ancoraggio).

<!-- MC-39481-->

* La query `product` non sovrascrive più i valori predefiniti per tutte le visualizzazioni dello store in una distribuzione di più store quando un nome di prodotto viene aggiornato per una sola visualizzazione dello store. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Il Magento Open Source aggiorna il conteggio totale delle pagine come previsto quando modifichi il valore per pagina dell’elenco Prodotti correlati all’amministratore, Vendite successive e Cross-Sell. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Gli amministratori possono ora aggiungere prodotti con due o più opzioni personalizzabili `(File)` a un ordine per SKU.

<!-- MC-39140-->

* L’applicazione non genera più un errore quando un amministratore con autorizzazioni limitate aggiunge un widget di prodotto a una pagina di CMS nell’amministratore. In precedenza, l&#39;applicazione ha generato questo errore quando l&#39;amministratore ha fatto clic sul pulsante **Salva**: `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* Le pagine dei dettagli del prodotto ora si aprono con l&#39;opzione data personalizzabile compilata con la data dell&#39;ordine precedente quando **Usa calendario di JavaScript** è abilitato. Il risolutore valore dell’opzione data personalizzato ora utilizza un formato alternativo se il valore non è formattato in base alla configurazione corrente. In precedenza, il valore dell’opzione data personalizzata era vuoto.

<!-- MC-39104-->

* Ora l’applicazione visualizza un solo errore nel carrello quando il prodotto è esaurito. In precedenza, l’applicazione visualizzava messaggi ridondanti. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-38575-->

* È ora possibile impostare gli attributi del bundle `required_options` e `has_options` come previsto durante la creazione o l&#39;aggiornamento di un prodotto del bundle utilizzando l&#39;endpoint `POST /V1/product/:sku`. In precedenza, questi attributi personalizzati venivano impostati su 0 (zero) nonostante gli sforzi per impostarlo su 1 (uno).

<!-- MC-35717  magento/partners-magento2ee#427-->

* Gli amministratori possono ora aggiungere un prodotto con un&#39;opzione personalizzabile `(File)` a un ordine per SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* È ora possibile salvare un prodotto e un prezzo senza specificare `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* I prodotti del gruppo sono ora disponibili nella vetrina come previsto quando viene utilizzata una richiesta REST `PUT /V1/products/:sku/links` per associare un nuovo prodotto secondario a un nuovo prodotto del gruppo. In precedenza, i prodotti non venivano indicizzati correttamente dopo l&#39;esecuzione di `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Non è più possibile creare un prodotto con un valore SKU `NULL`. In precedenza, era possibile creare un prodotto senza un valore SKU tramite un’importazione personalizzata o direttamente nel database, ma quando si tentava di modificarlo dall’amministratore, l’applicazione generava un errore. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* L’aggiunta delle opzioni personalizzate richieste a un prodotto semplice non lo rimuove più dai prodotti compositi principali senza alcun avviso. L’applicazione visualizza ora un avviso informativo e non salva il prodotto.  In precedenza, l’applicazione salvava le modifiche apportate al prodotto e non visualizzava un’avvertenza. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Regola catalogo

<!-- MC-39896-->

* La query `products` ora restituisce i valori correnti quando una regola del prezzo di catalogo si applica a un articolo. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Le tabelle temporanee che iniziano con `catalogrule_product__temp` vengono ora eliminate come previsto quando la reindicizzazione non riesce dopo la scadenza di un carrello o di una regola del catalogo, quando viene disabilitata o diventa inattiva. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* I fusi orari vengono ora applicati allo stesso modo in `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` e `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### Contenuto CMS

<!-- MC-41471-->

* Le immagini di grandi dimensioni ora vengono ridimensionate come previsto durante il caricamento quando l&#39;impostazione di configurazione **Abilita ridimensionamento front-end** è abilitata.

<!-- MC-40663 ENGCOM-8883-->

* È stata corretta la gestione dell’errore per il controller di salvataggio della pagina CMS. In precedenza, quando un oggetto `Error` veniva generato nell&#39;evento `cms_page_prepare_save`, l&#39;applicazione passava l&#39;oggetto alla funzione `addExceptionMessage`, interrompendo il relativo contratto perché questa funzione prevede un `Exception`. Questo problema è stato risolto aggiungendo un messaggio di errore utilizzando la funzione `addErrorMessage`. [GitHub-30149](https://github.com/magento/magento2/issues/30149)

### Prodotti configurabili

<!-- MC-40719-->

* L’applicazione non duplica più le miniature dei prodotti nella galleria di immagini di un prodotto quando si fa clic sulle opzioni configurabili di un prodotto.

<!-- MC-37418-->

* Il pop-up di configurazione visualizzato dall&#39;applicazione durante la modifica di un prodotto configurabile da una lista dei desideri ora si chiude come previsto quando si fa clic sul pulsante **OK**.

<!-- MC-39878  magento/magento2#31472-->

* L&#39;applicazione ora genera correttamente fatture per ordini che contengono un solo prodotto configurabile. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Gli acquirenti possono ora aggiungere prodotti configurabili al carrello da una vista del negozio non predefinita. In precedenza, quando l&#39;acquirente in una visualizzazione archivio non predefinita tentava di aggiungere un prodotto configurabile, l&#39;applicazione visualizzava questo errore: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Criteri sulla sicurezza dei contenuti (CSP)

<!-- ENGCOM-8577-->

* I criteri sulla sicurezza dei contenuti ora supportano il caricamento di immagini e font con codifica base64 tramite `data: scheme`.

### cron

<!-- MC-30804-->

* È stato eseguito il refactoring delle query di pulizia delle celle per ridurre o eliminare i seguenti problemi di prestazioni: `cron` processi rimanenti bloccati in uno stato in sospeso, query MySQL sempre più lente e un aumento dell&#39;utilizzo della CPU. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` che sono stati nello stato `running` per più di 24 ore ora vengono automaticamente modificati nello stato `error`.  Di conseguenza, è possibile eseguire nuovamente una nuova istanza di tale processo e non è necessario modificare manualmente lo stato del processo quando un processo rimane impostato in modo errato sullo stato `running`. In precedenza, se un `cronjob` era bloccato nello stato `running`, l&#39;applicazione impediva l&#39;avvio di nuove istanze dello stesso processo ed era necessario modificare manualmente lo stato del processo. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` processi ora completati come previsto e non genera più questo errore di serializzazione: `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views` processi cron ora vengono eseguiti come previsto dopo un errore precedente. L&#39;esecuzione non riuscita è contrassegnata come errore in `cron_schedule schedule` e l&#39;esecuzione successiva non ha esito negativo automaticamente. In precedenza, la tabella `cron_schedule` era piena di processi in sospeso e il processo cron `indexer_update_all_views` non veniva eseguito. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` deadlock non si verificano più a causa del tentativo di `cron` di impostare un blocco in implementazioni di grandi dimensioni in cui i gruppi si sovrappongono. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* I deadlock `cron` non si verificano più nella tabella `cron_schedule` dopo l&#39;esecuzione di alcuni `cron` processi. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Attributi cliente personalizzati

<!-- MC-41611-->

* Il campo **State** nella rubrica dell&#39;account cliente storefront è ora caricato come e rimane un elemento della pagina a discesa. Il pulsante **Invia** è disabilitato fino al completamento del caricamento di tutti gli elementi della pagina. In precedenza, l’applicazione caricava questo campo come casella di testo prima di eseguirne il rendering come elemento a discesa e gli acquirenti potevano immettere e salvare i valori nel campo di testo, causando in seguito un errore durante l’estrazione.

<!-- MC-40329-->

* L’applicazione non genera più un errore quando si salva un attributo dell’indirizzo del cliente con un file allegato nel campo Indirizzo del cliente amministratore durante il caricamento dei file. Ciò si è verificato a causa di un&#39;istruzione return mancante nell&#39;azione del controller. In precedenza, l&#39;applicazione ha generato questo errore: `Something went wrong while saving the file`.

<!-- MC-39354-->

* Le chiamate API REST GET Cart ora restituiscono valori di attributo personalizzati corretti per gli indirizzi di fatturazione e spedizione. In precedenza, gli attributi degli indirizzi personalizzati non venivano visualizzati correttamente nella pagina dei dettagli dell’ordine nella pagina di vetrina del mio account e in Amministrazione.

<!-- MC-24495-->

* L&#39;applicazione ora gestisce correttamente i file che contengono attributi dell&#39;indirizzo del cliente con tipo di input `file (attachment)`. In precedenza, l&#39;applicazione generava questo errore durante il caricamento del file allegato: `Something went wrong while saving the file`.

### Cliente

<!-- MC-40579-->

* L’applicazione di un filtro in base alla data di creazione dell’account ora produce risultati conformi alle impostazioni configurate per il fuso orario e in grado di acquisire tutti gli account creati rilevanti.

<!-- MC-40502-->

* Il filtro griglia clienti ora utilizza un’opzione corretta per un sito web per un utente con restrizioni, se i dati erano stati precedentemente memorizzati nella cache. In precedenza, il filtro della griglia del cliente recuperava parametri del sito web dalla cache e includeva dati errati per gli utenti con restrizioni.

<!-- MC-39189-->

* L’applicazione non genera più un’eccezione nella pagina Clienti amministratori quando un sito web viene eliminato in una distribuzione multisito. In precedenza, quando un amministratore tentava di accedere all&#39;elenco completo dei clienti, nell&#39;applicazione non venivano visualizzati tutti i clienti e veniva visualizzato questo errore: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Gli amministratori autorizzati possono ora riassegnare i clienti a siti web diversi dalla scheda Informazioni account del cliente.

<!-- MC-39852-->

* È ora possibile caricare un file correttamente durante la creazione di un attributo dell&#39;indirizzo del cliente con un tipo di input `(File)`. In precedenza, quando si tentava di caricare e salvare un file, l&#39;applicazione generava questo errore: `Something went wrong while saving the file`.

### Directory

<!-- MC-39520-->

* L’applicazione non genera più un’eccezione quando un acquirente immette un codice postale non valido durante la sezione di spedizione del flusso di lavoro di pagamento. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Download disponibile

<!-- MC-35779-->

* Ora l’applicazione visualizza i collegamenti ai prodotti scaricabili nell’e-mail Nuovo ordine quando l’ordine contiene sia un prodotto scaricabile che un prodotto configurabile con un’opzione scaricabile. In precedenza, l’applicazione visualizzava il collegamento al prodotto scaricabile autonomo, ma non il collegamento al prodotto configurabile con un’opzione scaricabile.

### EAV

<!-- MC-41756-->

* I valori di data dell’attributo dell’indirizzo del cliente vengono ora salvati in formato a quattro cifre anziché a due.

### E-mail

<!-- MC-39757-->

* Il collegamento di reimpostazione della password nella pagina Reimpostazione password amministratore ora funziona come previsto. In precedenza, quando si utilizzava un modello personalizzato per la pagina Reimposta password amministratore, l&#39;applicazione visualizzava questo messaggio quando un amministratore faceva clic sul collegamento all&#39;interno dell&#39;e-mail: `Your password reset link has expired`. Ciò si verificava perché il modello e-mail personalizzato conteneva una variabile errata per l’ID utente.

<!-- MC-41588-->

* L’invio di e-mail ai clienti da parte dell’amministratore ora funziona correttamente se attivato a livello di visualizzazione store. In precedenza, l’applicazione non inviava e-mail ai clienti quando le impostazioni di notifica e-mail erano abilitate a livello di visualizzazione store ma non a livello globale.

<!-- MC-40950-->

* L’applicazione ora invia le e-mail come previsto nelle distribuzioni multisito in cui non tutti i siti web hanno abilitato l’invio asincrono delle e-mail. In precedenza, se questa impostazione era disabilitata per almeno un sito web, l’e-mail non veniva inviata da alcun sito web, nemmeno se abilitata. Le e-mail relative a fatture, spedizioni e note di credito presentavano problemi simili. Tuttavia, le e-mail Commenti ordine, Commenti fattura, Commenti spedizione e Commenti nota di accredito sono state inviate correttamente. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-30127 magento/magento2#31455-->

* Fatture e PDF fatture ora includono gli stessi prezzi previsti per i prodotti bundle. In precedenza, i PDF delle fatture includevano il prezzo errato per i prodotti bundle. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* Il cast di stringhe è stato aggiunto al metodo di filtro del modello e-mail per garantire che il valore restituito sia `string`. In precedenza, quando un&#39;eccezione veniva rilevata mentre non era attiva la modalità sviluppatore, l&#39;applicazione restituiva un oggetto `phrase`. Questo a sua volta ha attivato un `Uncaught TypeError` irreversibile. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Le e-mail di conferma dell&#39;ordine ora vengono inviate come previsto quando l&#39;invio asincrono è abilitato (**Archivi** > **Configurazione** > **Vendite** > **E-mail vendite** > **Impostazioni generali** > **Invio asincrono**) in un sito Web in una distribuzione multisito. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* L’applicazione ora registra un errore come previsto quando si verifica un’eccezione durante il tentativo di un cliente di inviare un’e-mail dal modulo Contattaci. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Framework

<!-- MC-41712-->

* Le classi padre nell’amministratore ora vengono verificate per l’annotazione docblock insieme alla classe originale e alle interfacce ereditate. In precedenza, poiché le classi padre non erano selezionate, l’esecuzione di azioni relative al cliente nell’amministratore che ha attivato un evento generava un errore. L&#39;applicazione ha registrato questo errore nel registro eccezioni: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* L’applicazione non genera più un errore irreversibile quando il server Redis viene arrestato in una distribuzione in cui è abilitato il caching delle pagine Redis.

<!-- MC-40739-->

* L&#39;applicazione ora rispetta l&#39;impostazione **Escludi cartella multimediale dal backup** quando il backup è abilitato con `bin/magento config:set system/backup/functionality_enabled 1`. In precedenza, il backup della cartella dei file multimediali veniva eseguito nonostante questa impostazione, perché il percorso di `/magento` era formato in modo errato con un doppio //.

<!-- MC-40654 ENGCOM-8881-->

* L’applicazione ora traduce tutte le stringhe traducibili come previsto per la pagina del carrello di amministrazione. In precedenza, il carico di traduzione si verificava troppo tardi e saltava tutti gli osservatori che erano abbonati al pre-invio dell’azione del controller. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* La convalida del modulo nella pagina Crea nuovo account cliente ora funziona correttamente quando l&#39;impostazione di abilitazione dell&#39;estensione **Accedi come cliente** è disabilitata. In precedenza, l’applicazione generava un errore JavaScript.

<!-- MC-39193-->

* È stata migliorata la gestione delle eccezioni per i processi figlio con forking da `ProcessManager`. Quando si verifica ora un&#39;eccezione, il processo principale viene chiuso e un messaggio di errore viene visualizzato una sola volta. In precedenza, venivano registrati più errori di indicizzazione e venivano visualizzati più messaggi. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* I plug-in del Magento Open Source globale (ad esempio, `webapi_rest` e `graphql` ) non vengono più attivati per un nuovo tipo di area personalizzata quando il `di.xml` del file di area non contiene plug-in registrati.

<!-- MC-38770-->

* Le eccezioni che si verificano durante l’inizializzazione non vengono più memorizzate nella cache e ora attivano il codice di risposta 500.

<!-- ENGCOM-8232-->

* L&#39;ultimo gestore unito in un file `communication.xml` non sostituisce più tutti i gestori creati in precedenza. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correzioni generali

<!-- MC-41194-->

* L’applicazione ora visualizza il numero corretto di stelle nella pagina Recensioni dei miei prodotti e nella pagina Recensioni recenti di MyAccount. In precedenza, l’applicazione applicava la recensione solo alla prima recensione e lasciava le altre recensioni sulla pagina senza stelle.

<!-- MC-40653-->

* I collegamenti dell’account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti degli account nelle intestazioni contenevano ID duplicati, che impedivano la convalida WCAG.

<!-- MC-39765-->

* L&#39;applicazione non genera più errori generati dal registro di sistema quando un acquirente guest utilizza un indirizzo non valido. In precedenza, l&#39;applicazione visualizzava questo errore in modo intermittente invece di eseguire il rendering della pagina: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* Il processo di ridimensionamento delle immagini non si interrompe più se le immagini sono in un formato non supportato. In precedenza, quando `catalog:images:resize` ha rilevato un formato immagine non supportato, il processo si è interrotto e l&#39;applicazione ha visualizzato questo errore: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* All’amministratore è stato aggiunto il supporto WEBP e AVIF per le immagini del logo. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Impossibile modificare l&#39;ambito dell&#39;attributo `media_gallery`. In precedenza, quando si modificava l&#39;ambito dell&#39;attributo `media_gallery` in `global`, l&#39;applicazione generava un errore.

<!-- MC-36818  magento/partners-magento2ee#470-->

* I prodotti correlati aggiunti come aggiornamento pianificato non vengono più visualizzati in una pagina di prodotto della vetrina dopo la data di fine dell’aggiornamento. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-33499 magento/partners-magento2ee#446-->

* Il filtro ora funziona come previsto nell’elenco delle esportazioni pianificate quando viene selezionato il tipo di entità. In precedenza, il filtro non funzionava e l’applicazione generava un errore JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Le immagini delle categorie vengono copiate come previsto dalla directory `catalog/tmp/category` nella directory `catalog/category` quando le categorie vengono salvate utilizzando il metodo di archiviazione del database. Anche la riga immagine nella tabella `media_storage_file_storage` ora contiene `directory_id` corretto. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Ora i commercianti ricevono una notifica delle cache non convalidate, come previsto dopo l’invio delle modifiche alla gerarchia di CMS. In precedenza, l’applicazione non invalidava le cache durante il salvataggio della gerarchia di CMS.

<!-- MC-24725-->

* Le richieste AJAX ridondanti alla sezione carrello del carrello sono state ridotte. In precedenza, l’applicazione non caricava correttamente il subtotale del carrello, riattivando il caricamento del carrello.

<!-- MC-23740-->

* È stata aggiunta la convalida per gli URL per impedire l’inclusione di parole riservate nelle chiavi URL. Vedere [Definizione degli URI (Uniform Resource Identifiers) noti](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* Nelle distribuzioni che eseguono PHP 7.4, l&#39;applicazione ora restituisce un errore 404 quando l&#39;impostazione **Genera URL &quot;categoria/prodotto&quot; Riscrive** è impostata su **No** e un acquirente tenta di accedere a un percorso di categoria inesistente. In precedenza, l&#39;applicazione restituiva un errore 500 che indicava: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- ENGCOM-8901-->

* `nowdoc` ha sostituito `heredoc` nel commutatore dell&#39;archivio `Magento_Backend`. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8685-->

* Sono state aggiunte le regioni Argentina, Bolivia, Cile, Ecuador, Guyana, Paraguay, Perù, Suriname e Venezuela alla tabella `directory_country_region`. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Sono state aggiunte le regioni di Albania, Danimarca, Grecia, Islanda, Portogallo e Svezia alla tabella `directory_country_region`. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* I messaggi vengono ora contrassegnati come errori nella coda dei messaggi MysqlMQ quando si verificano eccezioni. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* L&#39;applicazione ora fa riferimento all&#39;oggetto classe corretto durante il caricamento delle informazioni sulle imposte per le pagine della nota di accredito e della fattura Admin. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* L&#39;integrazione Click &amp; Drop di Royal Mail ora funziona come previsto. In precedenza, l&#39;applicazione generava questo errore quando si tentava di attivare la sua integrazione: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* L&#39;applicazione visualizza ora un messaggio di errore informativo quando una spedizione, una nota di credito o un ID fattura non corretto viene passato in un URL. In precedenza, l’applicazione generava un errore irreversibile. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* La ricorsione nel percorso dei file statici è stata rimossa.  L’applicazione visualizza ora una pagina 404 invece di un errore 500. In precedenza, un bug nella configurazione NGINX predefinita portava a una ricorsione infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* Il nome del file `cms_index_noroute.xml` è stato corretto in `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* È stato eseguito il refactoring del file `.editorconfig` per correggere la formattazione automatica di `db_schema_whitelist.json` file. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* Il ridimensionamento di una finestra del browser non attiva più gli eventi di ingrandimento del binding duplicati. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* L&#39;applicazione non genera più un&#39;eccezione SQL quando si filtra `Magento\Users\Model\ResourceModel\Users\Collection` per `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Biglietti regalo

<!-- MC-32651-->

* Logica di convalida dell&#39;intervallo di prezzi aggiunta alla pagina di creazione della gift card. In precedenza, un amministratore poteva creare una scheda con un valore minimo che superava il valore massimo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* La query `addRequisitionListItemsToCart` ora restituisce l&#39;importo di una gift card personalizzata come previsto quando la richiesta non contiene un valore per `allow_open_amount`.

### Messaggio regalo

<!-- ENGCOM-8539-->

* Gli amministratori vengono ora reindirizzati direttamente alla pagina di amministrazione richiesta dopo l’accesso.  In precedenza, quando un amministratore effettuava l’accesso, veniva reindirizzato al dashboard di amministrazione (o a qualsiasi pagina configurata come pagina di avvio) e doveva passare manualmente alla sua destinazione. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

### Gestione tag Google

<!-- MC-39072-->

* Il componente dell’interfaccia utente per l’indirizzo di fatturazione nella pagina di pagamento del flusso di lavoro di pagamento ora utilizza correttamente l’indirizzo dell’offerta quando Google Tag Manager è abilitato. In precedenza, si verificava un errore JavaScript nella pagina di pagamento.

### GraphQL

<!-- MC-41885-->

* La query GraphQL `products` ora restituisce opzioni di attributo ordinate nello stesso ordinamento utilizzato nella pagina di modifica degli attributi.

<!-- MC-41473-->

* La risposta alla richiesta di GraphQL `{ category(id: 2){ children { name children { name } } } }` ora include una struttura di categorie ordinata correttamente.

<!-- MC-41030-->

* L&#39;oggetto `CartItemPrices` contiene ora il nuovo campo GraphQL `fixed_product_taxes`, che restituisce un array delle imposte sui prodotti fisse applicate a un elemento del carrello. In precedenza, le imposte sui prodotti fisse applicate a un articolo del carrello non venivano incluse nella query del carrello.

<!-- MC-40920-->

* Le richieste vuote a GraphQL ora generano il codice di risposta 200 invece di 500. In precedenza, il parser GraphQL generava un’eccezione prima della generazione del risultato della query.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* La mutazione `applyRewardPointsToCart` aggiorna ora il totale complessivo di un carrello per riflettere con precisione il valore dei punti premio dedotti. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* I prodotti disattivati non sono più inclusi nella risposta di GraphQL quando GraphQL viene utilizzato per collegare prodotti di upselling.

<!-- MC-40262-->

* Gli esercenti possono ora utilizzare il metodo GraphQL `setShippingAddressesOnCart` per impostare gli indirizzi di fatturazione e spedizione per il carrello di un acquirente quando il pagamento come ospite è disabilitato.

<!-- MC-39508-->

* La query `categoryList` non genera più un&#39;eccezione quando contiene più frammenti sull&#39;oggetto `CategoryTree`. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* La query di GraphQL `product` ora restituisce i prezzi corretti del gruppo di clienti.

<!-- MC-38822-->

* La risposta alla query di GraphQL `products` ordina ora le aggregazioni in base alla posizione dell&#39;attributo del prodotto.

<!-- ENGCOM-8462-->

* L’applicazione non genera più errori di tipo durante le query GraphQL quando i suffissi URL di prodotto e categoria contengono valori Null. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* L&#39;oggetto `CustomizableDateValue` contiene ora l&#39;attributo `type`. Il relativo valore è un’enumerazione che può essere impostata su DATE, DATE_TIME o TIME.

<!--  magento/partners-magento2ee#421-->

* La query [`dynamicBlocks`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/dynamic-blocks/) restituisce il contenuto dei blocchi dinamici che corrispondono ai filtri specificati.

<!-- ENGCOM-8603-->

* La richiesta POST `V1/products/special-price-delete` ora elimina solo il prezzo con un `store_id` specificato come previsto. In precedenza, la chiamata eliminava tutti i prezzi speciali per lo SKU specificato da tutti i negozi. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* È stato corretto un errore con l&#39;attributo `country_code` nella mutazione `createGiftRegistry`.

<!-- magento/partners-magento2ee#280 -->

* Sono stati risolti i problemi relativi all&#39;attributo `giftRegistryUid` della mutazione `updateGiftRegistryItems`.

<!-- magento/partners-magento2ee#280 -->

* È stato aggiunto un controllo aggiuntivo per impedire che la mutazione `updateGiftRegistryRegistrants` venga utilizzata per aggiungere persone casuali come registranti a un registro regali.

<!-- magento/magento2#31380 -->

* La mutazione `addConfigurableProductsToCart` ora restituisce la miniatura corretta del prodotto specificato. In precedenza, restituiva la miniatura del prodotto principale.

<!-- ENGCOM-8477-->

* La query `products` non espone più il prezzo speciale di un prodotto quando il periodo di prezzo speciale è impostato per una data futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* La risposta alla query `customer` ora include l&#39;attributo `total_giftcard` nell&#39;oggetto `OrderTotal`.

<!-- MC-41084 ENGCOM-9042 -->

* È stato corretto un problema a causa del quale la query `products` restituiva informazioni errate sui livelli di prezzo per gli articoli per i quali non era stato impostato un livello di prezzo. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Immagine

<!-- MC-38951-->

* È ora possibile impostare gli attributi del bundle required_options e has_options come previsto durante la creazione o l’aggiornamento di un prodotto bundle utilizzando l’endpoint POST `/V1/product/:sku`. In precedenza, questi attributi personalizzati venivano impostati su 0 (zero) nonostante gli sforzi per impostarlo su 1 (uno).

### Importa/esporta

<!-- MC-41576-->

* Il filtro ID categoria per le entità prodotto nella griglia Attributi entità della pagina Esporta ora funziona come previsto.

<!-- MC-41439-->

* Lo stato delle scorte dei prodotti raggruppati ora viene aggiornato in base al previsto quando tutti i prodotti secondari sono esauriti. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* Lo stato configurabile delle scorte di prodotto viene ora aggiornato automaticamente come previsto quando lo stato delle scorte di prodotto figlio viene aggiornato dall’importazione. In precedenza, lo stato delle scorte dei prodotti non veniva aggiornato automaticamente quando lo stato delle scorte dei prodotti secondari veniva aggiornato tramite l’importazione.

<!-- MC-41151-->

* Ora puoi salvare valori vuoti in un’esportazione pianificata. In precedenza, l’applicazione aggiornava i valori dei filtri vuoti dopo la creazione o il salvataggio dell’esportazione. I valori `no` e `not specified` erano entrambi rappresentati da zero nel database e un valore di `not selected` è stato sostituito con `no`.

<!-- MC-41092-->

* Il processo di esportazione ora tiene conto dell’ambito del ruolo utente durante l’esportazione di prodotti, origini di magazzino ed entità cliente. In precedenza, il processo di esportazione ignorava l’ambito del ruolo utente, che consentiva l’esportazione di entità di esportazione del ruolo utente privato.

<!-- MC-40943-->

* L&#39;applicazione ora imposta la classe fiscale del prodotto su `None` se viene importato un prodotto con `tax_class_name` valori `None` o `0`. In precedenza, se `product tax_class_name` era `None` nel file CSV, l&#39;applicazione creava una nuova classe fiscale `None`, che duplicava la classe fiscale esistente. Se `product tax_class_name` erano `0` nel file CSV, l&#39;applicazione ha ignorato tale valore e la classe fiscale del prodotto non è cambiata dopo l&#39;importazione.

<!-- MC-40898-->

* Gli amministratori possono ora modificare `name` di un prodotto bundle `bundle_values` dall&#39;amministratore. In precedenza, l’applicazione visualizzava il prodotto come esaurito sulla vetrina dopo aver modificato il nome da Amministratore. Anche i prodotti sono stati fusi con lo stesso SKU in un’unica sezione di bundle-option.

<!-- MC-40333-->

* L’applicazione ora tiene conto dell’ambito dell’utente durante l’esportazione dei dati dei clienti. In precedenza, quando si tentava di esportare i clienti, l’applicazione esportava i dati dei clienti da tutti i siti web.

<!-- MC-40305-->

* L&#39;applicazione ora rimuove le relazioni tra up-sell, cross-selling e prodotti correlati durante l&#39;importazione del file CSV come previsto quando `__EMPTY__VALUE__` è specificato nel file CSV.

<!-- MC-40012-->

* L&#39;esportazione di dati di indirizzi personalizzati per molti clienti (Amministratore **Sistema** > **Esporta**) non genera più un errore di memoria. In precedenza, durante l’esportazione dei dati degli indirizzi personalizzati, l’applicazione tentava di caricare tutti i dati del cliente, con conseguente esaurimento della memoria, e l’applicazione generava un errore di mancata allocazione della memoria.

<!-- MC-39977-->

* I prezzi dei livelli duplicati non vengono più importati durante il processo di importazione CSV predefinito. In precedenza, mancava la convalida per impedire l’importazione di prezzi di livello duplicati e, quando si verificavano prezzi di livello duplicati, gli esercenti non potevano salvare i prodotti. L&#39;errore è stato visualizzato anche dai commercianti che hanno tentato di pianificare una modifica del prodotto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Tutte le immagini del prodotto vengono ora convalidate durante l’importazione. In precedenza, l’applicazione convalidava solo la prima immagine quando un prodotto aveva più immagini. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* È ora possibile eliminare un’area da un indirizzo del cliente come previsto durante l’importazione. In precedenza, l’area assegnata non cambiava quando un indirizzo del cliente veniva importato con un’area vuota.

<!-- MC-38810-->

* I prodotti con contenuti JSON o HTML come attributi di prodotto aggiuntivi ora vengono esportati correttamente in un file CSV. In precedenza, il file CSV conteneva stringhe di dati sovrapposte in campi non corretti.

### Indice

<!-- MC-39718 ENGCOM-8567-->

* Process Manager ora viene chiuso con un errore quando un processo figlio non riesce. In precedenza, Process Manager veniva sempre chiuso correttamente se il numero di funzioni passate (ad esempio, dimensioni di indicizzazione) era inferiore al valore della variabile di ambiente `MAGE_INDEXER_THREADS_COUNT`. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* I prodotti sono ora disponibili come previsto nei risultati della ricerca nella vetrina quando si collegano prodotti utilizzando una richiesta REST PUT `/V1/products/:sku/links` quando la modalità indicizzatore è impostata su **Aggiorna al salvataggio**.

<!-- MC-38310 magento/magento2#32693-->

* L&#39;indicizzatore regola prezzo catalogo ora funziona come previsto quando la modalità indicizzatore è impostata su **Aggiorna al salvataggio**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* L’eliminazione di una categoria disabilitata che non include un prodotto ora non ha alcun effetto sulla ricerca nel catalogo e sulle tabelle di indici flat della categoria. In precedenza, l’eliminazione di una categoria inattiva attivava una reindicizzazione completa. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Gli indicizzatori personalizzati possono ora utilizzare nomi di colonne di entità diversi per le sottoscrizioni. In precedenza, il trigger del database utilizzava il nome della colonna dell&#39;ultimo indicizzatore impostato su **Aggiorna in base alla pianificazione** anziché l&#39;indicizzatore designato. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* L&#39;applicazione non invia più richieste AJAX per ricaricare le sezioni dei dati dei clienti (`Magento_Customer/js/section-config`) che non sono interessate dalla richiesta. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* I seguenti indicizzatori non verranno più invalidati dopo l&#39;aggiunta, la rimozione o il riordinamento dei prodotti in una categoria: `catalog_category_product` e `catalogsearch_fulltext` (e relativi dipendenti). In precedenza, queste rimozioni involontarie attivavano la reindicizzazione completa dei siti. In queste condizioni, la reindicizzazione completa non è consentita se il catalogo flat non è abilitato.

### Infrastruttura

<!-- MC-41445-->

* La dipendenza `pelago/emogrifier` è stata aggiornata dalla versione 3.1.0 alla 5.0.0. Questo aggiornamento ha determinato l&#39;introduzione di modifiche non compatibili con le versioni precedenti alla classe `Magento\Email\Model\Template\Filter`. Il codice modificato viene eseguito durante il rendering dei modelli e-mail. Vedi [riferimento BIC](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* È stato risolto un problema relativo a `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` che impediva il salvataggio di un nuovo prodotto.

<!-- MC-42199-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. Il modulo `Magento_Tinymce3Banner` e i test MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce.

<!-- MC-41497-->

* L&#39;applicazione non genera più un errore `Invalid header value detected` nel modulo Contattaci quando un acquirente immette un indirizzo email che contiene segni diacritici francesi (come &quot;é&quot;, &quot;è&quot;). L’applicazione ora converte le lettere UTF-8 nel nome utente in codifica ASCII. In precedenza, le lettere UTF-8 non venivano convertite in codifica ASCII nella sezione univoca dell’indirizzo e-mail.

<!-- MC-39947-->

* L&#39;applicazione non genera più un errore irreversibile PHP quando si aggiunge un plug-in a una classe padre. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Aggiornamento dei file README.md per i seguenti moduli: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` è stato aggiornato alla versione v6.0.3 per compatibilità con PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid` è stato aggiornato per compatibilità con PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` è stato aggiornato alla versione 1.4.4 per compatibilità con PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* È stata corretta una combinazione non valida di tabulazioni e spazi nel file `phpstan.neon`. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* È stato rimosso l&#39;utilizzo della proprietà obsoleta `$_isScopePrivate` in tutta la base di codice. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* I layout di pagina non sono più inseriti direttamente nel codice  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Di conseguenza, la funzione `getPageLayouts()` restituisce l&#39;elenco effettivo dei layout di pagina dichiarati dai diversi moduli come previsto. In precedenza, restituiva solo layout hardcoded. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* Il file `composer.lock` è stato aggiornato alla versione più recente di Coding Standard. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* Aggiunta di una dipendenza mancante dal pacchetto `web-token/jwt-framework` a `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Sono stati aggiunti listener passivi alla libreria `fotorama.js` per migliorare il punteggio delle metriche dei faro. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Il file README.md per il modulo Google Analytics è stato aggiornato. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Gestione processi ora gestisce correttamente le eccezioni nei processi con fork. Il processo principale ora termina e l&#39;applicazione visualizza un messaggio di errore una sola volta. Inoltre, le eccezioni dai processi fork vengono ora gestite quando vengono generate nel processo principale. In precedenza, l’applicazione registrava più errori di indicizzazione e visualizzava più messaggi di errore.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* L&#39;applicazione non genera più un errore quando un plug-in viene aggiunto a una classe padre. (Il parametro `optionsProvider` è ora dichiarato dopo `getContentIdentities` in `Assest.php`.) In precedenza, l&#39;applicazione aveva generato questo errore: `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* L&#39;esecuzione di `Magento\Framework\Filesystem\Io\Ftp::ls()` in una cartella vuota ora restituisce un array vuoto come previsto. In precedenza, l&#39;applicazione ha generato questa eccezione: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* Il metodo `update` sia per Role che per Rules è stato contrassegnato come obsoleto in `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* La concatenazione per i parametri dei cookie SameSite è stata corretta. In precedenza, la concatenazione non corretta aggiungeva il suffisso `lex` a `value`, `domain` e altri parametri. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` è stato aggiornato alla versione 1.3.1 in tutto il codice. In precedenza, l&#39;applicazione visualizzava questo errore: `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* L&#39;applicazione visualizza ora ulteriori errori informativi quando si verificano errori durante l&#39;esecuzione dei comandi `bin/magento` in modalità di produzione. In precedenza, nell’applicazione non venivano visualizzati messaggi di errore o venivano visualizzati messaggi privi di informazioni. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* L&#39;oggetto PHP `ArrayIterator` è stato aggiornato per funzionare come previsto con PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* L&#39;applicazione non genera più un errore quando un cliente tenta di completare un ordine quando non sono disponibili vettori di spedizione. Viene invece visualizzata la pagina di estrazione e il seguente messaggio: `Sorry, no quotes are available for this order at this time`. In precedenza, l&#39;applicazione visualizzava una pagina di pagamento vuota e registrava questo messaggio nel registro eccezioni: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* L’applicazione non registra più ogni cookie come contesto separato. Anche l&#39;array `$_COOKIE` è stato convertito in una stringa. In precedenza, poiché ogni cookie veniva registrato come contesto separato, quando il numero di cookie superava i 50, l&#39;applicazione registrava questo messaggio: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Fattura

<!-- ENGCOM-8472 -->

* Durante la creazione di nuove fatture nell&#39;amministratore, la casella di controllo **Copia e-mail di** ora funziona come previsto. In precedenza, la casella di controllo veniva ignorata se l&#39;impostazione globale per l&#39;invio di e-mail di fattura era abilitata in **E-mail vendite**. È ora coerente e funziona allo stesso modo delle pagine di creazione delle note di spedizione e di credito. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Raccolta file multimediali

<!-- MC-41728-->

* `bin/magento media-gallery:sync` ha ora esito negativo come previsto durante l&#39;elaborazione di immagini PNG prive di informazioni XMP.

<!-- ENGCOM-8814-->

* Le voci nella tabella `catalog_product_entity_media_gallery` vengono rimosse come previsto quando i prodotti correlati vengono eliminati. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* I dettagli delle immagini possono ora essere aggiornati in Media Gallery quando è abilitata la minimizzazione JavaScript. In precedenza, i dettagli immagine non venivano salvati e l&#39;applicazione visualizzava questo errore: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Le nuove funzionalità e le correzioni di bug di base di MFTF sono descritte nel [Registro dei test funzionali](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* I comandi `magento indexer:reindex` e `cache:flush` e il gruppo di azioni `AdminReindexAndFlushCache` sono stati rimossi dai test per migliorare l&#39;esecuzione dei seguenti moduli: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal` e `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` è stato aggiunto ai test per evitare errori di test. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* I test sono stati reimpostati con `StorefrontCheckQuickSearchStringActionGroup` e `StorefrontAssertProductNameOnProductMainPageActionGroup` (gruppi di azioni esistenti). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Test refactoring

Per migliorare i tempi di esecuzione, sono stati reimpostati i seguenti test:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest` (sostituzione per `AdminMassOrdersHoldOnPendingAndProcessingTest` obsoleto) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Gruppi di azioni

Le azioni ripetitive sono state sostituite da gruppi di azioni in questi test:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Nuovi gruppi di azioni

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup` (sostituisce il filtro della griglia prodotti con SKU e il clic sulla prima riga (per ridurre il tempo di esecuzione del test) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Gruppi di azioni eliminati

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Rimosso `CliIndexerReindexActionGroup` (o valore modificato) dai test per migliorare il tempo di esecuzione per i moduli `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Indexer`, `LayeredNavigation`, `LoginAsCustomer`, `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`, `Swatches`, `UrlRewrite`, `Weee` e `Wishlist`.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Rimosso `CliCacheFlushActionGroup` da `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee` e `Wishlist` moduli.

### Newsletter

<!-- ENGCOM-8948 MC-40885-->

* L’applicazione non invia più l’e-mail della newsletter a un cliente a cui è stato annullato l’abbonamento alla newsletter nel periodo di tempo compreso tra la creazione della coda di newsletter e l’invio della newsletter. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* L&#39;applicazione ora rispetta le impostazioni di abilitazione delle newsletter (**Archivi** > **Impostazioni** > **Configurazione** > **Clienti** > **Newsletter** > **Opzioni generali**). In precedenza, queste impostazioni venivano sempre recuperate dall’ambito predefinito nelle distribuzioni multi-store. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* GET La chiamata REST `/V1/customers/search` ora restituisce le informazioni corrette per i clienti abbonati a più newsletter. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* Lo stato di memorizzazione in cache dell’abbonamento è stato rimosso dal plug-in per le newsletter. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Ordine

<!-- MC-40963-->

* L&#39;applicazione ora calcola correttamente un saldo cliente fatturato quando restituisce il credito del negozio a un conto cliente per un ordine parzialmente fatturato.

<!-- ENGCOM-8710-->

* L&#39;applicazione ora salva un ordine modificato come previsto quando salva un saldo cliente rimborsato. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Metodi di pagamento

<!-- MC-41525-->

* L&#39;applicazione ora esegue il rendering dei blocchi di pagamento su `frontend` indipendentemente dall&#39;area da cui è stata inviata l&#39;e-mail. L&#39;area corrente viene ora emulata come `frontend` prima del rendering del blocco del pagamento. In precedenza, i blocchi di pagamento venivano visualizzati nell’area da cui veniva inviata l’e-mail. Di conseguenza, indipendentemente dal fatto che l&#39;e-mail di vendita sia stata attivata dall&#39;amministratore o dall&#39;API REST, gli URL delle risorse hanno tentato di caricarle dall&#39;area errata (`webapi_rest` o `adminhtml`).

<!-- MC-40810-->

* L’applicazione ora invia il collegamento di un prodotto scaricabile all’indirizzo e-mail specificato durante il pagamento. In precedenza, quando un acquirente ospite utilizzava PayPal Express Checkout e inseriva diversi indirizzi e-mail per inviare l’ordine e ritirare, l’applicazione inviava il link del prodotto scaricabile al primo indirizzo.

<!-- MC-38051-->

* L&#39;applicazione visualizza ora un valore preciso per il credito del negozio disponibile nella pagina Metodo di pagamento nelle distribuzioni che supportano più valute.

<!-- MC-37820-->

* L&#39;elenco dei metodi di pagamento viene ora aggiornato come previsto quando un acquirente ospite cambia l&#39;indirizzo di spedizione di un ordine in un altro paese durante il pagamento. In precedenza, la modifica dell’indirizzo di fatturazione non attivava un aggiornamento dei possibili metodi di pagamento.

#### PayPal

<!-- MC-39895-->

* Gli acquirenti possono ora effettuare il check-out di un ordine PayPal Payflow Pro con un indirizzo di spedizione che contiene caratteri speciali. In precedenza, l&#39;applicazione rifiutava il pagamento per questi ordini.

<!-- MC-39861-->

* Gli acquirenti vengono ora reindirizzati alla pagina di successo dell&#39;ordine dopo un pagamento eseguito con successo tramite PayPal. In precedenza, gli acquirenti venivano reindirizzati a una pagina vuota perché i dati della sessione andavano persi.

### Prestazioni

<!-- MC-41647-->

* Sono state migliorate le prestazioni della ricerca SKU di amministrazione in cataloghi di grandi dimensioni. Gli hint di Query Optimizer ora forzano l’utilizzo dell’indice durante l’esecuzione della query.

<!-- MC-41440-->

* Sono state migliorate le prestazioni del processo cron `catalog_product_alert` durante l&#39;esecuzione su tabelle di grandi dimensioni (diverse milioni di righe). In precedenza, `catalog_product_alert` caricava tutti gli avvisi sui prodotti, causando un&#39;eccezione di memoria insufficiente.

<!-- ENGCOM-8752-->

* L’applicazione non carica più tutte le pagine CMS quando è necessaria una sola pagina di modifica per eseguire il rendering di un modulo amministratore.  Queste pagine ora vengono caricate più rapidamente. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* I valori numerici nelle espressioni `WHERE IN` vengono ora inseriti come numero, non come stringa, il che migliora le prestazioni delle query in alcune versioni di MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* La modalità `use_application_lock` consente di abilitare la reindicizzazione utilizzando variabili di ambiente o configurando il file `app/etc/env.php`. Non è più necessario reimpostare manualmente l’indicizzatore dopo un errore con questa modalità abilitata. Se questa modalità non è abilitata, è necessario reimpostare manualmente l&#39;indicizzatore dopo un errore. Vedere [Utilizzo della modalità blocco applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Prezzi

<!-- MC-41767-->

* L’applicazione ora aggiorna correttamente il prezzo di un prodotto con prezzi raggruppati quando un acquirente aggiorna la quantità di prodotto sul vetrina. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* È ora possibile salvare i prodotti del bundle quando ai prodotti è stato assegnato un prezzo di livello e `Magento\Framework\Api\ExtensibleDataObjectConverter` viene utilizzato per convertire i dati del prodotto. In precedenza, quando `Magento\Framework\Api\ExtensibleDataObjectConverter` veniva utilizzato per convertire i dati di prodotto in un array quando un prodotto veniva salvato, l&#39;applicazione non salvava il prodotto e visualizzava questo errore: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* Gli aggiornamenti dei prezzi pianificati vengono ora applicati ai prodotti già presenti nel carrello. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* Il prezzo di livello ora viene applicato a un prodotto come previsto quando gli incrementi di quantità sono abilitati e le scorte decimali sono inferiori a 1. In precedenza, la quantità minima del prezzo del livello era impostata su 1.

### Video del prodotto

<!-- MC-39755-->

* Ora puoi utilizzare il pulsante **Aggiungi video** (Amministratore **Catalogo** > **Prodotti**) per aggiungere consecutivamente diversi video. In precedenza, i campi video contenevano i dettagli del video precedente.

<!-- MC-40817-->

* L’accesso alla modalità a tutto schermo per un video di prodotto su una pagina di prodotto ora funziona come previsto sui dispositivi mobili. In precedenza, l’accesso alla modalità a schermo intero causava una pausa del video prima dell’uscita dalla modalità a schermo intero.

<!-- MC-39759-->

* I pulsanti della freccia di navigazione (**Avanti** e **Prec**) ora sono visibili come previsto nei video dei prodotti della vetrina.

<!-- MC-40463-->

* Gli esercenti possono ora aggiungere video Vimeo utilizzando il pulsante **Inserisci video** nella pagina del prodotto come previsto. In precedenza, l’applicazione mostrava un errore 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Citazione

<!-- MC-39531-->

* La chiamata `/V1/guest-carts/examplecartid/items` ora restituisce la visualizzazione archivio richiesta. In precedenza, restituiva la prima visualizzazione dello store nello store, non quella richiesta.

<!-- MC-33893 ENGCOM-8992-->

* L&#39;invio delle fatture è ora configurabile. In precedenza, l&#39;invio delle fatture non era configurabile e l&#39;applicazione inviava sempre una fattura dopo la sua creazione. Le e-mail di ordini e fatture venivano inviate nell’ambito di un osservatore. Osservatori separati ora governano l&#39;invio di e-mail di ordine e di fattura. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Rapporti

<!-- MC-39737-->

* La data dell&#39;ultima revisione in Admin **Reports** > **Reviews** > **By Products** visualizza ora la data di revisione corretta. In precedenza, l’applicazione visualizzava la data di creazione del prodotto invece della data di revisione.

### Recensioni

<!-- MC-40116-->

* Le stelle di valutazione del prodotto ora vengono calcolate correttamente nella sezione Dettagli revisione della pagina Il mio account.

<!-- MC-39763-->

* Le sezioni Valutazione media del prodotto e Valutazioni del prodotto della pagina dei dettagli di revisione del prodotto ora vengono riprodotte correttamente. In precedenza, l’ID di revisione non veniva impostato quando l’applicazione calcolava la valutazione della vetrina e il modello di revisione del prodotto non veniva renderizzato correttamente.

<!-- MC-36149-->

* Il collegamento **Rivedi per primo questo prodotto** ora cambia come previsto in un conteggio di revisioni dopo che un amministratore ha approvato una revisione.

<!-- ENGCOM-8501 MC-30270-->

* Ora gli amministratori possono ordinare le revisioni dei prodotti nella sezione Revisioni dei prodotti della pagina di modifica dei prodotti come previsto. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* Le recensioni vengono ora salvate con l&#39;ID archivio corretto dopo che un amministratore approva e salva la revisione da un dominio diverso rispetto all&#39;archivio. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Premi

<!-- MC-39820-->

* L&#39;applicazione aggiorna ora l&#39;elenco dei metodi di pagamento quando un acquirente estrae con più indirizzi controlla o deseleziona l&#39;opzione **Credito store (Punti premio)**.

### Vendite

<!-- MC-39796-->

* Gli utenti amministratori ora possono effettuare ordini per articoli esauriti quando l&#39;impostazione **Ordini inevasi consentiti** è abilitata (**Archivi** > **Configurazione** > **Catalogo** > **Inventario** > **Opzioni Stock Di Prodotto**). In precedenza, l’applicazione generava un errore.

<!-- MC-42280-->

* Ora gli acquirenti possono trovare un ordine nella pagina Ordini e restituzioni quando il cognome termina con uno spazio vuoto.

<!-- MC-41438-->

* Le fatture vengono ora create con il totale complessivo corretto quando una regola di prezzo del carrello che assegna uno sconto del 100% viene applicata a un ordine che è anche soggetto alle imposte sui prodotti del catalogo e allo sconto e che è idoneo per la spedizione gratuita. In precedenza, l’ordine aveva il prezzo corretto, ma la fattura non lo aveva. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Il filtraggio degli ordini per data ora restituisce risultati precisi. In precedenza, l’applicazione non restituiva un ordine effettuato dopo le 00:00 UTC quando si filtravano gli ordini per data.

<!-- MC-40030-->

* La griglia della nota di accredito visualizza ora il simbolo di valuta corretto quando viene utilizzato l&#39;ambito **Sito Web** per un attributo **Prezzo** in una distribuzione multi-store.

<!-- MC-40013-->

* I pulsanti di scelta Metodi di pagamento non scompaiono più nella sezione Informazioni su pagamento e spedizione del flusso di lavoro di pagamento dopo il ricaricamento della pagina Crea nuovo ordine dell&#39;amministratore. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* Il testo in arabo viene ora visualizzato correttamente nelle fatture.

<!-- MC-39864-->

* L&#39;applicazione ora calcola correttamente i totali parziali delle imposte della nota di accredito per le note di accredito basate su un ordine o su una fattura in negozi che distribuiscono PayPal Payment Pro come gateway di pagamento. In precedenza, per gli ordini con più fatture, l&#39;applicazione applicava l&#39;intera imposta di tale ordine per l&#39;annullamento parziale della fattura nella nota di accredito.

<!-- MC-39521 ENGCOM-8528-->

* L’applicazione non crea più deadlock casuali del database durante l’invio di e-mail di nuovi ordini ai clienti. In precedenza, si verificavano deadlock perché l&#39;applicazione salvava l&#39;intero oggetto e gli oggetti correlati anziché le colonne SQL aggiornate. Tipo di errore visualizzato dall&#39;applicazione: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* Nella pagina dei dettagli dell&#39;ordine di storefront viene ora visualizzata la quantità di prodotto spedita corretta. In precedenza, le quantità dei prodotti non erano corrette perché il modello per la pagina Spedizione ordine restituiva **Qtà spedita** come `int`. Questo è stato modificato in `float`.

<!-- MC-39026-->

* L&#39;applicazione non invia più e-mail alle copie di una fattura dell&#39;ordine quando il pulsante **Copia e-mail della fattura** non è selezionato. In precedenza, l&#39;applicazione inviava un&#39;e-mail a **Cliente** e **Invia copia e-mail fattura a**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* L&#39;applicazione non crea più voci di indirizzo duplicate per un account cliente durante la creazione di un nuovo ordine dall&#39;amministratore per un cliente esistente. La casella di controllo **Salva nella Rubrica** è stata rinominata in **Aggiungi alla Rubrica** ed è deselezionata per impostazione predefinita in Amministrazione.

<!-- MC-38834-->

* L&#39;applicazione ora utilizza il logo caricato nelle impostazioni **Logo per la visualizzazione Stampa di HTML** quando gli acquirenti stampano un ordine dal proprio account. In precedenza, l’applicazione visualizzava il logo LUMA invece del logo caricato.

<!-- MC-38625-->

* Il cercapersone degli articoli in vetrina ora funziona come previsto quando il numero di articoli supera i 20. In precedenza, il cercapersone prendeva in considerazione i prodotti secondari e il conteggio totale non era corretto.

<!-- MC-23915 ENGCOM-8713-->

* L&#39;applicazione visualizza ora i simboli di valuta corretti per i subtotali e i valori di spedizione e gestione nelle griglie delle pagine Ordine e Nota di credito. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Ora gli amministratori che utilizzano Safari possono aggiungere correttamente un prodotto a un ordine dell’amministratore. In precedenza, quando l&#39;amministratore faceva clic sul pulsante **Aggiungi prodotti selezionati all&#39;ordine**, l&#39;applicazione visualizzava l&#39;icona di caricamento che ruota e la pagina era bloccata.

### Regola di vendita

<!-- MC-40671-->

* L&#39;applicazione ora applica le regole del prezzo del carrello con **Sconto Qtà massimo applicato a** o **Fase Qtà sconto (Acquista X)** condizioni correttamente quando più regole del prezzo del carrello vengono applicate al carrello. In precedenza, se una regola di prezzo del carrello con **Sconto qtà massimo viene applicata a** o **Passaggio qtà sconto (Acquista X)** dopo che un&#39;altra regola di prezzo del carrello è stata applicata, lo sconto totale è stato ridotto al valore configurato per **Sconto qtà massimo applicato a** o **Passaggio qtà sconto (Acquista X)** volte il prezzo del prodotto.

<!-- MC-39827-->

* Il rapporto Coupon ora riflette accuratamente l’attività del coupon nelle distribuzioni in cui viene implementato un database suddiviso.

<!-- MC-39477-->

* Le regole di prezzo del carrello che contengono la condizione Categoria **IS NOT** vengono ora applicate come previsto ai prodotti secondari/semplici configurabili che non sono assegnati a una categoria ma ai cui prodotti principali sono assegnati.

<!-- MC-39034-->

* La query GraphQL `cart` ora restituisce il totale complessivo corretto per il passaggio di fatturazione di un carrello quando viene applicato un coupon all&#39;ordine.

### Ricerca {#search-heading}

<!-- MC-41138-->

* La pagina delle categorie non contiene più gli ID duplicati degli elementi HTML: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* I risultati della ricerca parziale per parola non includono più corrispondenze impreviste o irrilevanti e le ricerche producono risultati coerenti sia nella vetrina che nell’amministratore. L’applicazione ora utilizza un analizzatore diverso senza uno stemmer per le ricerche parziali di parole. In precedenza, i risultati della ricerca mostravano prodotti che non includevano parole chiave di ricerca. (L’analizzatore predefinito includeva in precedenza uno stemmer e, poiché lo stesso analizzatore veniva utilizzato al momento della ricerca parziale di parole, il risultato della ricerca poteva produrre corrispondenze impreviste o irrilevanti).

<!-- MC-40715-->

* La ricerca rapida ora restituisce i risultati se la query di ricerca contiene più parole e il nome del prodotto è configurato come non ricercabile. In precedenza, se il nome del prodotto era configurato come non ricercabile, l’applicazione generava un’eccezione di query sulle query di ricerca con più parole.

<!-- MC-40672-->

* I risultati della ricerca ora includono l&#39;attributo `weight` come previsto quando è configurato come ricercabile.

<!-- MC-40409-->

* L’applicazione non genera più un errore quando si visualizza una pagina categoria vuota con l’Elasticsearch abilitato. Viene invece eseguito il rendering della pagina come previsto e viene visualizzato un messaggio informativo. In precedenza, un indice full-text vuoto attivava un’eccezione in una pagina categoria.

<!-- MC-40376-->

* La funzione di completamento automatico dei campi di ricerca ora funziona come previsto se un acquirente fa clic all’esterno del campo di ricerca dopo aver iniziato la ricerca. I suggerimenti di completamento automatico vengono ora visualizzati nuovamente quando l&#39;acquirente riprende a digitare. In precedenza, l’applicazione non visualizzava suggerimenti di completamento automatico e facendo clic nella casella di ricerca i suggerimenti di ricerca non venivano più visualizzati (anche se digitando lettere aggiuntive).

<!-- MC-34217-->

* La ricerca di un prodotto in base al relativo SKU completo o parziale in Ricerca avanzata ora restituisce il prodotto previsto.

<!-- MC-31395-->

* I filtri di navigazione a livelli ora visualizzano conteggi accurati dei prodotti. In precedenza, i valori del conteggio dei prodotti di Elasticsearch non venivano filtrati dalle autorizzazioni del catalogo.

<!-- MC-23881 ENGCOM-8618-->

* L’Elasticsearch non genera più un errore quando il parametro di pagina dell’URL della categoria supera l’impaginazione. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* È ora possibile aggiungere un mapper di campo di Elasticsearch personalizzato a `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`.

<!-- ENGCOM-9029 MC-24026-->

* Ora gli sviluppatori possono modificare le mappature Elasticsearch. In precedenza, i modelli dinamici inviati al server Elasticsearch nelle mappature predefinite erano hardcoded, impedendo agli sviluppatori di indicizzare in Elasticsearch eventuali dati aggiuntivi associati a un modulo personalizzato.

<!-- ENGCOM-8464 -->

* I campi di ricerca (ricerca minisearch modulo) ora funzionano come previsto quando i suggerimenti di ricerca sono disabilitati.

### Spedizione

<!-- MC-41464-->

* L’applicazione ora aggiorna il prezzo di spedizione come previsto quando un acquirente torna alla pagina del carrello dopo aver eliminato un prodotto durante il pagamento con più indirizzi.

<!-- MC-41343-->

* L&#39;applicazione visualizza ora il prezzo di spedizione corretto quando alcuni articoli nel carrello sono idonei per la spedizione gratuita. In precedenza, quando un sottoinsieme di articoli nel carrello soddisfaceva le condizioni per la spedizione gratuita, l’applicazione non regolava il prezzo di spedizione e mostrava il prezzo di spedizione completo all’acquirente.

<!-- MC-41186-->

* Gli utenti amministratori che sono limitati a un sito web specifico ora possono creare una spedizione per un ordine effettuato sullo stesso sito web. In precedenza, l&#39;applicazione ha generato questa eccezione quando un utente amministratore che non disponeva dell&#39;autorizzazione per la visualizzazione predefinita dello store ha tentato di inviare un ordine inserito in una visualizzazione dello store a cui l&#39;utente amministratore aveva accesso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* L&#39;applicazione ora prende in considerazione gli sconti pertinenti regola di prezzo del carrello quando si stabilisce se un ordine soddisfa le condizioni per spedizione gratuita DHL.

<!-- MC-40702-->

* Le etichette di spedizione ora utilizzano la valuta di base prevista invece della valuta dell&#39;ordine per i negozi che supportano più valute quando un ordine viene inserito in una valuta non di base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678-->

* L’applicazione ora visualizza il subtotale dell’ordine corretto quando un acquirente ritorna alla pagina del carrello durante il pagamento dopo essere uscito dalla pagina di spedizione multipla. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* La modifica delle informazioni di fatturazione durante la creazione dell&#39;ordine amministratore non modifica più le informazioni di spedizione per i clienti con indirizzi di spedizione e fatturazione predefiniti diversi. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* L&#39;applicazione non deseleziona più la casella di controllo **Aggiungi commenti** quando un acquirente fa clic su **Ottieni metodi e tariffe di spedizione** e seleziona un metodo di spedizione durante la creazione di un ordine dall&#39;amministratore.

<!-- MC-36425-->

* Gli acquirenti possono ora utilizzare il pulsante Indietro del browser per tornare alla pagina Seleziona metodo di spedizione durante il check-out di un ordine con più indirizzi. In precedenza, nell&#39;applicazione veniva visualizzata la pagina Seleziona metodo di spedizione danneggiata. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* La quantità di prodotto ora rimane invariata come previsto dopo che un acquirente ha modificato la quantità nella pagina Spedisci a più indirizzi e ha fatto clic sul pulsante Indietro del browser.

<!-- ENGCOM-9096-->

* Le spese del metodo di spedizione a tariffa fissa non diventano più pari a zero quando viene applicata una regola del prezzo del carrello durante il pagamento. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* L&#39;applicazione non genera più un errore quando un commerciante tenta di spedire un ordine utilizzando DHL quando la casella di controllo **Crea etichetta di spedizione** è abilitata e il nome del prodotto contiene caratteri Unicode. In precedenza, l&#39;applicazione visualizzava questo errore durante la richiesta di creazione dell&#39;etichetta: `The response is in wrong format`.

<!-- ENGCOM-8952 -->

* È possibile effettuare un ordine dall&#39;amministratore in una distribuzione multisito in cui `United States` è abilitato su un sito Web e `Disable all countries` è abilitato come ambito predefinito sull&#39;altro sito Web. In precedenza, l&#39;ordine non veniva eseguito e veniva visualizzato l&#39;errore: `Please check the shipping address information. "regionId" is required. Enter and try again`.

### Archivia

<!-- MC-40538-->

* L&#39;applicazione non tratta più una stringa di `0` come valore vuoto durante la visualizzazione di una home page dello store. In precedenza, l’applicazione considerava un valore intero all’inizio di un percorso di richiesta come un ID store, con effetti indesiderati sulla SEO.

<!-- MC-40313-->

* I plug-in per `\Magento\Framework\App\ActionInterface` in `lib/internal/Magento/Framework/App/Action/Plugin` sono stati rimossi per rispettare la regola che i plug-in devono essere utilizzati per personalizzare il comportamento di un modulo da un altro modulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* L&#39;applicazione visualizza ora questo messaggio quando si tenta di selezionare `Website` come impostazione predefinita quando `Store View` è disabilitato durante la creazione del sito Web: `Please enable your Store View before using this Web Site as Default`. In precedenza, il sito web si bloccava e l’applicazione non visualizzava un avviso.

### Imposta

<!-- MC-39571-->

* L&#39;applicazione ora prende in considerazione l&#39;imposta nascosta durante la convalida dell&#39;importo minimo dell&#39;ordine.

<!-- MC-38025 ENGCOM-8612-->

* L’applicazione ora visualizza le imposte fisse sui prodotti (FPT, Fixed Product Taxes) come previsto quando un acquirente torna al carrello e procede al pagamento dopo l’aggiunta dei bundle di prodotti al carrello. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* L&#39;applicazione ora precompila i campi di input **Partita IVA** per gli indirizzi di fatturazione e spedizione della sezione Informazioni indirizzo della pagina Nuovo ordine amministratore con numeri IVA salvati quando un amministratore crea un ordine per un cliente esistente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* L&#39;applicazione visualizza ora il campo **Partita IVA** nella pagina di registrazione del cliente quando `customer/create_account/vat_frontend_visibility` è abilitato.

### Test

<!-- MC-41393-->

* Gli ambienti di test sono stati aggiornati a Redis 6.0.12.

<!-- ENGCOM-8529-->

* Rimosso `CacheCleaner::cleanAll();` dai test di integrazione.

<!-- ENGCOM-8898-->

* È stato aggiunto un test per questo scenario: gli utenti amministratori possono modificare un account cliente quando il cliente è abbonato a una newsletter in coda.

<!-- ENGCOM-8484-->

* Il comando `cache:flush` è stato rimosso dai test per migliorare il tempo di esecuzione per i moduli `Catalog`, `CatalogUrlRewrite` e `LoginAsCustomer`.

<!-- ENGCOM-8499-->

* I parametri ridondanti sono stati rimossi e POST è stato modificato in GET dove necessario in `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* La pagina di accesso del cliente non visualizza più questo messaggio quando l&#39;impostazione **Sposta codice JS nella parte inferiore della pagina** (**Archivia** > **Configurazioni** > **Avanza** > **Sviluppatore** > **Impostazioni JavaScript**) e i cookie sono entrambi abilitati: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* I collegamenti dell’account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti degli account nelle intestazioni contenevano ID duplicati, che impedivano la convalida WCAG.

<!-- MC-40278-->

* L&#39;applicazione ora assegna priorità alla configurazione dello store per un&#39;immagine del logo dello store rispetto alla configurazione del layout. In precedenza, le dimensioni delle immagini del logo venivano corrette e non variavano in base al negozio.

<!-- MC-35227-->

* L’applicazione ora visualizza gli elementi di pagina in modo coerente sulle pagine di vetrina che utilizzano temi di Magento Open Source standard. In precedenza, non tutti gli stili venivano applicati al tema vuoto, pertanto non tutti gli elementi di pagina venivano visualizzati nelle pagine che utilizzavano questo tema. Nel campo di ricerca della pagina Ordini personali, ad esempio, non era presente alcuna icona di ingrandimento.

### Traduzione e lingue

<!-- MC-23553-->

* Le parentesi che vengono aggiunte alle stringhe non hanno più l’escape quando viene configurata la traduzione in linea. In precedenza, il metodo `escapeHtmlAttr` convertiva le parentesi in codici di entità HTML.

<!-- ENGCOM-8694-->

* Le frasi non traducibili nell’Amministratore ora sono traducibili. Questa richiesta di pull contribuisce agli sforzi continui per rendere localizzabili tutte le stringhe amministratore. [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Le stringhe di testo nel modello utilizzate per gestire i metodi di pagamento archiviati (**Account personale** > **Metodi di pagamento archiviati** ) sono ora traducibili.

<!-- MC-30798 ENGCOM-8717-->

* Le e-mail di ordine inviate dall’amministratore ora utilizzano le impostazioni locali dell’archivio e non le impostazioni locali associate all’account dell’amministratore.

### UI

<!-- MC-41784-->

* Nel piè di pagina Amministratore viene ora visualizzata la versione corretta del prodotto.

<!-- MC-41067-->

* L’impaginazione per le origini è ora presente come previsto durante la creazione della spedizione da parte dell’amministratore.

<!-- MC-40240-->

* Il filtro della griglia prodotti ora funziona correttamente quando si utilizzano attributi di data personalizzati per filtrare i prodotti e le impostazioni locali dell&#39;utente amministratore sono `en_GB`.

<!-- MC-39279-->

* I gesti di zoom e pizzicamento ora funzionano come previsto nella lente di ingrandimento della galleria di immagini della pagina del prodotto sui dispositivi iOS.

<!-- MC-38787-->

* L’impaginazione dei risultati della ricerca nella griglia dei prodotti Admin ora inizia dalla pagina 1 per ogni ricerca come previsto.

<!-- MC-38423-->

* Sono state risolte le anomalie con la visualizzazione del carrello quando è ingrandito. In precedenza, gli elementi di visualizzazione si sovrapponevano quando la pagina veniva ingrandita.

<!-- MC-38226-->

* La pagina di revisione dell&#39;ordine visualizzata durante il pagamento con PayPal Express Checkout ora viene caricata correttamente. In precedenza, il modello conteneva il pulsante **Aggiorna metodo di consegna** non utilizzato, nascosto solo parzialmente dallo script durante il rendering della pagina.

<!-- MC-37941-->

* Le stelle di valutazione e il testo di revisione nella sezione Customer Reviews della pagina del prodotto ora sono distanziati correttamente quando sono presenti nomi di valutazione lunghi.

<!-- MC-37688-->

* Le opzioni vengono ora visualizzate come previsto nell&#39;elenco a discesa Azioni nelle pagine Archivia fatture, Spedizioni e Note di credito.

<!-- MC-23729  magento/magento2#31549-->

* L&#39;applicazione visualizza ora un valore di ora corretto quando l&#39;opzione `timeOnly` del componente `datetime` è impostata su **yes**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* È ora possibile rimuovere un aggiornamento del layout dopo aver creato un nuovo widget in Admin **Content** > **Widgets**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* Il pulsante **Rimuovi aggiornamento layout** ora funziona come previsto su qualsiasi layout aggiunto dall&#39;amministratore **Contenuto** > **Widget**. In precedenza, questo pulsante non funzionava con layout diversi dal primo selezionato quando si aggiungevano più layout. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* L&#39;applicazione ora utilizza il titolo della pagina impostato nel file di layout come titolo della pagina del browser per il file di modifica dell&#39;account del cliente. In precedenza, l&#39;azione del controller `Magento\Customer\Controller\Account\Edit` imponeva il valore del titolo della pagina a `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* Sono state aggiunte alle pagine le caselle di controllo che consentono ai commercianti di alternare tra la visualizzazione e la visualizzazione delle password:
   * Accesso cliente
   * Registrazione cliente
   * Modifica del cliente (sezione Modifica password)
   * Nuova password impostata dal cliente [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* È stata rimossa un’intestazione ridondante nelle celle della griglia visualizzata quando un amministratore aggiungeva un prodotto a un set di prodotti raggruppati dopo aver modificato il set di attributi. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* L&#39;applicazione visualizza ora un filtro `DateRange` nell&#39;area Accesso eseguito della pagina **Cliente** > **Accesso**. In precedenza, l&#39;applicazione visualizzava un filtro `Text`. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* JavaScript è stato rimosso dai file modello e spostato in file separati per ridurre i problemi di rendering sulle pagine di amministrazione. In precedenza, il rendering delle pagine di amministrazione non veniva eseguito correttamente nelle distribuzioni in cui era stata abilitata la minimizzazione di HTML. L&#39;applicazione ha visualizzato questo errore: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* Il widget `dropdownDialog` ora carica solo i blocchi `jquery-ui` trascinabili e ridimensionabili necessari. In precedenza, caricava grandi quantità di codice non necessario, il che aumentava il tempo di caricamento e riduceva le prestazioni. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Riscritture URL

<!-- MC-41550-->

* Le riscritture dell’URL del prodotto per un sito web specifico in una distribuzione multisito ora vengono generate come previsto dopo l’assegnazione dei prodotti a un sito web tramite aggiornamento in blocco.

<!-- MC-40780 magento/magento2#32598-->

* L&#39;applicazione ora genera correttamente il percorso URL per le categorie figlio quando la casella di controllo **Usa valore predefinito** per la chiave URL è abilitata per la categoria padre. In precedenza, lo spostamento di una categoria nella gerarchia causava un valore `url_path` errato quando si utilizzavano chiavi URL diverse in una distribuzione di visualizzazione multi-store. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* L&#39;applicazione aggiorna ora `url_path` della categoria assegnata a tutto l&#39;ambito dell&#39;archivio quando si sposta una categoria nella gerarchia delle categorie. In precedenza, lo spostamento di una categoria nella gerarchia causava un errore di `url_path`.

<!-- MC-39463-->

* I reindirizzamenti URL creati dall’amministratore utilizzando un URL personalizzato ora funzionano correttamente. In precedenza, GraphQL memorizzava nella cache la risposta di una query GraphQL `urlResolver` e restituiva il valore precedente dopo l&#39;aggiornamento di riscrittura dell&#39;URL.

<!-- MC-38931  magento/magento2#31106-->

* Le riscritture dell’URL del prodotto vengono ora rimosse come previsto quando un prodotto viene rimosso da un sito web. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* È stato aggiunto un riferimento `main_table` a `store_id` nella funzione `addStoreFilter` della raccolta `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php`. In precedenza, si verificavano problemi ogni volta che un `join` veniva aggiunto alla raccolta su una tabella che conteneva anche una colonna `store_id`. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* L&#39;endpoint REST `PUT /V1/products/:sku` rigenera ora l&#39;URL del prodotto come previsto. In precedenza, l&#39;endpoint rigenerava i valori del prodotto `url_key` ma non riscrive l&#39;URL. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Utente

<!-- MC-40777-->

* Ora puoi salvare un nuovo ruolo utente effettivo (Amministratore **Sistema** > **Autorizzazioni** > **Ruoli utente**) con l&#39;intera struttura `Catalog` selezionata, escludendo `Edit Product Design` ( **Catalogo** > **Inventario** > **Prodotti** > **Modifica progettazione prodotto**). In precedenza, l&#39;applicazione non salvava le modifiche apportate da un utente con questo ruolo e visualizzava questo errore: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* L’applicazione ora utilizza il modello e-mail personalizzato corretto durante la generazione dei messaggi e-mail per i nuovi utenti amministratori. In precedenza, l’applicazione utilizzava il vecchio modello predefinito, in cui venivano omessi il nome e il cognome dell’amministratore.

<!-- MC-38122-->

* L’applicazione ora utilizza il modello e-mail corretto per l’invio di e-mail a nuovi utenti. In precedenza, l’applicazione utilizzava il modello predefinito anche quando era selezionato un modello personalizzato.

### VersionCMS

<!-- MC-39953-->

* L’applicazione ora applica il tema corretto a una pagina CMS dopo averne modificato il layout. In precedenza, l’applicazione cambiava il tema assegnato in Luma dopo aver salvato le modifiche al layout, indipendentemente dal tema assegnato alla pagina.

### Video

<!-- MC-42059 ENGCOM-9039-->

* I video sono ora disponibili nella galleria di prodotti come previsto quando viene abilitato e utilizzato il bundling avanzato di JavaScript. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* I video di YouTube per i prodotti semplici che appartengono a un prodotto configurabile ora funzionano come previsto. In precedenza, le immagini venivano ordinate per ID anziché per posizione. Di conseguenza, alcuni video sono stati trattati come immagini. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Framework API web

<!-- MC-41758-->

* L’API Catalogo ora aggiorna correttamente i valori delle opzioni personalizzate di un prodotto aggiungendo nuovi valori e rimuovendo quelli precedenti. In precedenza, l’API non eliminava i vecchi valori.

<!-- MC-34431-->

* Il POST `/V1/guest-carts/:cartId/billing-address` ora restituisce l&#39;ID indirizzo come numero intero, non come stringa.

### Widget

<!-- MC-39128-->

* Ora un amministratore può eliminare tutti gli aggiornamenti del layout di un widget. In precedenza, quando un widget disponeva di più aggiornamenti del layout, un amministratore poteva eliminare solo il primo.

<!-- MC-39107-->

* Facendo clic sul pulsante **Aggiungi al carrello** nel widget del prodotto, non viene più caricata una pagina. In precedenza, facendo clic sul pulsante **Aggiungi al carrello** in un widget di prodotto, veniva ricaricata una pagina corrente prima che il prodotto venisse aggiunto al carrello.

### Lista dei desideri

<!-- MC-40651-->

* L&#39;applicazione non ripristina più le impostazioni di configurazione di un prodotto configurabile quando si fa clic sul pulsante **Modifica elemento** per il prodotto da un elenco di desideri. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* L’applicazione ora visualizza il prezzo corretto del prodotto quando aggiorni un prodotto con un’opzione di file personalizzabile nella lista dei desideri. In precedenza, l’applicazione visualizzava il prezzo del prodotto errato e non mostrava un collegamento al file caricato.

<!-- MC-39060-->

* Il numero totale di prodotti in una lista desideri per un cliente con più liste desideri ora corrisponde al numero di elementi nella lista desideri. In precedenza, i prodotti esauriti venivano inclusi nel conteggio totale dei prodotti.

<!-- MC-36779 magento/magento2#31110-->

* L&#39;applicazione ora rimuove un prodotto da una lista dei desideri dopo averlo aggiunto a un ordine. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Gli acquirenti possono ora aggiungere i prodotti correlati al carrello da una lista dei desideri. In precedenza, quando un acquirente faceva clic sul collegamento **Seleziona tutto** della sezione Prodotti correlati, l&#39;applicazione aggiungeva solo il prodotto configurabile, non il prodotto configurabile e i prodotti correlati. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemi noti

**Problema**: _Errore JavaScript quando reCAPTCHA è disabilitato_. Se reCAPTCHA è disabilitato per l&#39;estrazione, l&#39;estrazione procede, ma l&#39;applicazione visualizza un errore `Uncaught TypeError` nel registro della console.  Questo problema verrà risolto in una versione successiva. <!-- MC-42589 42649-->

**Problema**: _Errore criteri di sicurezza dei contenuti_. La vetrina visualizza il seguente errore nel registro della console: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. Le prestazioni della vetrina non sono influenzate. <!-- MC-42613-->

**Problema**: _Anomalie nella visualizzazione di PayPal Credit degli importi delle gift card_. Quando PayPal Credit è abilitato e sono configurati più importi di gift card, se un acquirente modifica l&#39;importo per il valore di una gift card, la vetrina non aggiorna l&#39;importo per i pagamenti rateali. Il problema verrà corretto in Adobe Commerce 2.4.4 e Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Problema**: _Il pulsante **Aggiungi all&#39;ordine**non funziona per i prodotti aggiunti al carrello da SKU_.  l&#39;applicazione visualizza questo messaggio di errore quando si fa clic sul pulsante **Aggiungi all&#39;ordine** dopo aver aggiunto i prodotti all&#39;ordine tramite SKU: `An error has happened during application run`. I prodotti non vengono aggiunti al carrello. **Soluzione alternativa**: utilizzare la funzionalità Aggiungi prodotti. <!-- AC-345-->

## Contributi comunitari

Siamo grati alla comunità del Magento Open Source e desideriamo riconoscere il loro contributo a questa versione.

Il team di progettazione della community [collaboratori Magento](https://magento.biterg.io/app/kibana) mantiene un elenco dei principali collaboratori e partner per mese, trimestre e anno. Dalla pagina Collaboratori, puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi dei partner

Nella tabella seguente vengono evidenziati i contributi dei partner. Questa tabella elenca il Partner che ha contribuito alla richiesta di pull, la richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contributi dei singoli collaboratori

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca le richieste pull esterne, il numero del problema GitHub associato (se disponibile) e il membro della community che ha contribuito alla richiesta pull.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, vedere [Requisiti di sistema](../../../installation/system-requirements.md).

### Istruzioni di installazione e aggiornamento

È possibile installare il Magento Open Source 2.4.3 utilizzando [Compositore](../../../installation/composer.md).

## Toolkit di migrazione

Lo strumento di migrazione dei dati consente di trasferire i dati archiviati dal Magento 1.x al Magento 2.x. Questa interfaccia della riga di comando include funzioni di verifica, monitoraggio dell&#39;avanzamento, registrazione e test. Per istruzioni sull&#39;installazione, vedere [Installare lo strumento di migrazione dei dati](../../../tools/data-migration-tool/install.md). Esplorare o contribuire all&#39;[archivio di migrazione dei dati](https://github.com/magento/data-migration-tool).

[Code Migration Toolkit](https://github.com/magento-commerce/code-migration) consente di trasferire le estensioni e le personalizzazioni dell&#39;archivio di Magento 1.x esistenti nel Magento 2.x. L&#39;interfaccia della riga di comando include script per la conversione di moduli e layout Magento 1.x.
