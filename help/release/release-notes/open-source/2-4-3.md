---
title: Note sulla versione di Magento Open Source 2.4.3
description: Scopri le nuove funzioni, i miglioramenti, le correzioni di bug e i problemi noti nella versione del Magento Open Source 2.4.3.
recommendations: noCatalog
exl-id: fba0e147-1aa2-4c41-bc7d-51dd6755e014
source-git-commit: 1eaf2329c16e6dbe3e93cb7fff3a6920b4b8379d
workflow-type: tm+mt
source-wordcount: '12744'
ht-degree: 0%

---

# Note sulla versione di Magento Open Source 2.4.3

Il Magento Open Source 2.4.3 introduce miglioramenti a livello di prestazioni e sicurezza oltre a significativi miglioramenti della piattaforma. I miglioramenti della sicurezza includono l’espansione della copertura reCAPTCHA e l’inclusione di limiti di velocità incorporati. Le dipendenze del compositore di base e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. Page Builder è ora disponibile come estensione in bundle nel Magento Open Source. Ora è lo strumento di modifica del contenuto predefinito per Adobe Commerce e Magento Open Source.

Questa versione include oltre 370 nuove correzioni al codice di base e 33 miglioramenti di sicurezza. Include la risoluzione di quasi 290 problemi GitHub da parte dei membri della community. Questi contributi della community spaziano dalla pulizia minore del codice di base ai miglioramenti significativi in GraphQL.

Questa versione include oltre 370 nuove correzioni al codice di base e 33 miglioramenti di sicurezza. Tutti i problemi noti identificati nelle note sulla versione di Magento Open Source 2.4.2 sono stati risolti in questa versione.

{{bics}}

Consulta [Note sulla versione di Adobe Commerce 2.4.2-p2](../security/2-4-2-patches.md) per informazioni su Adobe Commerce 2.4.2-p2.

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con versioni trimestrali , diversi di questi progetti (ad esempio, Progressive Web Application (PWA) Studio) vengono rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Applica `AC-3022.patch` continuare a offrire DHL come vettore marittimo

DHL ha introdotto lo schema versione 6.2 e dichiarerà obsoleto lo schema versione 6.0 nel prossimo futuro. Adobe Commerce 2.4.4 e versioni precedenti che supportano l’integrazione DHL supportano solo la versione 6.0. I commercianti che distribuiscono queste versioni devono applicare `AC-3022.patch` non appena possibile, di continuare a offrire DHL come vettore marittimo. Consulta la [Applicare una patch per continuare a offrire DHL come corriere](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Articolo della Knowledge Base per informazioni sul download e l&#39;installazione della patch.

## Applica MC-43048__set_rate_limits__2.4.3.patch per risolvere il problema relativo alla limitazione della velocità API

Questo hotfix fornisce una soluzione al problema che impedisce alle API Web di elaborare richieste contenenti più di 20 elementi in un array. Questo problema riguarda le distribuzioni che eseguono Magento Open Source 2.4.3, Adobe Commerce 2.4.3 o 2.3.7-p1. A queste versioni è stata aggiunta una limitazione della frequenza incorporata per impedire attacchi Denial of Service (DoS) e il valore massimo predefinito è stato impostato su 20. Questa patch ripristina il limite predefinito a un valore più alto. Se sospetti che il tuo archivio stia avendo un attacco DoS, l’Adobe consiglia di abbassare i limiti di input predefiniti a un valore inferiore per limitare il numero di risorse che possono essere richieste. Consulta la [API web: impossibile elaborare le richieste con più di 20 elementi nell’array](https://support.magento.com/hc/en-us/articles/4406893342093) Articolo della Knowledge Base.

## Applica AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch per risolvere l&#39;errore irreversibile PHP durante l&#39;aggiornamento

Durante l’aggiornamento al Magento Open Source 2.4.3 può verificarsi il seguente errore irreversibile:

```terminal
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Questo errore deriva dall’utilizzo di `str_contains` una funzione PHP 8.x. L&#39;applicazione Open Source 2.4.3 non supporta PHP 8.x. Questo hotfix sostituisce questa funzione con una funzione PHP 7.x supportata. Consulta la [Aggiornamento Adobe Commerce 2.4.3, 2.3.7-p1 PHP Errore irreversibile Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Articolo della Knowledge Base.

## In evidenza

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti sostanziali della sicurezza

Questa versione include 33 correzioni di sicurezza e miglioramenti di sicurezza della piattaforma. Molte di queste correzioni di sicurezza sono state trasferite a 2.4.2-p2 e 2.3.7-p1.

#### Trentatré miglioramenti di sicurezza che aiutano a chiudere le vulnerabilità RCE (Remote Code Execution) e XSS (Cross-Site Script)

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere l’Amministratore, tra cui, a titolo esemplificativo e non esaustivo: inserire nell&#39;elenco Consentiti degli IP, [autenticazione a due fattori](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html), utilizzo di una VPN, utilizzo di una posizione univoca anziché `/admin`, e una buona igiene della password. Consulta [Bollettino sulla sicurezza degli Adobi](https://helpx.adobe.com/security/products/magento/apsb21-64.html) per una discussione su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità con le best practice più recenti, tra cui:

* A **nuovo plugin Composer** aiuta a evitare confusione nelle dipendenze e identifica i pacchetti dannosi con gli stessi nomi dei pacchetti interni nell’archivio dei pacchetti pubblico. Consulta la [Adobe Rilascia un nuovo plug-in per Compositore con la versione 2.4.3](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) post di blog.

* **La limitazione della frequenza è ora integrata nelle API** per prevenire attacchi Denial of Service (DoS). Le API web ora impongono restrizioni sulla dimensione o sul numero di risorse (il massimo predefinito è impostato su 20 e può essere configurato su un valore diverso in base alle esigenze aziendali) che possono essere richieste da un client. Consulta [Limitazione di velocità](https://developer.adobe.com/commerce/webapi/get-started/api-security/) per informazioni sulla configurazione di queste restrizioni. <!-- MC-35358-->

* **La copertura ReCAPTCHA è stata estesa** per includere:

   * Le API web con pagine HTML corrispondenti sono coperte tramite ReCAPTCHA. Sono escluse le API web a cui si accede tramite integrazioni. La copertura ReCAPTCHA protegge gli endpoint dagli attacchi di spam. Quando si accede alle API web da un servizio di integrazione di terze parti che utilizza OAuth, ReCAPTCHA è disabilitato.<!-- MC-34472-->

   * La pagina vetrina di Place Order e le API Web relative ai pagamenti. La protezione ReCAPTCHA per queste pagine è disabilitata per impostazione predefinita e può essere abilitata dall’amministratore. Questa copertura aggiunge un meccanismo di forza anti-brute per proteggere i negozi dagli attacchi di carding.

{{cve-notice}}

### Miglioramenti dell&#39;infrastruttura

Questa versione contiene miglioramenti che migliorano la qualità del framework e le seguenti aree funzionali:

* Account cliente

* Catalogo

* CMS

* OMS

* Importa/esporta

* Promozioni e targeting

* Carrello e pagamento

* B2B

* Staging e anteprima

**PayPal Pay Later è ora supportato** in implementazioni che includono PayPal. Questa funzione consente ai clienti di pagare un ordine in rate bi-settimanali invece di pagare l’intero importo al momento dell’acquisto. <!-- MC-40556-->

**Nuovo `use_application_lock` modalità di indicizzazione**. Il `use_application_lock` consente di abilitare la reindicizzazione utilizzando variabili di ambiente o configurando `app/etc/env.php` file. Non è più necessario reimpostare manualmente l’indicizzatore dopo un errore con questa modalità abilitata.  Consulta [Utilizzo della modalità di blocco dell’applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Miglioramenti alla piattaforma

La versione 2.4.3 non è ancora compatibile con PHP 8.x, ma i seguenti aggiornamenti della piattaforma ci avvicinano alla compatibilità futura con PHP 8.x.

* Le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.x. <!-- MC-39514-->

* La libreria KnockoutJS è stata aggiornata alla versione v3.5.1 (l’ultima versione). <!-- MC-40694-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. Il `Magento_Tinymce3Banner` I test di modulo e MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce. <!-- MC-42199 42170 -->

* Il Magento Open Source 2.4.3 è stato testato e confermato compatibile con il Redis 6.0.12. (la versione 2.4.x rimane compatibile con Redis 5.x.)

* Le dipendenze della libreria Laminas sono state aggiornate alle versioni compatibili con PHP 8.x. Alcune dipendenze ridondanti sono state rimosse dal `composer.json` file. **Il Magento Open Source 2.4.3 utilizza Laminas 3.4.0**. <!-- MC-39513-->

### Miglioramenti delle prestazioni

Questa versione include miglioramenti che riducono il tempo di indicizzazione per gli indicizzatori di prezzo del prodotto e regole di catalogo. Gli esercenti possono ora escludere un sito web da un gruppo di clienti o da un catalogo condiviso, riducendo il numero di record per l’indicizzazione e migliorando i tempi di indicizzazione.

### Integrazione di Adobe Stock

Questa versione include l’integrazione di Adobe Stock v2.1.1.

### GraphQL

Questa versione aggiunge la copertura GraphQL per i percorsi condivisi. Il [query di instradamento](https://devdocs.magento.com/guides/v2.4/graphql/queries/route.html) e [RoutableInterface](https://devdocs.magento.com/guides/v2.4/graphql/interfaces/routable-interface.html) supporta le richieste di indirizzamento su pagine di prodotti, categorie e CMS. Il `urlResolver` la query è stata dichiarata obsoleta e la sua funzionalità è stata sostituita dalla `route` query.

Consulta la [Guida per gli sviluppatori di GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) per informazioni dettagliate su questi miglioramenti.

### Page Builder

Page Builder è ora disponibile come estensione in bundle nel Magento Open Source. Ora è lo strumento predefinito per la modifica dei contenuti per Adobe Commerce 2.4.3 e Magento Open Source 2.4.3. Può sostituire l’editor WYSIWG con qualsiasi modulo di terze parti.

Page Builder sostituisce l’editor TinyMCE nelle seguenti aree di amministrazione:

* Pagina CMS
* Blocco CMS
* Descrizione categoria
* Descrizione del prodotto

Tutti i contenuti creati in TinyMCE sono stati migrati in Page Builder come HTML.

### PWA Studi

Per informazioni sui miglioramenti e sulle correzioni di bug, consulta [Versioni di PWA Studi](https://github.com/magento/pwa-studio/releases). Consulta [compatibilità](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studi e delle relative versioni compatibili.

### Upgrade Compatibility Tool

Ambito di applicazione [Upgrade Compatibility Tool](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) è stato esteso in base al feedback ricevuto dalla community. Iscriviti al nostro [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) Canale di Slack per ottenere supporto dal team di prodotto Adobe e dalla community, nonché per guidare la direzione futura dello strumento.

### Estensioni sviluppate dal fornitore

Per aggiornamenti sulle funzioni e sulle modifiche di questa versione, consulta i seguenti articoli:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://docs.magento.com/user-guide/payment/braintree.html)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Recensioni prodotto Yotpo](../../../upgrade/modules/upgrade.md)

## Problemi risolti

Sono stati risolti centinaia di problemi nel codice core 2.4.3.

### Installazione, aggiornamento, distribuzione

<!-- MC-41154-->

* Il `bin/magento setup:db:status` Il comando ora restituisce un messaggio che indica che tutto è aggiornato dopo un aggiornamento riuscito. In precedenza, l’applicazione visualizzava questo errore: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* I valori di configurazione ora vengono mantenuti al ricaricamento del modulo quando la creazione di un nuovo prodotto configurabile non riesce. In precedenza, i valori andavano persi durante il ricaricamento del modulo e l’applicazione visualizzava questo errore: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* L&#39;applicazione non genera più un&#39;eccezione durante l&#39;esecuzione `bin/magento setup:upgrade` per effettuare l’aggiornamento da un’implementazione di Magento Open Source con Redis ad Adobe Commerce.

<!-- ENGCOM-8508 -->

* Le implementazioni in esecuzione su Galera Cluster ora supportano più clienti. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Ora gli amministratori possono accedere correttamente a una distribuzione quando l’applicazione è stata installata con `—use-rewrites=0` opzione o con `web/seo/use_rewrites` impostato su 0 in `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Aggiornato `sortOrder` carica per `AsyncCssPlugin`. L’applicazione ora viene caricata `AsyncCssPlugin` prima di `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` ora controlla il percorso di visualizzazione per determinare se esiste un elemento e, se dispone di un percorso di configurazione, utilizza `config.xml` percorso invece della convalida. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* La compilazione di un numero minore di file con la compilazione Grunt o lato server produce ora gli stessi risultati. Precedentemente. `.abs- styles`, che estende altri `.abs- styles` in `_extends.less`, non venivano generati correttamente se compilati con Grunt. Ciò causava differenze tra le distribuzioni di produzione e di sviluppo. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### Integrazione di Adobe Stock

<!-- MC-39754-->

* L’applicazione ora visualizza un messaggio informativo e un collegamento all’Amministratore **Negozi** > **Configurazione** > **Avanzate** > **Sistema** nella pagina Ricerca di Adobe Stock quando **Chiave API (ID client)** e **Segreto client** non sono impostati. In precedenza, l’applicazione visualizzava questo errore: `We couldn't find any records` e nessun collegamento.

### Back-end

<!-- MC-40389-->

* Gli amministratori con accesso limitato (ad esempio, a cui viene assegnato l&#39;accesso a un solo sito Web) non possono più modificare le categorie impostate su Ambito globale.

<!-- MC-39037-->

* Il report di sistema generato (**Sistema** > **Supporto** > **Report di sistema**) è ora riprodotto correttamente. In precedenza, il contenuto del rapporto non era allineato.

<!-- MC-30152 ENGCOM-8625-->

* L’applicazione ora disattiva la convalida sulla **Prezzo** come previsto quando **Prezzo dinamico** l&#39;impostazione è abilitata durante la creazione del prodotto bundle. In precedenza, l’applicazione generava un errore di convalida quando si rimuoveva un valore da **Prezzo** campo quando **Prezzo dinamico** l&#39;impostazione è stata abilitata. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* I reindirizzamenti infiniti non si verificano più quando l’URL dell’amministratore è diverso dall’URL predefinito del sito web nelle distribuzioni in cui l’applicazione è configurata per essere accessibile da due URL.

### Prodotti bundle

<!-- MC-41810-->

* Ora puoi utilizzare la `addProductsToCart` per aggiungere a un carrello un prodotto bundle con più opzioni di caselle di controllo.

<!-- MC-41614-->

* L’indicizzazione dei prezzi dei prodotti bundle viene ora eseguita utilizzando tabelle temporanee, che evita di bloccare le tabelle del database. In precedenza, l’applicazione utilizzava tabelle fisiche, che risultavano in tabelle bloccate.

<!-- MC-41177 magento/magento2#32594-->

* Ora il prezzo di un articolo bundle può essere impostato su 0,00. In precedenza, quando si tornava alla pagina di modifica dopo aver impostato il prezzo su 0,00, il prezzo veniva riportato al suo valore predefinito. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* I dettagli dell’ordine per gli ordini che contengono prodotti bundle ora mostrano il prezzo corretto per i prodotti bundle se il prezzo è stato modificato prima dell’ordine.

<!-- MC-40035-->

* Lo stato delle scorte dei prodotti del bundle viene ora aggiornato in base allo stato delle scorte dei relativi prodotti secondari. In precedenza, i prodotti in bundle venivano mostrati come esauriti quando un’opzione veniva rimossa dal prodotto e il prodotto in bundle aveva due opzioni con lo stesso SKU.

<!-- MC-39276-->

* Ora un amministratore può modificare il valore di un pacchetto di prodotti `Shipment Type` dopo essere stato spostato in un gruppo di attributi diverso. In precedenza, questo attributo veniva sempre salvato con un `Together` valore se è stato spostato in un gruppo di attributi diverso da quello predefinito nel set di attributi.

<!-- MC-38900-->

* GraphQL `setGuestEmailOnCart` la mutazione ora aggiorna correttamente l’e-mail dell’ospite. In precedenza, le tabelle degli indirizzi delle offerte e delle offerte non venivano aggiornate.

<!-- MC-37719-->

* L’aggiunta, la rimozione o l’aggiornamento di un prodotto secondario a un prodotto bundle tramite chiamate API REST ora attiva la reindicizzazione come previsto. In precedenza, queste azioni non attivavano la reindicizzazione e, di conseguenza, il prodotto bundle non modificava lo stato delle scorte fino a quando non veniva eseguita la reindicizzazione manuale.

<!-- MC-35725 ENGCOM-8568-->

* L&#39;applicazione visualizza ora la gamma di prezzi corretta per i prodotti in bundle con prezzi di livello. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* L’applicazione ora visualizza lo stesso prezzo totale previsto nella pagina del carrello e nella fase di spedizione del flusso di lavoro di pagamento dopo la modifica del prezzo di un’opzione del bundle.

<!-- MC-32617-->

* Ora puoi configurare correttamente un prodotto bundle accedendovi da un carrello clienti. In precedenza, la pagina Configura prodotto non veniva mai completamente caricata e non era possibile salvare le impostazioni.

<!-- MC-30317 ENGCOM-7141-->

* I commercianti possono ora assegnare un prezzo univoco per un prodotto bundle su ogni visualizzazione del negozio di una distribuzione multistore. I prezzi specifici del sito Web vengono salvati nel `catalog_product_bundle_selection_price` tabella. In precedenza, l’applicazione non basava il prezzo di un pacchetto di prodotti sull’ambito del sito web anche quando  **Negozi** > **Configurazione** > **Catalogo** > **Catalogo** > **Prezzo** > **Ambito prezzo catalogo** è stato impostato su `Website`. Nessun prezzo specifico per il sito Web salvato in `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* Le fatture per i prodotti in bundle ora visualizzano la quantità corretta per i prodotti semplici associati quando **Prezzi dinamici** è disabilitato. In precedenza, i prodotti semplici associati al prodotto del bundle avevano la quantità del prodotto principale, non del prodotto del bundle). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* Il `updateProductsInWishlist` la mutazione ora aggiorna correttamente gli elementi che appartengono a un prodotto bundle in una lista dei desideri. In precedenza, invece di aggiornare la voce della lista dei desideri, questa mutazione eliminava la voce e ne creava una nuova, modificandone l’ID.

### Cache

<!-- ENGCOM-8554-->

* Il `varnish6.vcl` Il file è stato aggiornato per evitare il caching della pagina del cliente.

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA ora convalida correttamente i dati forniti da un acquirente, e i campi CAPTCHA ora vengono visualizzati come previsto dopo i molteplici tentativi falliti di un acquirente di effettuare il check-out con PayPal Payflow Pro.

<!-- MC-41281-->

* La convalida CAPTCHA non ha più esito negativo in modo casuale nella pagina di pagamento del flusso di lavoro di pagamento.

<!-- MC-41001-->

* L’applicazione ora visualizza i campi CAPTCHA come previsto dopo il superamento del numero di tentativi di completamento non riusciti. In precedenza, sebbene l’applicazione ti avesse richiesto di riprovare a eseguire la richiesta CAPTCHA, non mostrava i campi CAPTCHA.

<!-- MC-40359-->

* CAPTCHA ora funziona come previsto nella pagina di pagamento. In precedenza, dopo che un acquirente aveva risposto correttamente a una richiesta CAPTCHA, il caricatore nella pagina di pagamento non aveva mai completato l’operazione e l’applicazione aveva visualizzato questo errore: `captchaData[formId] is undefined`. (Questo errore si verificava solo quando l’acquirente utilizzava lo stesso browser da cui aveva precedentemente effettuato l’accesso a una distribuzione in cui era in esecuzione la versione 2.3.5-p1.)

<!-- ENGCOM-8630-->

* `_.isEmpty()` controlli in `defaultCaptcha.js` file ora completato correttamente. In precedenza, questi controlli non venivano completati e, di conseguenza, la pagina di estrazione non veniva caricata dopo l’aggiornamento. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carrello e pagamento

<!-- MC-41911-->

* L’applicazione ora tiene conto delle localizzazioni decimali specifiche per le impostazioni internazionali durante la conversione e l’aggiornamento della quantità di prodotto nel carrello.

<!-- MC-40657-->

* L’applicazione ora visualizza il messaggio di convalida dei Termini e Condizioni nel relativo blocco solo quando un acquirente fa clic sul pulsante **Inserisci ordine** pulsante. In precedenza, l’applicazione visualizzava questo messaggio nel blocco Applica codice sconto ogni volta che un acquirente cambiava metodo di pagamento nel flusso di lavoro di pagamento: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-39581-->

* L&#39;applicazione ora elimina le modifiche al modulo dell&#39;indirizzo di fatturazione nella fase di pagamento dell&#39;estrazione se l&#39;acquirente non fa clic sul pulsante **Aggiorna** e ritorna alla fase di spedizione.

<!-- MC-37807 ENGCOM-8530-->

* Prodotti con opzione personalizzabile `(File)` ora includi i collegamenti attivi come previsto durante il processo di pagamento multi-shipping. In precedenza, questo collegamento era mancante. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* Il carrello degli amministratori ora visualizza i prezzi dei prodotti nelle valute corrette per i negozi che supportano più valute. In precedenza, i prezzi venivano convertiti nella valuta specificata più di una volta: prima, quando i prodotti venivano aggiunti al carrello dalla vetrina, e poi di nuovo quando l’ordine veniva successivamente renderizzato sull’amministratore.

<!-- MC-35640-->

* Gli acquirenti possono ora aggiungere al carrello un prodotto il cui prezzo minimo pubblicizzato (MAP) supera il normale prezzo del prodotto.

<!-- MC-35289-->

* Gli acquirenti possono ora modificare correttamente il proprio indirizzo di fatturazione dal flusso di lavoro di pagamento quando effettuano il pagamento con più indirizzi.

<!-- MC-29335 magento/magento2#32251 -->

* Tutte le transazioni di pagamento a pagamento create dagli ospiti vengono ora salvate nel database e visualizzate nell&#39;amministratore come previsto. In precedenza, nel database veniva salvato solo un piccolo sottoinsieme di ordini simultanei e la maggior parte degli ordini andava persa a causa di timeout dovuti a blocchi del database. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989-->

* L’applicazione ora visualizza correttamente i messaggi di benvenuto in linea contenenti caratteri speciali quando un ospite inserisce un prodotto nel mini carrello. In precedenza, l’applicazione non aggiungeva il prodotto al mini carrello né visualizzava il messaggio di benvenuto. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* La pagina di spedizione del flusso di lavoro di pagamento ora viene caricata correttamente quando la consegna nel negozio è abilitata. In precedenza, l’applicazione generava un errore JavaScript e la pagina di pagamento della spedizione non veniva riprodotta completamente.

<!-- ENGCOM-9006-->

* È stata aggiunta la `itemResolvers` argomento del catalogo `di.xml` file. Di conseguenza, l’estrazione non viene più interrotta se i moduli di prodotto configurabili e raggruppati sono disabilitati. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* L&#39;applicazione ora visualizza i pulsanti di scelta nella **Informazioni su pagamento e spedizione** come previsto durante il flusso di lavoro di riordino dell’amministratore. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* L’applicazione ora applica correttamente le regole del prezzo del carrello con uno sconto fisso a livello di carrello quando il carrello contiene un prodotto bundle con più opzioni. In precedenza, la regola del prezzo del carrello non veniva applicata completamente all’ordine. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* Il **Aggiungi al carrello** nella vista elenco categorie ora funziona come previsto. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* Ora puoi utilizzare POST `/V1/carts/mine/items` per aggiungere una quantità personalizzata di prodotti raggruppati a un carrello. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* L’applicazione non popola più l’area dell’indirizzo di fatturazione del flusso di lavoro di pagamento con l’indirizzo di spedizione. In precedenza, quando **Stato/Provincia** il campo per l’indirizzo di fatturazione era vuoto e gli indirizzi di spedizione e fatturazione erano diversi; l’applicazione ha popolato l’indirizzo di fatturazione **Stato/Provincia** campo con informazioni provenienti dall’indirizzo di spedizione. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catalogo

<!-- MC-36787-->

* Aggiornamento di massa di **Abilita incrementi quantità** e **Incrementi quantità** Gli attributi ora funzionano come previsto. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41575-->

* L’applicazione non genera più un errore JavaScript dopo l’abilitazione della sincronizzazione di prodotti recenti con l’amministratore. In precedenza, l’applicazione visualizzava questo errore JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* Gli aggiornamenti del layout del tema personalizzato vengono ora applicati come previsto. In precedenza, gli aggiornamenti del layout del tema personalizzato venivano ignorati.

<!-- MC-41499-->

* La cache della categoria di prodotto viene ora cancellata come previsto da `cron` durante `indexer_update_all_views` esecuzione. In precedenza, i conteggi dei prodotti nella pagina Categoria dopo la reindicizzazione non erano corretti.

<!-- MC-41422-->

* I valori degli attributi ora rimangono invariati quando un attributo non è specificato in una richiesta API REST per l’aggiornamento del prodotto per una vista store. In precedenza, se un attributo non veniva specificato, l&#39;applicazione reimpostava il valore dell&#39;attributo sul relativo valore di ambito predefinito.

<!-- MC-41284-->

* Griglia prodotti amministratore (Admin **Catalogo** > **Prodotti**) ora visualizza il numero corretto di prodotti quando i prodotti sono filtrati per SKU.

<!-- MC-40873-->

* L&#39;applicazione ora visualizza lo stato preciso delle scorte quando un prodotto viene aggiunto a una pagina CMS quando le autorizzazioni della categoria sono abilitate e impedisce la visualizzazione del prezzo per il gruppo del cliente specificato. In precedenza, tutti i prodotti venivano mostrati come esauriti, indipendentemente dallo stato delle scorte reali.

<!-- MC-40859-->

* Il campo di input Prezzo blocco gruppo di clienti di Advanced Pricing ha ora una larghezza minima di cinque cifre. In precedenza, in questo campo erano visibili solo due simboli su display a bassa risoluzione.

<!-- MC-40825-->

* L’applicazione ora elimina correttamente un’immagine multimediale di prodotto dopo l’eliminazione di un prodotto. In precedenza, l’immagine del supporto del prodotto rimaneva nella cartella dopo la corretta eliminazione del prodotto.

<!-- MC-40811 magento/magento2#32042-->

* Il layout di pagina ora viene aggiornato come previsto quando crei o modifichi un prodotto in Amministrazione e quindi crei un aggiornamento della progettazione pianificato. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Ora è possibile salvare come vuoto un attributo di prodotto personalizzato con valore zero. In precedenza, l’applicazione non aggiornava questo valore in vuoto.

<!-- MC-40736 ENGCOM-8789-->

* I file di aggiornamento del layout di categoria personalizzato ora vengono applicati ai prodotti come previsto. In precedenza, l&#39;handle del file di aggiornamento (`catalog_category_view_*`) non corrisponde all&#39;handle del prodotto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* L’ordinamento è stato disattivato per la colonna Imposta fissa sui prodotti (FPT) dell’elenco dei prodotti amministratore. In precedenza, non era possibile ricaricare la pagina Prodotti dopo l’ordinamento della colonna FPT.

<!-- MC-40443-->

* L’anteprima del widget dei prodotti Page Builder ora funziona come previsto in una distribuzione multi-sito web quando i prodotti corrispondenti hanno un prezzo diverso su ciascun sito web.

<!-- MC-40344 ENGCOM-8629-->

* Ordinamento in base alla posizione nella ricerca prodotti tramite GET `/rest/V1/products/?searchCriteria[filterGroups]` ora funziona come previsto. In precedenza, la raccolta di prodotti non aveva un campo `position` valore per l’ordinamento. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Gli utenti amministratori possono ora visualizzare gli spazi doppi nel **Nome** e **SKU** nella griglia del prodotto. In precedenza, l’applicazione comprimeva più spazi in un singolo spazio.

<!-- MC-39869-->

* I prodotti ora sono visualizzati come esauriti nella vetrina quando la quantità vendibile sull’amministratore è 0. In precedenza, questi prodotti erano elencati come disponibili nella vetrina e l’applicazione mostrava un valore **Aggiungi al carrello** pulsante. [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Gli amministratori possono ora aggiungere prodotti con opzioni personalizzabili `(File)` alla griglia Articoli ordinati dalla sezione Carrello acquisti (colonna Attività del cliente) della pagina Cliente amministratore. In precedenza, l’applicazione non aggiungeva l’elemento all’elenco perché il valore non veniva formattato correttamente prima di essere inserito in `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* L’applicazione non richiede più agli acquirenti di selezionare un’opzione di prodotto per un prodotto in bundle con una sola opzione.

<!-- MC-39617-->

* Durante la creazione di un nuovo widget, l’applicazione ora visualizza tutte le sottocategorie negli aggiornamenti del layout (categorie di ancoraggio e non di ancoraggio).

<!-- MC-39481-->

* Il `product` query non sovrascrive più i valori predefiniti per tutte le visualizzazioni dello store in una distribuzione multi-store quando un nome di prodotto viene aggiornato per una sola visualizzazione dello store. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Il Magento Open Source aggiorna il conteggio totale delle pagine come previsto quando modifichi il valore per pagina dell’elenco Prodotti correlati all’amministratore, Vendite successive e Cross-Sell. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Gli amministratori possono ora aggiungere prodotti con due o più opzioni personalizzabili `(File)` a un ordine per SKU.

<!-- MC-39140-->

* L’applicazione non genera più un errore quando un amministratore con autorizzazioni limitate aggiunge un widget di prodotto a una pagina CMS nell’amministratore. In precedenza, l’applicazione generava questo errore quando l’amministratore faceva clic su **Salva** pulsante:  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* Le pagine dei dettagli del prodotto ora si aprono con l’opzione data personalizzabile compilata con la data dell’ordine precedente quando **Usa calendario JavaScript** è abilitato. Il risolutore valore dell’opzione data personalizzato ora utilizza un formato alternativo se il valore non è formattato in base alla configurazione corrente. In precedenza, il valore dell’opzione data personalizzata era vuoto.

<!-- MC-39104-->

* Ora l’applicazione visualizza un solo errore nel carrello quando il prodotto è esaurito. In precedenza, l’applicazione visualizzava messaggi ridondanti. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-38575-->

* Ora è possibile impostare `required_options` e `has_options` attributi del bundle come previsto durante la creazione o l&#39;aggiornamento di un prodotto del bundle utilizzando `POST /V1/product/:sku` endpoint. In precedenza, questi attributi personalizzati venivano impostati su 0 (zero) nonostante gli sforzi per impostarlo su 1 (uno).

<!-- MC-35717  magento/partners-magento2ee#427-->

* Gli amministratori possono ora aggiungere un prodotto con un’opzione personalizzabile `(File)` a un ordine per SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* Ora puoi salvare un prodotto e un prezzo senza specificare `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* I prodotti del gruppo sono ora disponibili nella vetrina come previsto quando un REST `PUT /V1/products/:sku/links` La richiesta viene utilizzata per associare un nuovo prodotto secondario a un nuovo prodotto di gruppo. In precedenza, i prodotti non venivano indicizzati correttamente dopo l’esecuzione `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Non è più possibile creare un prodotto con `NULL` Valore SKU. In precedenza, era possibile creare un prodotto senza un valore SKU tramite un’importazione personalizzata o direttamente nel database, ma quando si tentava di modificarlo dall’amministratore, l’applicazione generava un errore. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* L’aggiunta delle opzioni personalizzate richieste a un prodotto semplice non lo rimuove più dai prodotti compositi principali senza alcun avviso. L’applicazione visualizza ora un avviso informativo e non salva il prodotto.  In precedenza, l’applicazione salvava le modifiche apportate al prodotto e non visualizzava un’avvertenza. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Regola catalogo

<!-- MC-39896-->

* Il `products` query ora restituisce i valori correnti quando una regola del prezzo di catalogo si applica a un articolo. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Tabelle temporanee che iniziano con `catalogrule_product__temp` vengono ora eliminati come previsto quando la reindicizzazione non riesce dopo la scadenza di un carrello o di una regola del catalogo, viene disabilitata o diventa inattiva. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* I fusi orari ora vengono applicati allo stesso modo in `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` e `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### Contenuto CMS

<!-- MC-41471-->

* Le immagini di grandi dimensioni ora vengono ridimensionate come previsto durante il caricamento quando **Abilita ridimensionamento front-end** l&#39;impostazione di configurazione è attivata.

<!-- MC-40663 ENGCOM-8883-->

* È stata corretta la gestione dell’errore per il controller di salvataggio della pagina CMS. Precedentemente, quando `Error` l&#39;oggetto è stato generato `cms_page_prepare_save` l&#39;applicazione ha passato questo oggetto al `addExceptionMessage` funzione, interrompendo il contratto perché questa funzione richiede un `Exception`. Questo problema è stato risolto aggiungendo un messaggio di errore utilizzando `addErrorMessage` funzione. [GitHub-30149](https://github.com/magento/magento2/issues/30149)

### Prodotti configurabili

<!-- MC-40719-->

* L’applicazione non duplica più le miniature dei prodotti nella galleria di immagini di un prodotto quando si fa clic sulle opzioni configurabili di un prodotto.

<!-- MC-37418-->

* Il pop-up di configurazione visualizzato dall’applicazione quando si modifica un prodotto configurabile da una lista dei desideri ora si chiude come previsto quando si fa clic su **OK** pulsante.

<!-- MC-39878  magento/magento2#31472-->

* L&#39;applicazione ora genera correttamente fatture per ordini che contengono un solo prodotto configurabile. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Gli acquirenti possono ora aggiungere prodotti configurabili al carrello da una vista del negozio non predefinita. In precedenza, quando l’acquirente in una visualizzazione archivio non predefinita tentava di aggiungere un prodotto configurabile, l’applicazione visualizzava questo errore: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Criteri sulla sicurezza dei contenuti (CSP)

<!-- ENGCOM-8577-->

* Informativa sulla sicurezza dei contenuti ora supporta il caricamento di immagini e font con codifica base64 tramite `data: scheme`.

### cron

<!-- MC-30804-->

* È stato eseguito il refactoring delle query di pulizia delle celle per ridurre o eliminare i seguenti problemi di prestazioni: `cron` i processi rimangono bloccati in uno stato in sospeso, le query MySQL sempre più lente e un aumento dell&#39;utilizzo della CPU. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` che sono stati nello stato `running` per più di 24 ore vengono ora automaticamente modificati in stato `error`.  Di conseguenza, è possibile eseguire nuovamente una nuova istanza di tale processo e non è necessario modificare manualmente lo stato del processo quando un processo rimane impostato in modo errato su stato `running`. Precedentemente, se un `cronjob` erano bloccati nello stato `running`, l’applicazione ha impedito l’avvio di nuove istanze dello stesso processo ed è stato necessario modificare manualmente lo stato del processo. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` i processi ora vengono completati come previsto e non generano più questo errore di serializzazione:  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  i processi cron ora vengono eseguiti come previsto dopo un errore precedente. L’esecuzione non riuscita è contrassegnata come un errore nel `cron_schedule schedule`e l’esecuzione successiva non ha esito negativo automaticamente. Precedentemente, il `cron_schedule` tabella compilata con processi in sospeso e `indexer_update_all_views` processo cron non eseguito. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` deadlock non si verifica più a causa di `cron` tentativo di impostare un blocco in implementazioni di grandi dimensioni in cui i gruppi si sovrappongono. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` non si verificano più deadlock in `cron_schedule` tabella dopo solo alcuni `cron` processi eseguiti. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Attributi cliente personalizzati

<!-- MC-41611-->

* Il **Stato** Il campo nella rubrica dell&#39;account del cliente storefront ora viene caricato come e rimane un elemento di pagina a discesa. Il **Invia** Il pulsante è ora disattivato fino al completamento del caricamento di tutti gli elementi della pagina. In precedenza, l’applicazione caricava questo campo come casella di testo prima di eseguirne il rendering come elemento a discesa e gli acquirenti potevano immettere e salvare i valori nel campo di testo, causando in seguito un errore durante l’estrazione.

<!-- MC-40329-->

* L’applicazione non genera più un errore quando si salva un attributo dell’indirizzo del cliente con un file allegato nel campo Indirizzo del cliente amministratore durante il caricamento dei file. Ciò si è verificato a causa di un&#39;istruzione return mancante nell&#39;azione del controller. In precedenza, l’applicazione generava questo errore: `Something went wrong while saving the file`.

<!-- MC-39354-->

* Le chiamate API REST GET Cart ora restituiscono valori di attributo personalizzati corretti per gli indirizzi di fatturazione e spedizione. In precedenza, gli attributi degli indirizzi personalizzati non venivano visualizzati correttamente nella pagina dei dettagli dell’ordine nella pagina di vetrina del mio account e in Amministrazione.

<!-- MC-24495-->

* L’applicazione ora gestisce correttamente i file che contengono gli attributi dell’indirizzo del cliente con il tipo di input `file (attachment)`. In precedenza, l’applicazione generava questo errore durante il caricamento del file allegato: `Something went wrong while saving the file`.

### Cliente

<!-- MC-40579-->

* L’applicazione di un filtro in base alla data di creazione dell’account ora produce risultati conformi alle impostazioni configurate per il fuso orario e in grado di acquisire tutti gli account creati rilevanti.

<!-- MC-40502-->

* Il filtro griglia clienti ora utilizza un’opzione corretta per un sito web per un utente con restrizioni, se i dati erano stati precedentemente memorizzati nella cache. In precedenza, il filtro della griglia del cliente recuperava parametri del sito web dalla cache e includeva dati errati per gli utenti con restrizioni.

<!-- MC-39189-->

* L’applicazione non genera più un’eccezione nella pagina Clienti amministratori quando un sito web viene eliminato in una distribuzione multisito. In precedenza, quando un amministratore tentava di accedere all’elenco completo dei clienti, nell’applicazione non venivano visualizzati tutti i clienti e veniva visualizzato il seguente errore: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Gli amministratori autorizzati possono ora riassegnare i clienti a siti web diversi dalla scheda Informazioni account del cliente.

<!-- MC-39852-->

* Ora puoi caricare un file correttamente durante la creazione di un attributo di indirizzo del cliente con un tipo di input `(File)`. In precedenza, quando si tentava di caricare e salvare un file, l’applicazione generava questo errore: `Something went wrong while saving the file`.

### Directory

<!-- MC-39520-->

* L’applicazione non genera più un’eccezione quando un acquirente immette un codice postale non valido durante la sezione di spedizione del flusso di lavoro di pagamento. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Download disponibile

<!-- MC-35779-->

* Ora l’applicazione visualizza i collegamenti ai prodotti scaricabili nell’e-mail Nuovo ordine quando l’ordine contiene sia un prodotto scaricabile che un prodotto configurabile con un’opzione scaricabile. In precedenza, l’applicazione visualizzava il collegamento al prodotto scaricabile autonomo, ma non il collegamento al prodotto configurabile con un’opzione scaricabile.

### EAV

<!-- MC-41756-->

* I valori di data dell’attributo dell’indirizzo del cliente vengono ora salvati in formato a quattro cifre anziché a due.

### E-mail

<!-- MC-39757-->

* Il collegamento di reimpostazione della password nella pagina Reimpostazione password amministratore ora funziona come previsto. In precedenza, quando si utilizzava un modello personalizzato per la pagina Reimposta password amministratore, l’applicazione visualizzava questo messaggio quando un amministratore faceva clic sul collegamento all’interno dell’e-mail: `Your password reset link has expired`. Ciò si verificava perché il modello e-mail personalizzato conteneva una variabile errata per l’ID utente.

<!-- MC-41588-->

* L’invio di e-mail ai clienti da parte dell’amministratore ora funziona correttamente se attivato a livello di visualizzazione store. In precedenza, l’applicazione non inviava e-mail ai clienti quando le impostazioni di notifica e-mail erano abilitate a livello di visualizzazione store ma non a livello globale.

<!-- MC-40950-->

* L’applicazione ora invia le e-mail come previsto nelle distribuzioni multisito in cui non tutti i siti web hanno abilitato l’invio asincrono delle e-mail. In precedenza, se questa impostazione era disabilitata per almeno un sito web, l’e-mail non veniva inviata da alcun sito web, nemmeno se abilitata. Le e-mail relative a fatture, spedizioni e note di credito presentavano problemi simili. Tuttavia, le e-mail Commenti ordine, Commenti fattura, Commenti spedizione e Commenti nota di accredito sono state inviate correttamente. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-30127 magento/magento2#31455-->

* Fatture e PDF fatture ora includono gli stessi prezzi previsti per i prodotti bundle. In precedenza, i PDF delle fatture includevano il prezzo errato per i prodotti bundle. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* Il cast di stringhe è stato aggiunto al metodo di filtro del modello e-mail per garantire che il valore restituito sia un `string`. In precedenza, quando un’eccezione veniva rilevata mentre non era attiva la modalità sviluppatore, l’applicazione restituiva un’ `phrase` oggetto. Questo a sua volta ha provocato un esito fatale `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Le e-mail di conferma dell’ordine ora vengono inviate come previsto quando è abilitato l’invio asincrono (**Negozi**  >  **Configurazione**  >  **Vendite**  > **E-mail vendite**  >  **Impostazioni generali**  >  **Invio asincrono**) su un sito web in una distribuzione multisito. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* L’applicazione ora registra un errore come previsto quando si verifica un’eccezione durante il tentativo di un cliente di inviare un’e-mail dal modulo Contattaci. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Framework

<!-- MC-41712-->

* Le classi padre nell’amministratore ora vengono verificate per l’annotazione docblock insieme alla classe originale e alle interfacce ereditate. In precedenza, poiché le classi padre non erano selezionate, l’esecuzione di azioni relative al cliente nell’amministratore che ha attivato un evento generava un errore. L&#39;applicazione ha registrato questo errore nel registro eccezioni: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* L’applicazione non genera più un errore irreversibile quando il server Redis viene arrestato in una distribuzione in cui è abilitato il caching delle pagine Redis.

<!-- MC-40739-->

* L&#39;applicazione ora rispetta il **Escludi cartella multimediale dal backup** impostazione quando il backup è abilitato con `bin/magento config:set system/backup/functionality_enabled 1`. In precedenza, veniva eseguito il backup della cartella dei contenuti multimediali nonostante questa impostazione, perché il percorso di `/magento` è stato formato in modo errato con un doppio //.

<!-- MC-40654 ENGCOM-8881-->

* L’applicazione ora traduce tutte le stringhe traducibili come previsto per la pagina del carrello di amministrazione. In precedenza, il carico di traduzione si verificava troppo tardi e saltava tutti gli osservatori che erano abbonati al pre-invio dell’azione del controller. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* La convalida del modulo nella pagina Crea nuovo account del cliente ora funziona correttamente quando **Accedi come cliente** l&#39;impostazione abilita estensione è disabilitata. In precedenza, l’applicazione generava un errore JavaScript.

<!-- MC-39193-->

* Gestione delle eccezioni per i processi figlio sottoposti a forking da `ProcessManager` è stato migliorato. Quando si verifica ora un&#39;eccezione, il processo principale viene chiuso e un messaggio di errore viene visualizzato una sola volta. In precedenza, venivano registrati più errori di indicizzazione e venivano visualizzati più messaggi. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Plug-in del Magento Open Source globale (ad esempio, `webapi_rest` e `graphql` ) non vengono più attivati per un nuovo tipo di area personalizzata quando `di.xml` del file dell&#39;area non contiene plug-in registrati.

<!-- MC-38770-->

* Le eccezioni che si verificano durante l’inizializzazione non vengono più memorizzate nella cache e ora attivano il codice di risposta 500.

<!-- ENGCOM-8232-->

* L’ultimo gestore unito in un `communication.xml` Il file non sostituisce più tutti i gestori creati in precedenza. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correzioni generali

<!-- MC-41194-->

* L’applicazione ora visualizza il numero corretto di stelle nella pagina Recensioni dei miei prodotti e nella pagina Recensioni recenti di MyAccount. In precedenza, l’applicazione applicava la recensione solo alla prima recensione e lasciava le altre recensioni sulla pagina senza stelle.

<!-- MC-40653-->

* I collegamenti dell’account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti degli account nelle intestazioni contenevano ID duplicati, che impedivano la convalida WCAG.

<!-- MC-39765-->

* L&#39;applicazione non genera più errori generati dal registro di sistema quando un acquirente guest utilizza un indirizzo non valido. In precedenza, l’applicazione visualizzava a intermittenza questo errore invece di eseguire il rendering della pagina: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* Il processo di ridimensionamento delle immagini non si interrompe più se le immagini sono in un formato non supportato. Precedentemente, quando `catalog:images:resize` è stato rilevato un formato immagine non supportato. il processo è stato interrotto e l&#39;applicazione ha visualizzato il seguente errore: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* All’amministratore è stato aggiunto il supporto WEBP e AVIF per le immagini del logo. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Non è più possibile modificare l’ambito del `media_gallery` attributo. In precedenza, quando si modificava l’ambito del `media_gallery` attribuire di nuovo a `global`, l’applicazione ha restituito un errore.

<!-- MC-36818  magento/partners-magento2ee#470-->

* I prodotti correlati aggiunti come aggiornamento pianificato non vengono più visualizzati in una pagina di prodotto della vetrina dopo la data di fine dell’aggiornamento. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-33499 magento/partners-magento2ee#446-->

* Il filtro ora funziona come previsto nell’elenco delle esportazioni pianificate quando viene selezionato il tipo di entità. In precedenza, il filtro non funzionava e l’applicazione generava un errore JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Le immagini delle categorie ora vengono copiate come previsto dal file `catalog/tmp/category` alla directory `catalog/category` quando le categorie vengono salvate utilizzando il metodo di archiviazione del database. Riga dell&#39;immagine nella `media_storage_file_storage` la tabella ora include anche il `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Ora i commercianti ricevono una notifica delle cache non convalidate, come previsto dopo l’invio delle modifiche alla gerarchia del CMS. In precedenza, l’applicazione non invalidava le cache durante il salvataggio della gerarchia CMS.

<!-- MC-24725-->

* Le richieste AJAX ridondanti alla sezione carrello del carrello sono state ridotte. In precedenza, l’applicazione non caricava correttamente il subtotale del carrello, riattivando il caricamento del carrello.

<!-- MC-23740-->

* È stata aggiunta la convalida per gli URL per impedire l’inclusione di parole riservate nelle chiavi URL. Consulta [Definizione di URI (Uniform Resource Identifiers) noti](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* Nelle implementazioni che eseguono PHP 7.4, l&#39;applicazione ora restituisce un errore 404 quando **Genera riscritture URL &quot;categoria/prodotto&quot;** è impostato su **No** e un acquirente tenta di accedere a un percorso di categoria inesistente. In precedenza, l’applicazione restituiva un errore 500 che indicava: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- ENGCOM-8901-->

* `nowdoc` ha sostituito `heredoc` nel `Magento_Backend` commutatore store. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8685-->

* Sono state aggiunte le regioni Argentina, Bolivia, Cile, Ecuador, Guyana, Paraguay, Perù, Suriname e Venezuela alla `directory_country_region` tabella. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Sono state aggiunte le regioni di Albania, Danimarca, Grecia, Islanda, Portogallo e Svezia alla `directory_country_region` tabella. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* I messaggi vengono ora contrassegnati come errori nella coda dei messaggi MysqlMQ quando si verificano eccezioni. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* L&#39;applicazione ora fa riferimento all&#39;oggetto classe corretto durante il caricamento delle informazioni sulle imposte per le pagine della nota di accredito e della fattura Admin. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* L&#39;integrazione Click &amp; Drop di Royal Mail ora funziona come previsto. In precedenza, l’applicazione generava questo errore quando si tentava di attivare la sua integrazione: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* L&#39;applicazione visualizza ora un messaggio di errore informativo quando una spedizione, una nota di credito o un ID fattura non corretto viene passato in un URL. In precedenza, l’applicazione generava un errore irreversibile. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* La ricorsione nel percorso dei file statici è stata rimossa.  L’applicazione visualizza ora una pagina 404 invece di un errore 500. In precedenza, un bug nella configurazione NGINX predefinita portava a una ricorsione infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* Il nome del `cms_index_noroute.xml` è stato corretto in `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* Il `.editorconfig` è stato rielaborato per correggere la formattazione automatica di `db_schema_whitelist.json` file. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* Il ridimensionamento di una finestra del browser non attiva più gli eventi di ingrandimento del binding duplicati. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* L&#39;applicazione non genera più un&#39;eccezione SQL durante il filtraggio `Magento\Users\Model\ResourceModel\Users\Collection` da `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Biglietti regalo

<!-- MC-32651-->

* Logica di convalida dell&#39;intervallo di prezzi aggiunta alla pagina di creazione della gift card. In precedenza, un amministratore poteva creare una scheda con un valore minimo che superava il valore massimo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* Il `addRequisitionListItemsToCart` query ora restituisce l&#39;importo di una gift card personalizzata come previsto quando la richiesta non contiene un valore per `allow_open_amount`.

### Messaggio regalo

<!-- ENGCOM-8539-->

* Gli amministratori vengono ora reindirizzati direttamente alla pagina di amministrazione richiesta dopo l’accesso.  In precedenza, quando un amministratore effettuava l’accesso, veniva reindirizzato al dashboard di amministrazione (o a qualsiasi pagina configurata come pagina di avvio) e doveva passare manualmente alla sua destinazione. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

### Gestione tag Google

<!-- MC-39072-->

* Il componente dell’interfaccia utente per l’indirizzo di fatturazione nella pagina di pagamento del flusso di lavoro di pagamento ora utilizza correttamente l’indirizzo dell’offerta quando Google Tag Manager è abilitato. In precedenza, si verificava un errore JavaScript nella pagina di pagamento.

### GraphQL

<!-- MC-41885-->

* GraphQL `products` query ora restituisce opzioni attributo che vengono ordinate nello stesso ordinamento utilizzato nella pagina di modifica degli attributi.

<!-- MC-41473-->

* La risposta al `{ category(id: 2){ children { name children { name } } } }` La richiesta di GraphQL ora include una struttura ad albero delle categorie ordinata correttamente.

<!-- MC-41030-->

* Il `CartItemPrices` L&#39;oggetto ora contiene il nuovo campo GraphQL `fixed_product_taxes`, che restituisce una matrice delle imposte sui prodotti fisse applicate a un articolo del carrello. In precedenza, le imposte sui prodotti fisse applicate a un articolo del carrello non venivano incluse nella query del carrello.

<!-- MC-40920-->

* Le richieste vuote a GraphQL ora generano il codice di risposta 200 invece di 500. In precedenza, il parser GraphQL generava un’eccezione prima della generazione del risultato della query.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* Il `applyRewardPointsToCart` mutation ora aggiorna il totale complessivo di un carrello per riflettere con precisione il valore dei punti premio dedotti. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* I prodotti disattivati non sono più inclusi nella risposta di GraphQL quando GraphQL viene utilizzato per collegare prodotti di upselling.

<!-- MC-40262-->

* I commercianti possono ora utilizzare il GraphQL `setShippingAddressesOnCart` metodo per impostare gli indirizzi di fatturazione e spedizione per il carrello di un acquirente quando il pagamento come ospite è disabilitato.

<!-- MC-39508-->

* Il `categoryList` query non genera più un’eccezione quando contiene più frammenti sul `CategoryTree` oggetto. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* GraphQL `product` query ora restituisce i prezzi corretti del gruppo di clienti.

<!-- MC-38822-->

* GraphQL `products` la risposta alla query ordina ora le aggregazioni in base alla posizione dell’attributo del prodotto.

<!-- ENGCOM-8462-->

* L’applicazione non genera più errori di tipo durante le query GraphQL quando i suffissi URL di prodotto e categoria contengono valori Null. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* Il `CustomizableDateValue` L&#39;oggetto ora contiene `type` attributo. Il relativo valore è un’enumerazione che può essere impostata su DATE, DATE_TIME o TIME.

<!--  magento/partners-magento2ee#421-->

* Il [`dynamicBlocks` query](https://devdocs.magento.com/guides/v2.4/graphql/queries/dynamic-blocks.html) restituisce il contenuto dei blocchi dinamici che corrispondono ai filtri specificati.

<!-- ENGCOM-8603-->

* Il POST `V1/products/special-price-delete` ora la richiesta elimina solo il prezzo con uno specificato `store_id` come previsto. In precedenza, la chiamata eliminava tutti i prezzi speciali per lo SKU specificato da tutti i negozi. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* È stato corretto un errore relativo al `country_code` attributo in `createGiftRegistry` mutazione.

<!-- magento/partners-magento2ee#280 -->

* Sono stati risolti dei problemi relativi al `giftRegistryUid` attributo del `updateGiftRegistryItems` mutazione.

<!-- magento/partners-magento2ee#280 -->

* È stato aggiunto un controllo aggiuntivo per impedire che `updateGiftRegistryRegistrants` mutazione dall&#39;essere utilizzata per aggiungere persone casuali come registranti a un registro di regali.

<!-- magento/magento2#31380 -->

* Il `addConfigurableProductsToCart` mutation ora restituisce la miniatura corretta del prodotto specificato. In precedenza, restituiva la miniatura del prodotto principale.

<!-- ENGCOM-8477-->

* Il `products` La query non espone più il prezzo speciale di un prodotto quando il periodo di prezzo speciale è impostato per una data futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* Il `customer` la risposta alla query ora include `total_giftcard` come parte del `OrderTotal` oggetto.

<!-- MC-41084 ENGCOM-9042 -->

* È stato corretto un problema che causava la `products` eseguire una query per restituire informazioni errate sui livelli di prezzo per gli articoli per i quali non è stato impostato il livello di prezzo. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Immagine

<!-- MC-38951-->

* È ora possibile impostare gli attributi di bundle required_options e has_options come previsto durante la creazione o l’aggiornamento di un prodotto di bundle utilizzando POST `/V1/product/:sku` endpoint. In precedenza, questi attributi personalizzati venivano impostati su 0 (zero) nonostante gli sforzi per impostarlo su 1 (uno).

### Importa/esporta

<!-- MC-41576-->

* Il filtro ID categoria per le entità prodotto nella griglia Attributi entità della pagina Esporta ora funziona come previsto.

<!-- MC-41439-->

* Lo stato delle scorte dei prodotti raggruppati ora viene aggiornato in base al previsto quando tutti i prodotti secondari sono esauriti. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* Lo stato configurabile delle scorte di prodotto viene ora aggiornato automaticamente come previsto quando lo stato delle scorte di prodotto figlio viene aggiornato dall’importazione. In precedenza, lo stato delle scorte dei prodotti non veniva aggiornato automaticamente quando lo stato delle scorte dei prodotti secondari veniva aggiornato tramite l’importazione.

<!-- MC-41151-->

* Ora puoi salvare valori vuoti in un’esportazione pianificata. In precedenza, l’applicazione aggiornava i valori dei filtri vuoti dopo la creazione o il salvataggio dell’esportazione. Entrambi `no` e `not specified` i valori erano rappresentati da zero nel database e da un valore di `not selected` è stato sostituito con `no`.

<!-- MC-41092-->

* Il processo di esportazione ora tiene conto dell’ambito del ruolo utente durante l’esportazione di prodotti, origini di magazzino ed entità cliente. In precedenza, il processo di esportazione ignorava l’ambito del ruolo utente, che consentiva l’esportazione di entità di esportazione del ruolo utente privato.

<!-- MC-40943-->

* L&#39;applicazione ora imposta la classe di imposta prodotto su `None` se un prodotto viene importato con `tax_class_name` valori `None` o `0`. Precedentemente, se `product tax_class_name` è stato `None` nel file CSV, l’applicazione ha creato una nuova classe fiscale `None`, che ha duplicato la classe fiscale esistente. Se `product tax_class_name` erano `0` nel file CSV, l’applicazione ha ignorato tale valore e la classe fiscale del prodotto non è cambiata dopo l’importazione.

<!-- MC-40898-->

* Ora gli amministratori possono modificare `name` di un pacchetto di prodotti `bundle_values` dall’amministratore. In precedenza, l’applicazione visualizzava il prodotto come esaurito sulla vetrina dopo aver modificato il nome da Amministratore. Anche i prodotti sono stati fusi con lo stesso SKU in un’unica sezione di bundle-option.

<!-- MC-40333-->

* L’applicazione ora tiene conto dell’ambito dell’utente durante l’esportazione dei dati dei clienti. In precedenza, quando si tentava di esportare i clienti, l’applicazione esportava i dati dei clienti da tutti i siti web.

<!-- MC-40305-->

* L’applicazione ora rimuove le relazioni tra up-sell, cross-selling e prodotti correlati durante l’importazione di file CSV come previsto quando `__EMPTY__VALUE__` è specificato nel file CSV.

<!-- MC-40012-->

* Esportazione di dati di indirizzi personalizzati per molti clienti (amministratore **Sistema** > **Esporta**) non causa più regolarmente un errore di memoria. In precedenza, durante l’esportazione dei dati degli indirizzi personalizzati, l’applicazione tentava di caricare tutti i dati del cliente, con conseguente esaurimento della memoria, e l’applicazione generava un errore di mancata allocazione della memoria.

<!-- MC-39977-->

* I prezzi dei livelli duplicati non vengono più importati durante il processo di importazione CSV predefinito. In precedenza, mancava la convalida per impedire l’importazione di prezzi di livello duplicati e, quando si verificavano prezzi di livello duplicati, gli esercenti non potevano salvare i prodotti. I commercianti hanno visto questo errore anche quando hanno provato a pianificare una modifica del prodotto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Tutte le immagini del prodotto vengono ora convalidate durante l’importazione. In precedenza, l’applicazione convalidava solo la prima immagine quando un prodotto aveva più immagini. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* È ora possibile eliminare un’area da un indirizzo del cliente come previsto durante l’importazione. In precedenza, l’area assegnata non cambiava quando un indirizzo del cliente veniva importato con un’area vuota.

<!-- MC-38810-->

* I prodotti con contenuti JSON o HTML come attributi di prodotto aggiuntivi ora vengono esportati correttamente in un file CSV. In precedenza, il file CSV conteneva stringhe di dati sovrapposte in campi non corretti.

### Indice

<!-- MC-39718 ENGCOM-8567-->

* Process Manager ora viene chiuso con un errore quando un processo figlio non riesce. In precedenza, Process Manager veniva sempre chiuso correttamente se il numero di funzioni passate (ad esempio, le dimensioni dell&#39;indicizzatore) era inferiore al valore del `MAGE_INDEXER_THREADS_COUNT` variabile di ambiente. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* I prodotti sono ora disponibili come previsto nei risultati della ricerca nella vetrina quando si collegano prodotti utilizzando un PUT REST `/V1/products/:sku/links` richiesta quando la modalità indicizzatore è impostata su **Aggiorna al salvataggio**.

<!-- MC-38310 magento/magento2#32693-->

* L&#39;indicizzatore regola prezzo catalogo ora funziona come previsto quando la modalità indicizzatore è impostata su **Aggiorna al salvataggio**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* L’eliminazione di una categoria disabilitata che non include un prodotto ora non ha alcun effetto sulla ricerca nel catalogo e sulle tabelle di indici flat della categoria. In precedenza, l’eliminazione di una categoria inattiva attivava una reindicizzazione completa. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Gli indicizzatori personalizzati possono ora utilizzare nomi di colonne di entità diversi per le sottoscrizioni. In precedenza, il trigger del database utilizzava il nome della colonna dell’ultimo indicizzatore impostato su **Aggiorna per pianificazione** anziché l’indicizzatore designato. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* L’applicazione non invia più richieste AJAX per ricaricare le sezioni dei dati del cliente (`Magento_Customer/js/section-config`) che non sono interessati dalla richiesta. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* I seguenti indicizzatori non vengono più invalidati dopo l’aggiunta, la rimozione o il riordine dei prodotti in una categoria: `catalog_category_product` e `catalogsearch_fulltext` (e le persone a loro carico). In precedenza, queste rimozioni involontarie attivavano la reindicizzazione completa dei siti. In queste condizioni, la reindicizzazione completa non è consentita se il catalogo flat non è abilitato.

### Infrastruttura

<!-- MC-41445-->

* La dipendenza `pelago/emogrifier` è stato aggiornato dalla versione 3.1.0 alla versione 5.0.0. Questo aggiornamento ha comportato l’introduzione di modifiche non compatibili con le versioni precedenti del `Magento\Email\Model\Template\Filter` classe. Il codice modificato viene eseguito durante il rendering dei modelli e-mail. Consulta [Riferimento BIC](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* È stato risolto un problema relativo a `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` che impediva il salvataggio di un nuovo prodotto.

<!-- MC-42199-->

* La libreria TinyMCE v3 obsoleta è stata rimossa. Il `Magento_Tinymce3Banner` I test di modulo e MFTF relativi a TinyMCE v3.x sono stati rimossi da Adobe Commerce.

<!-- MC-41497-->

* L’applicazione non genera più un `Invalid header value detected` Errore nel modulo Contattaci quando un acquirente immette un indirizzo email che contiene segni diacritici francesi (come &quot;é&quot;, &quot;è&quot;). L’applicazione ora converte le lettere UTF-8 nel nome utente in codifica ASCII. In precedenza, le lettere UTF-8 non venivano convertite in codifica ASCII nella sezione univoca dell’indirizzo e-mail.

<!-- MC-39947-->

* L&#39;applicazione non genera più un errore irreversibile PHP quando si aggiunge un plug-in a una classe padre. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Sono stati aggiornati i file README.md per i seguenti moduli: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` è stato aggiornato alla versione v6.0.3 per la compatibilità con PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid` è stato aggiornato per la compatibilità con PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` è stato aggiornato alla versione 1.4.4 per la compatibilità con PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* È stata corretta una combinazione non valida di tabulazioni e spazi in `phpstan.neon` file. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* È stato rimosso l&#39;uso della proprietà obsoleta `$_isScopePrivate` nella base di codice. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* I layout di pagina non sono più inseriti direttamente nel codice  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Di conseguenza, il `getPageLayouts()` La funzione ora restituisce l’elenco effettivo dei layout di pagina dichiarati dai diversi moduli come previsto. In precedenza, restituiva solo layout hardcoded. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* Il `composer.lock` Il file è stato aggiornato alla versione più recente di Coding Standard. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* È stata aggiunta una dipendenza mancante sul `web-token/jwt-framework` pacchetto per `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Sono stati aggiunti listener passivi al `fotorama.js` per migliorare il punteggio delle metriche di lighthouse. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Il file README.md per il modulo Google Analytics è stato aggiornato. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Gestione processi ora gestisce correttamente le eccezioni nei processi con fork. Il processo principale ora termina e l&#39;applicazione visualizza un messaggio di errore una sola volta. Inoltre, le eccezioni dai processi fork vengono ora gestite quando vengono generate nel processo principale. In precedenza, l’applicazione registrava più errori di indicizzazione e visualizzava più messaggi di errore.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* L&#39;applicazione non genera più un errore quando un plug-in viene aggiunto a una classe padre. (Il `optionsProvider` Il parametro ora è dichiarato dopo `getContentIdentities` in `Assest.php`.) In precedenza, l’applicazione generava questo errore:  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* In esecuzione `Magento\Framework\Filesystem\Io\Ftp::ls()` in una cartella vuota ora restituisce un array vuoto come previsto. In precedenza, l’applicazione generava questa eccezione: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* Il `update` sia per Ruolo che per Regole è stato contrassegnato come obsoleto in `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* La concatenazione per i parametri dei cookie SameSite è stata corretta. In precedenza, alla concatenazione errata veniva aggiunta la `lex` suffisso a `value`, `domain`, e altri parametri. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` è stato aggiornato alla versione 1.3.1 in tutta la base di codice. In precedenza, l’applicazione visualizzava questo errore:  `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* L&#39;applicazione visualizza ora più errori informativi quando si verificano errori in esecuzione `bin/magento` comandi in modalità di produzione. In precedenza, nell’applicazione non venivano visualizzati messaggi di errore o venivano visualizzati messaggi privi di informazioni. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* Il `ArrayIterator` L&#39;oggetto PHP è stato aggiornato per funzionare come previsto con PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* L&#39;applicazione non genera più un errore quando un cliente tenta di completare un ordine quando non sono disponibili vettori di spedizione. Viene invece visualizzata la pagina di pagamento e il seguente messaggio: `Sorry, no quotes are available for this order at this time`. In precedenza, l&#39;applicazione visualizzava una pagina di pagamento vuota e registrava questo messaggio nel registro eccezioni: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* L’applicazione non registra più ogni cookie come contesto separato. Il `$_COOKIE` anche l’array è stato convertito in una stringa. In precedenza, poiché ogni cookie veniva registrato come contesto separato, quando il numero di cookie superava i 50, l’applicazione registrava questo messaggio: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Fattura

<!-- ENGCOM-8472 -->

* Quando si creano nuove fatture nell&#39;amministratore, il **Copia e-mail di** La casella di controllo ora funziona come previsto. In precedenza, la casella di controllo veniva ignorata se l’impostazione globale per l’invio di e-mail di fattura era abilitata in **E-mail vendite**. È ora coerente e funziona allo stesso modo delle pagine di creazione delle note di spedizione e di credito. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Raccolta file multimediali

<!-- MC-41728-->

* `bin/magento media-gallery:sync` ora ha esito negativo come previsto quando si elaborano immagini PNG prive di informazioni XMP.

<!-- ENGCOM-8814-->

* Voci nel `catalog_product_entity_media_gallery` La tabella viene rimossa come previsto quando i prodotti correlati vengono eliminati. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* I dettagli delle immagini possono ora essere aggiornati in Media Gallery quando è abilitata la minimizzazione JavaScript. In precedenza, i dettagli dell’immagine non venivano salvati e l’applicazione visualizzava questo errore: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Le nuove funzionalità e le correzioni di bug di base di MFTF sono descritte nel [Finestra di dialogo Struttura test funzionali](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* Il `magento indexer:reindex` e `cache:flush` comandi e `AdminReindexAndFlushCache` il gruppo di azioni è stato rimosso dai test per migliorare l’esecuzione dei seguenti moduli: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal`, e `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` è stato aggiunto ai test per evitare errori. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* I test sono stati reimpostati con `StorefrontCheckQuickSearchStringActionGroup` e `StorefrontAssertProductNameOnProductMainPageActionGroup` (gruppi di azione esistenti). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Test refactoring

Per migliorare i tempi di esecuzione, sono stati reimpostati i seguenti test:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`  (sostituzione per obsoleto) `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Gruppi di azioni

Le azioni ripetitive sono state sostituite da gruppi di azioni in questi test:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Nuovi gruppi di azioni

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  (sostituisce il filtro della griglia dei prodotti con SKU e facendo clic sulla prima riga (per ridurre il tempo di esecuzione del test) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Gruppi di azioni eliminati

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Rimosso  `CliIndexerReindexActionGroup` (o valore modificato) dai test per migliorare il tempo di esecuzione per il `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`,  `Elasticsearch`,  `Elasticsearch6`,  `Indexer`, `LayeredNavigation`,  `LoginAsCustomer`,  `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`,  `Swatches`, `UrlRewrite`, `Weee`, e `Wishlist`moduli.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Rimosso `CliCacheFlushActionGroup` da `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee`, e `Wishlist` moduli.

### Newsletter

<!-- ENGCOM-8948 MC-40885-->

* L’applicazione non invia più l’e-mail della newsletter a un cliente a cui è stato annullato l’abbonamento alla newsletter nel periodo di tempo compreso tra la creazione della coda di newsletter e l’invio della newsletter. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* L’applicazione ora rispetta le impostazioni di abilitazione delle newsletter (**Negozi**  >  **Impostazioni**  >  **Configurazione**  >  **Clienti**  >  **Newsletter**  >  **Opzioni generali**). In precedenza, queste impostazioni venivano sempre recuperate dall’ambito predefinito nelle distribuzioni multi-store. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* Il GET di chiamata REST `/V1/customers/search` ora restituisce le informazioni corrette per i clienti abbonati a più newsletter. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* Lo stato di memorizzazione in cache dell’abbonamento è stato rimosso dal plug-in per le newsletter. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Ordine

<!-- MC-40963-->

* L&#39;applicazione ora calcola correttamente un saldo cliente fatturato quando restituisce il credito del negozio a un conto cliente per un ordine parzialmente fatturato.

<!-- ENGCOM-8710-->

* L&#39;applicazione ora salva un ordine modificato come previsto quando salva un saldo cliente rimborsato. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Metodi di pagamento

<!-- MC-41525-->

* L’applicazione ora esegue il rendering dei blocchi di pagamento in `frontend` indipendentemente dall’area da cui è stata inviata l’e-mail. (L’area corrente viene ora emulata come `frontend` prima che venga eseguito il rendering del blocco di pagamento). In precedenza, i blocchi di pagamento venivano visualizzati nell’area da cui veniva inviata l’e-mail. Di conseguenza, indipendentemente dal fatto che l’e-mail di vendita sia stata attivata dall’amministratore o dall’API REST, gli URL delle risorse hanno tentato di caricarle dall’area errata (`webapi_rest` o `adminhtml`).

<!-- MC-40810-->

* L’applicazione ora invia il collegamento di un prodotto scaricabile all’indirizzo e-mail specificato durante il pagamento. In precedenza, quando un acquirente ospite utilizzava PayPal Express Checkout e inseriva diversi indirizzi e-mail per inviare l’ordine e ritirare, l’applicazione inviava il link del prodotto scaricabile al primo indirizzo.

<!-- MC-38051-->

* L&#39;applicazione visualizza ora un valore preciso per il credito del negozio disponibile nella pagina Metodo di pagamento nelle distribuzioni che supportano più valute.

<!-- MC-37820-->

* L&#39;elenco dei metodi di pagamento viene ora aggiornato come previsto quando un acquirente ospite cambia l&#39;indirizzo di spedizione di un ordine in un altro paese durante il pagamento. In precedenza, la modifica dell’indirizzo di fatturazione non attivava un aggiornamento dei possibili metodi di pagamento.

#### PayPal

<!-- MC-39895-->

* Gli acquirenti possono ora effettuare il check-out di un ordine PayPal Payflow Pro con un indirizzo di spedizione che contiene caratteri speciali. In precedenza, l&#39;applicazione rifiutava il pagamento per questi ordini.

<!-- MC-39861-->

* Gli acquirenti vengono ora reindirizzati alla pagina di successo dell&#39;ordine dopo un pagamento eseguito con successo tramite PayPal. In precedenza, gli acquirenti venivano reindirizzati a una pagina vuota perché i dati della sessione andavano persi.

### Prestazioni

<!-- MC-41647-->

* Sono state migliorate le prestazioni della ricerca SKU di amministrazione in cataloghi di grandi dimensioni. Gli hint di Query Optimizer ora forzano l’utilizzo dell’indice durante l’esecuzione della query.

<!-- MC-41440-->

* L&#39;esecuzione del  `catalog_product_alert` Il processo cron in esecuzione su tabelle di grandi dimensioni (diverse milioni di righe) è stato migliorato. Precedentemente, `catalog_product_alert` sono stati caricati tutti gli avvisi sul prodotto che hanno causato un&#39;eccezione per memoria insufficiente.

<!-- ENGCOM-8752-->

* L’applicazione non carica più tutte le pagine CMS quando è necessaria una sola pagina di modifica per eseguire il rendering di un modulo amministratore.  Queste pagine ora vengono caricate più rapidamente. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Valori numerici in `WHERE IN` Le espressioni vengono ora inserite come numero, non come stringa, il che migliora le prestazioni delle query in alcune versioni di MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* Il `use_application_lock` consente di abilitare la reindicizzazione utilizzando variabili di ambiente o configurando `app/etc/env.php` file. Non è più necessario reimpostare manualmente l’indicizzatore dopo un errore con questa modalità abilitata. Se questa modalità non è abilitata, è necessario reimpostare manualmente l&#39;indicizzatore dopo un errore. Consulta [Utilizzo della modalità di blocco dell’applicazione per i processi di reindicizzazione](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Prezzi

<!-- MC-41767-->

* L’applicazione ora aggiorna correttamente il prezzo di un prodotto con prezzi raggruppati quando un acquirente aggiorna la quantità di prodotto sul vetrina. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* Ora è possibile salvare i prodotti in bundle quando ai prodotti è stato assegnato un prezzo di livello e `Magento\Framework\Api\ExtensibleDataObjectConverter` viene utilizzato per convertire i dati del prodotto. Precedentemente, quando `Magento\Framework\Api\ExtensibleDataObjectConverter` è stato utilizzato per convertire i dati di prodotto in un array quando un prodotto è stato salvato, l’applicazione non ha salvato il prodotto e ha visualizzato questo errore: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* Gli aggiornamenti dei prezzi pianificati vengono ora applicati ai prodotti già presenti nel carrello. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* Il prezzo di livello ora viene applicato a un prodotto come previsto quando gli incrementi di quantità sono abilitati e le scorte decimali sono inferiori a 1. In precedenza, la quantità minima del prezzo del livello era impostata su 1.

### Video del prodotto

<!-- MC-39755-->

* Ora puoi utilizzare la **Aggiungi video** (Admin **Catalogo** > **Prodotti**) per aggiungere consecutivamente diversi video. In precedenza, i campi video contenevano i dettagli del video precedente.

<!-- MC-40817-->

* L’accesso alla modalità a tutto schermo per un video di prodotto su una pagina di prodotto ora funziona come previsto sui dispositivi mobili. In precedenza, l’accesso alla modalità a schermo intero causava una pausa del video prima dell’uscita dalla modalità a schermo intero.

<!-- MC-39759-->

* Pulsanti freccia di spostamento (**Successivo** e **Precedente**) sono ora visibili come previsto nei video dei prodotti della vetrina.

<!-- MC-40463-->

* Gli esercenti possono ora aggiungere video Vimeo utilizzando **Inserisci video** sulla pagina del prodotto come previsto. In precedenza, l’applicazione mostrava un errore 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Citazione

<!-- MC-39531-->

* Il `/V1/guest-carts/examplecartid/items` call ora restituisce la vista store richiesta. In precedenza, restituiva la prima visualizzazione dello store nello store, non quella richiesta.

<!-- MC-33893 ENGCOM-8992-->

* L&#39;invio delle fatture è ora configurabile. In precedenza, l&#39;invio delle fatture non era configurabile e l&#39;applicazione inviava sempre una fattura dopo la sua creazione. Le e-mail di ordini e fatture venivano inviate nell’ambito di un osservatore. Osservatori separati ora governano l&#39;invio di e-mail di ordine e di fattura. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Rapporti

<!-- MC-39737-->

* Data dell’ultima revisione in Admin **Rapporti** > **Recensioni** > **Per prodotti** ora visualizza la data di revisione corretta. In precedenza, l’applicazione visualizzava la data di creazione del prodotto invece della data di revisione.

### Recensioni

<!-- MC-40116-->

* Le stelle di valutazione del prodotto ora vengono calcolate correttamente nella sezione Dettagli revisione della pagina Il mio account.

<!-- MC-39763-->

* Le sezioni Valutazione media del prodotto e Valutazioni del prodotto della pagina dei dettagli di revisione del prodotto ora vengono riprodotte correttamente. In precedenza, l’ID di revisione non veniva impostato quando l’applicazione calcolava la valutazione della vetrina e il modello di revisione del prodotto non veniva renderizzato correttamente.

<!-- MC-36149-->

* Il **Recensisci per primo questo prodotto** link ora cambia come previsto in review count (conteggio revisioni) dopo che un amministratore ha approvato una revisione.

<!-- ENGCOM-8501 MC-30270-->

* Ora gli amministratori possono ordinare le revisioni dei prodotti nella sezione Revisioni dei prodotti della pagina di modifica dei prodotti come previsto. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* Le recensioni vengono ora salvate con l&#39;ID archivio corretto dopo che un amministratore approva e salva la revisione da un dominio diverso rispetto all&#39;archivio. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Premi

<!-- MC-39820-->

* L&#39;applicazione ora aggiorna l&#39;elenco dei metodi di pagamento quando un acquirente effettua il check-out con più indirizzi o controlla o deseleziona il **Credito store (punti premio)** opzione.

### Vendite

<!-- MC-39796-->

* Gli utenti amministratori possono ora effettuare ordini per articoli esauriti quando **Gli ordini inevasi sono consentiti** l&#39;impostazione è abilitata (**Negozi** > **Configurazione** > **Catalogo** > **Inventario** > **Opzioni magazzino prodotto**). In precedenza, l’applicazione generava un errore.

<!-- MC-42280-->

* Ora gli acquirenti possono trovare un ordine nella pagina Ordini e restituzioni quando il cognome termina con uno spazio vuoto.

<!-- MC-41438-->

* Le fatture vengono ora create con il totale complessivo corretto quando una regola di prezzo del carrello che assegna uno sconto del 100% viene applicata a un ordine che è anche soggetto alle imposte sui prodotti del catalogo e allo sconto e che è idoneo per la spedizione gratuita. In precedenza, l’ordine aveva il prezzo corretto, ma la fattura non lo aveva. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Il filtraggio degli ordini per data ora restituisce risultati precisi. In precedenza, l’applicazione non restituiva un ordine effettuato dopo le 00:00 UTC quando si filtravano gli ordini per data.

<!-- MC-40030-->

* Nella griglia della nota di accredito viene ora visualizzato il simbolo di valuta corretto quando **Sito Web** ambito utilizzato per un **Prezzo** in una distribuzione multi-store.

<!-- MC-40013-->

* I pulsanti di scelta Metodi di pagamento non scompaiono più nella sezione Informazioni su pagamento e spedizione del flusso di lavoro di pagamento dopo il ricaricamento della pagina Crea nuovo ordine dell&#39;amministratore. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* Il testo in arabo viene ora visualizzato correttamente nelle fatture.

<!-- MC-39864-->

* L&#39;applicazione ora calcola correttamente i totali parziali delle imposte della nota di accredito per le note di accredito basate su un ordine o su una fattura in negozi che distribuiscono PayPal Payment Pro come gateway di pagamento. In precedenza, per gli ordini con più fatture, l&#39;applicazione applicava l&#39;intera imposta di tale ordine per l&#39;annullamento parziale della fattura nella nota di accredito.

<!-- MC-39521 ENGCOM-8528-->

* L’applicazione non crea più deadlock casuali del database durante l’invio di e-mail di nuovi ordini ai clienti. In precedenza, si verificavano deadlock perché l&#39;applicazione salvava l&#39;intero oggetto e gli oggetti correlati anziché le colonne SQL aggiornate. L’applicazione ha visualizzato questo tipo di errore: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* Nella pagina dei dettagli dell&#39;ordine di storefront viene ora visualizzata la quantità di prodotto spedita corretta. In precedenza, le quantità dei prodotti non erano corrette perché veniva visualizzato il modello per la pagina Spedizione ordine **Qtà spedita** come `int`. Questo è stato modificato in `float`.

<!-- MC-39026-->

* L&#39;applicazione non invia più tramite posta elettronica copie di una fattura dell&#39;ordine quando **Copia e-mail della fattura** è deselezionato. In precedenza, l’applicazione inviava un messaggio e-mail a **Cliente** e **Invia copia e-mail fattura a**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* L&#39;applicazione non crea più voci di indirizzo duplicate per un account cliente durante la creazione di un nuovo ordine dall&#39;amministratore per un cliente esistente. Il **Salva nella Rubrica** è stata rinominata in **Aggiungi alla Rubrica** e ora è deselezionato in Amministratore per impostazione predefinita.

<!-- MC-38834-->

* L’applicazione ora utilizza il logo caricato in **Logo per la visualizzazione Stampa di HTML** quando gli acquirenti stampano un ordine dal loro account. In precedenza, l’applicazione visualizzava il logo LUMA invece del logo caricato.

<!-- MC-38625-->

* Il cercapersone degli articoli in vetrina ora funziona come previsto quando il numero di articoli supera i 20. In precedenza, il cercapersone prendeva in considerazione i prodotti secondari e il conteggio totale non era corretto.

<!-- MC-23915 ENGCOM-8713-->

* L&#39;applicazione visualizza ora i simboli di valuta corretti per i subtotali e i valori di spedizione e gestione nelle griglie delle pagine Ordine e Nota di credito. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Ora gli amministratori che utilizzano Safari possono aggiungere correttamente un prodotto a un ordine dell’amministratore. In precedenza, quando l’amministratore faceva clic su **Aggiungi prodotti selezionati all&#39;ordine** , l&#39;applicazione ha visualizzato l&#39;icona di caricamento in rotazione e la pagina è stata bloccata.

### Regola di vendita

<!-- MC-40671-->

* L’applicazione ora applica le regole di prezzo del carrello con **Sconto quantità massima applicato a** o **Incremento Qtà Sconto (Acquista X)** condizioni correttamente quando più regole di prezzo del carrello vengono applicate al carrello. Precedentemente, se una regola del prezzo del carrello con **Sconto quantità massima applicato a** o **Incremento Qtà Sconto (Acquista X)** è stato applicato dopo un’altra regola di prezzo del carrello, lo sconto totale è stato ridotto al valore configurato per **Sconto quantità massima applicato a** o **Incremento Qtà Sconto (Acquista X)** volte il prezzo del prodotto.

<!-- MC-39827-->

* Il rapporto Coupon ora riflette accuratamente l’attività del coupon nelle distribuzioni in cui viene implementato un database suddiviso.

<!-- MC-39477-->

* Regole di prezzo del carrello che contengono la condizione Categoria **NON È** vengono ora applicati come previsto ai prodotti secondari/semplici configurabili che non sono assegnati a una categoria, ma ai cui prodotti principali vengono assegnati.

<!-- MC-39034-->

* GraphQL `cart` query ora restituisce il totale complessivo corretto per la fase di fatturazione di un carrello quando viene applicato un coupon all’ordine.

### Ricerca {#search-heading}

<!-- MC-41138-->

* La pagina delle categorie non contiene più i seguenti ID di elementi HTML duplicati: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* I risultati della ricerca parziale per parola non includono più corrispondenze impreviste o irrilevanti e le ricerche producono risultati coerenti sia nella vetrina che nell’amministratore. L’applicazione ora utilizza un analizzatore diverso senza uno stemmer per le ricerche parziali di parole. In precedenza, i risultati della ricerca mostravano prodotti che non includevano parole chiave di ricerca. (L’analizzatore predefinito includeva in precedenza uno stemmer e, poiché lo stesso analizzatore veniva utilizzato al momento della ricerca parziale di parole, il risultato della ricerca poteva produrre corrispondenze impreviste o irrilevanti).

<!-- MC-40715-->

* La ricerca rapida ora restituisce i risultati se la query di ricerca contiene più parole e il nome del prodotto è configurato come non ricercabile. In precedenza, se il nome del prodotto era configurato come non ricercabile, l’applicazione generava un’eccezione di query sulle query di ricerca con più parole.

<!-- MC-40672-->

* I risultati della ricerca ora includono `weight` attributo previsto quando è configurato come ricercabile.

<!-- MC-40409-->

* L’applicazione non genera più un errore quando si visualizza una pagina categoria vuota con l’Elasticsearch abilitato. Viene invece eseguito il rendering della pagina come previsto e viene visualizzato un messaggio informativo. In precedenza, un indice full-text vuoto attivava un’eccezione in una pagina categoria.

<!-- MC-40376-->

* La funzione di completamento automatico dei campi di ricerca ora funziona come previsto se un acquirente fa clic all’esterno del campo di ricerca dopo aver iniziato la ricerca. I suggerimenti di completamento automatico vengono ora visualizzati nuovamente quando l&#39;acquirente riprende a digitare. In precedenza, l’applicazione non visualizzava suggerimenti di completamento automatico e facendo clic nella casella di ricerca i suggerimenti di ricerca non venivano più visualizzati (anche se digitando lettere aggiuntive).

<!-- MC-34217-->

* La ricerca di un prodotto in base al relativo SKU completo o parziale in Ricerca avanzata ora restituisce il prodotto previsto.

<!-- MC-31395-->

* I filtri di navigazione a livelli ora visualizzano conteggi accurati dei prodotti. In precedenza, i valori del conteggio dei prodotti di Elasticsearch non venivano filtrati dalle autorizzazioni del catalogo.

<!-- MC-23881 ENGCOM-8618-->

* L’Elasticsearch non genera più un errore quando il parametro di pagina dell’URL della categoria supera l’impaginazione. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* Ora puoi aggiungere un mappatore di campi di Elasticsearch personalizzato a `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`.

<!-- ENGCOM-9029 MC-24026-->

* Ora gli sviluppatori possono modificare le mappature Elasticsearch. In precedenza, i modelli dinamici inviati al server Elasticsearch nelle mappature predefinite erano hardcoded, impedendo agli sviluppatori di indicizzare in Elasticsearch eventuali dati aggiuntivi associati a un modulo personalizzato.

<!-- ENGCOM-8464 -->

* I campi di ricerca (ricerca minisearch modulo) ora funzionano come previsto quando i suggerimenti di ricerca sono disabilitati.

### Spedizione

<!-- MC-41464-->

* L’applicazione ora aggiorna il prezzo di spedizione come previsto quando un acquirente torna alla pagina del carrello dopo aver eliminato un prodotto durante il pagamento con più indirizzi.

<!-- MC-41343-->

* L&#39;applicazione visualizza ora il prezzo di spedizione corretto quando alcuni articoli nel carrello sono idonei per la spedizione gratuita. In precedenza, quando un sottoinsieme di articoli nel carrello soddisfaceva le condizioni per la spedizione gratuita, l’applicazione non regolava il prezzo di spedizione e mostrava il prezzo di spedizione completo all’acquirente.

<!-- MC-41186-->

* Gli utenti amministratori che sono limitati a un sito web specifico ora possono creare una spedizione per un ordine effettuato sullo stesso sito web. In precedenza, l’applicazione generava questa eccezione quando un utente amministratore che non disponeva delle autorizzazioni necessarie per la visualizzazione predefinita dello store tentava di spedire un ordine inserito in una visualizzazione dello store a cui l’utente amministratore aveva accesso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* L&#39;applicazione ora prende in considerazione gli sconti pertinenti regola di prezzo del carrello quando si stabilisce se un ordine soddisfa le condizioni per spedizione gratuita DHL.

<!-- MC-40702-->

* Le etichette di spedizione ora utilizzano la valuta di base prevista invece della valuta dell&#39;ordine per i negozi che supportano più valute quando un ordine viene inserito in una valuta non di base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678-->

* L’applicazione ora visualizza il subtotale dell’ordine corretto quando un acquirente ritorna alla pagina del carrello durante il pagamento dopo essere uscito dalla pagina di spedizione multipla. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* La modifica delle informazioni di fatturazione durante la creazione dell&#39;ordine amministratore non modifica più le informazioni di spedizione per i clienti con indirizzi di spedizione e fatturazione predefiniti diversi. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* L’applicazione non deseleziona più il **Aggiungi commenti** casella di controllo quando un acquirente fa clic su **Ottieni i metodi e le tariffe di spedizione** e seleziona un metodo di spedizione durante la creazione di un ordine dall’amministratore.

<!-- MC-36425-->

* Gli acquirenti possono ora utilizzare il pulsante Indietro del browser per tornare alla pagina Seleziona metodo di spedizione durante il check-out di un ordine con più indirizzi. In precedenza, nell&#39;applicazione veniva visualizzata la pagina Seleziona metodo di spedizione danneggiata. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* La quantità di prodotto ora rimane invariata come previsto dopo che un acquirente ha modificato la quantità nella pagina Spedisci a più indirizzi e ha fatto clic sul pulsante Indietro del browser.

<!-- ENGCOM-9096-->

* Le spese del metodo di spedizione a tariffa fissa non diventano più pari a zero quando viene applicata una regola del prezzo del carrello durante il pagamento. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* L&#39;applicazione non genera più un errore quando un commerciante tenta di spedire un ordine utilizzando DHL quando **Crea etichetta di spedizione** la casella di controllo è attivata e il nome del prodotto contiene caratteri unicode. In precedenza, l’applicazione visualizzava questo errore durante la richiesta di creazione dell’etichetta: `The response is in wrong format`.

<!-- ENGCOM-8952 -->

* È possibile ordinare dall’amministratore una distribuzione multisito in cui `United States` è abilitato su un sito Web e`Disable all countries` è abilitato come ambito predefinito sull&#39;altro sito Web. In precedenza, l’applicazione non effettuava l’ordine e visualizzava questo errore: `Please check the shipping address information. "regionId" is required. Enter and try again`.

### Archivia

<!-- MC-40538-->

* L’applicazione non tratta più una stringa di `0` come valore vuoto durante la visualizzazione della home page di un negozio. In precedenza, l’applicazione considerava un valore intero all’inizio di un percorso di richiesta come un ID store, con effetti indesiderati sulla SEO.

<!-- MC-40313-->

* Plugin per `\Magento\Framework\App\ActionInterface` in `lib/internal/Magento/Framework/App/Action/Plugin` sono state rimosse per mantenere la regola secondo cui i plug-in devono essere utilizzati per personalizzare il comportamento di un modulo da un altro modulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* L’applicazione ora visualizza questo messaggio quando tenti di selezionare `Website` come impostazione predefinita quando `Store View` è disabilitato durante la creazione del sito web: `Please enable your Store View before using this Web Site as Default`. In precedenza, il sito web si bloccava e l’applicazione non visualizzava un avviso.

### Imposta

<!-- MC-39571-->

* L&#39;applicazione ora prende in considerazione l&#39;imposta nascosta durante la convalida dell&#39;importo minimo dell&#39;ordine.

<!-- MC-38025 ENGCOM-8612-->

* L’applicazione ora visualizza le imposte fisse sui prodotti (FPT, Fixed Product Taxes) come previsto quando un acquirente torna al carrello e procede al pagamento dopo l’aggiunta dei bundle di prodotti al carrello. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* L’applicazione ora precompila il **Partita IVA** campi di input per gli indirizzi di fatturazione e spedizione della sezione Informazioni indirizzo della pagina Nuovo ordine amministratore con numeri IVA salvati quando un amministratore crea un ordine per un cliente esistente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* L’applicazione ora visualizza un **Partita IVA** nella pagina di registrazione del cliente quando `customer/create_account/vat_frontend_visibility` è abilitato.

### Test

<!-- MC-41393-->

* Gli ambienti di test sono stati aggiornati a Redis 6.0.12.

<!-- ENGCOM-8529-->

* Rimosso `CacheCleaner::cleanAll();` da integration test.

<!-- ENGCOM-8898-->

* È stato aggiunto un test per questo scenario: gli utenti amministratori possono modificare un account cliente quando il cliente è abbonato a una newsletter in coda.

<!-- ENGCOM-8484-->

* È stato rimosso il `cache:flush` comando dai test per migliorare il tempo di esecuzione per `Catalog`, `CatalogUrlRewrite`, e `LoginAsCustomer` moduli.

<!-- ENGCOM-8499-->

* I parametri ridondanti sono stati rimossi e il POST è stato modificato in GET dove necessario in `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* Nella pagina di accesso del cliente questo messaggio non viene più visualizzato quando **Sposta il codice JS nella parte inferiore della pagina** impostazione (**Archivia** > **Configurazioni** > **Avanza** > **Sviluppatore** > **Impostazioni JavaScript**) e i cookie sono entrambi abilitati: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* I collegamenti dell’account nelle intestazioni ora seguono gli standard WCAG. In precedenza, i collegamenti degli account nelle intestazioni contenevano ID duplicati, che impedivano la convalida WCAG.

<!-- MC-40278-->

* L&#39;applicazione ora assegna priorità alla configurazione dello store per un&#39;immagine del logo dello store rispetto alla configurazione del layout. In precedenza, le dimensioni delle immagini del logo venivano corrette e non variavano in base al negozio.

<!-- MC-35227-->

* L’applicazione ora visualizza gli elementi di pagina in modo coerente sulle pagine di vetrina che utilizzano temi di Magento Open Source standard. In precedenza, non tutti gli stili venivano applicati al tema vuoto, pertanto non tutti gli elementi di pagina venivano visualizzati nelle pagine che utilizzavano questo tema. Nel campo di ricerca della pagina Ordini personali, ad esempio, non era presente alcuna icona di ingrandimento.

### Traduzione e lingue

<!-- MC-23553-->

* Le parentesi che vengono aggiunte alle stringhe non hanno più l’escape quando viene configurata la traduzione in linea. Precedentemente, il `escapeHtmlAttr` il metodo ha convertito le parentesi in codici entità HTML.

<!-- ENGCOM-8694-->

* Le frasi non traducibili nell’Amministratore ora sono traducibili. Questa richiesta di pull contribuisce agli sforzi continui per rendere tutte le stringhe di amministrazione localizzabili. [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Stringhe di testo nel modello utilizzate per gestire i metodi di pagamento memorizzati (**Il mio account**  >  **Metodi di pagamento memorizzati** ) sono ora traducibili.

<!-- MC-30798 ENGCOM-8717-->

* Le e-mail di ordine inviate dall’amministratore ora utilizzano le impostazioni locali dell’archivio e non le impostazioni locali associate all’account dell’amministratore.

### UI

<!-- MC-41784-->

* Nel piè di pagina Amministratore viene ora visualizzata la versione corretta del prodotto.

<!-- MC-41067-->

* L’impaginazione per le origini è ora presente come previsto durante la creazione della spedizione da parte dell’amministratore.

<!-- MC-40240-->

* Il filtro della griglia di prodotto ora funziona correttamente quando si utilizzano attributi di data personalizzati per filtrare i prodotti e le impostazioni locali dell’utente amministratore sono `en_GB`.

<!-- MC-39279-->

* I gesti di zoom e pizzicamento ora funzionano come previsto nella lente di ingrandimento della galleria di immagini della pagina del prodotto sui dispositivi iOS.

<!-- MC-38787-->

* L’impaginazione dei risultati della ricerca nella griglia dei prodotti Admin ora inizia dalla pagina 1 per ogni ricerca come previsto.

<!-- MC-38423-->

* Sono state risolte le anomalie con la visualizzazione del carrello quando è ingrandito. In precedenza, gli elementi di visualizzazione si sovrapponevano quando la pagina veniva ingrandita.

<!-- MC-38226-->

* La pagina di revisione dell&#39;ordine visualizzata durante il pagamento con PayPal Express Checkout ora viene caricata correttamente. In precedenza, il modello conteneva il non utilizzato **Aggiorna metodo di consegna** che è stato solo parzialmente nascosto dallo script durante il rendering della pagina.

<!-- MC-37941-->

* Le stelle di valutazione e il testo di revisione nella sezione Customer Reviews della pagina del prodotto ora sono distanziati correttamente quando sono presenti nomi di valutazione lunghi.

<!-- MC-37688-->

* Le opzioni vengono ora visualizzate come previsto nell&#39;elenco a discesa Azioni nelle pagine Archivia fatture, Spedizioni e Note di credito.

<!-- MC-23729  magento/magento2#31549-->

* L&#39;applicazione ora visualizza un valore di ora corretto quando `datetime` componente `timeOnly` è impostata su **sì**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* Ora puoi rimuovere un aggiornamento del layout dopo aver creato un nuovo widget su Admin **Contenuto** > **Widget**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* Il **Rimuovi aggiornamento layout** ora funziona come previsto su qualsiasi layout aggiunto da Admin **Contenuto** > **Widget**. In precedenza, questo pulsante non funzionava con layout diversi dal primo selezionato quando si aggiungevano più layout. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* L&#39;applicazione ora utilizza il titolo della pagina impostato nel file di layout come titolo della pagina del browser per il file di modifica dell&#39;account del cliente. Precedentemente, il `Magento\Customer\Controller\Account\Edit` l&#39;azione del controller ha applicato il valore del titolo della pagina a `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* Sono state aggiunte alle pagine le caselle di controllo che consentono ai commercianti di alternare tra la visualizzazione e la visualizzazione delle password:
   * Accesso cliente
   * Registrazione cliente
   * Modifica del cliente (sezione Modifica password)
   * Nuova password impostata dal cliente [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* È stata rimossa un’intestazione ridondante nelle celle della griglia visualizzata quando un amministratore aggiungeva un prodotto a un set di prodotti raggruppati dopo aver modificato il set di attributi. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* L’applicazione ora visualizza un `DateRange` filtrare in base all&#39;area Accesso del **Cliente**  >  **Login** pagina. In precedenza, l’applicazione visualizzava un `Text` filtro. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* JavaScript è stato rimosso dai file modello e spostato in file separati per ridurre i problemi di rendering sulle pagine di amministrazione. In precedenza, il rendering delle pagine di amministrazione non veniva eseguito correttamente nelle distribuzioni in cui era stata abilitata la minimizzazione di HTML. L’applicazione ha visualizzato questo errore: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* Il `dropdownDialog` Il widget ora carica solo il trascinabile e ridimensionabile `jquery-ui` pezzi di cui ha bisogno. In precedenza, caricava grandi quantità di codice non necessario, il che aumentava il tempo di caricamento e riduceva le prestazioni. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Riscritture URL

<!-- MC-41550-->

* Le riscritture dell’URL del prodotto per un sito web specifico in una distribuzione multisito ora vengono generate come previsto dopo l’assegnazione dei prodotti a un sito web tramite aggiornamento in blocco.

<!-- MC-40780 magento/magento2#32598-->

* L’applicazione ora genera correttamente il percorso URL per le categorie figlio quando **Usa valore predefinito** La casella di controllo per la chiave URL è abilitata per la categoria padre. In precedenza, lo spostamento di una categoria nella gerarchia causava un errore `url_path` quando si utilizzano chiavi URL diverse in una distribuzione di visualizzazione multischermo. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* L’applicazione ora aggiorna la `url_path` della categoria assegnata a tutti gli ambiti dell&#39;archivio quando si sposta una categoria nella gerarchia delle categorie. In precedenza, lo spostamento di una categoria nella gerarchia causava un errore `url_path`.

<!-- MC-39463-->

* I reindirizzamenti URL creati dall’amministratore utilizzando un URL personalizzato ora funzionano correttamente. In precedenza, GraphQL memorizzava nella cache la risposta di un GraphQL `urlResolver` e ha restituito il vecchio valore dopo l’aggiornamento di riscrittura dell’URL.

<!-- MC-38931  magento/magento2#31106-->

* Le riscritture dell’URL del prodotto vengono ora rimosse come previsto quando un prodotto viene rimosso da un sito web. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* È stato aggiunto un `main_table` riferimento al `store_id` nel `addStoreFilter` funzione del `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` raccolta. In precedenza, si verificavano problemi ogni volta che `join` viene aggiunto alla raccolta in una tabella che contiene anche un elemento `store_id` colonna. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* Il `PUT /V1/products/:sku` L’endpoint REST rigenera ora l’URL del prodotto come previsto. In precedenza, l’endpoint rigenerava il prodotto `url_key` valori ma non URL riscrive. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Utente

<!-- MC-40777-->

* Ora puoi salvare un nuovo ruolo utente efficace (Amministratore **Sistema** > **Autorizzazioni** > **Ruoli utente**) con tutto `Catalog` albero selezionato escluso `Edit Product Design` ( **Catalogo** > **Inventario** > **Prodotti** > **Modifica progettazione prodotto**). In precedenza, l’applicazione non salvava le modifiche apportate da un utente con questo ruolo e mostrava questo errore: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* L’applicazione ora utilizza il modello e-mail personalizzato corretto durante la generazione dei messaggi e-mail per i nuovi utenti amministratori. In precedenza, l’applicazione utilizzava il vecchio modello predefinito, in cui venivano omessi il nome e il cognome dell’amministratore.

<!-- MC-38122-->

* L’applicazione ora utilizza il modello e-mail corretto per l’invio di e-mail a nuovi utenti. In precedenza, l’applicazione utilizzava il modello predefinito anche quando era selezionato un modello personalizzato.

### VersionCMS

<!-- MC-39953-->

* L’applicazione ora applica il tema corretto a una pagina CMS dopo averne modificato il layout. In precedenza, l’applicazione cambiava il tema assegnato in Luma dopo aver salvato le modifiche al layout, indipendentemente dal tema assegnato alla pagina.

### Video

<!-- MC-42059 ENGCOM-9039-->

* I video sono ora disponibili nella galleria di prodotti come previsto quando viene abilitato e utilizzato il bundling JavaScript avanzato. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* I video di YouTube per i prodotti semplici che appartengono a un prodotto configurabile ora funzionano come previsto. In precedenza, le immagini venivano ordinate per ID anziché per posizione. Di conseguenza, alcuni video sono stati trattati come immagini. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Framework API web

<!-- MC-41758-->

* L’API Catalogo ora aggiorna correttamente i valori delle opzioni personalizzate di un prodotto aggiungendo nuovi valori e rimuovendo quelli precedenti. In precedenza, l’API non eliminava i vecchi valori.

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` ora restituisce l’ID indirizzo come numero intero, non come stringa.

### Widget

<!-- MC-39128-->

* Ora un amministratore può eliminare tutti gli aggiornamenti del layout di un widget. In precedenza, quando un widget disponeva di più aggiornamenti del layout, un amministratore poteva eliminare solo il primo.

<!-- MC-39107-->

* Facendo clic su **Aggiungi al carrello** sul widget del prodotto non si verifica più un ricaricamento della pagina. Precedentemente, facendo clic su **Aggiungi al carrello** in un widget di prodotto ha causato il ricaricamento di una pagina corrente prima che il prodotto fosse aggiunto al carrello.

### Lista dei desideri

<!-- MC-40651-->

* L’applicazione non ripristina più le impostazioni di configurazione di un prodotto configurabile quando fai clic su **Modifica elemento** per il prodotto da una lista dei desideri. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* L’applicazione ora visualizza il prezzo corretto del prodotto quando aggiorni un prodotto con un’opzione di file personalizzabile nella lista dei desideri. In precedenza, l’applicazione visualizzava il prezzo del prodotto errato e non mostrava un collegamento al file caricato.

<!-- MC-39060-->

* Il numero totale di prodotti in una lista desideri per un cliente con più liste desideri ora corrisponde al numero di elementi nella lista desideri. In precedenza, i prodotti esauriti venivano inclusi nel conteggio totale dei prodotti.

<!-- MC-36779 magento/magento2#31110-->

* L&#39;applicazione ora rimuove un prodotto da una lista dei desideri dopo averlo aggiunto a un ordine. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Gli acquirenti possono ora aggiungere i prodotti correlati al carrello da una lista dei desideri. In precedenza, quando un acquirente faceva clic su, l’applicazione aggiungeva solo il prodotto configurabile, non il prodotto configurabile e i relativi prodotti **Seleziona tutto** collegamento della sezione Prodotti correlati. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemi noti

**Problema**: _Errore JavaScript quando reCAPTCHA è disabilitato_. Se reCAPTCHA è disabilitato per l’estrazione, l’estrazione procede, ma l’applicazione visualizza un `Uncaught TypeError` nel registro della console.  Questo problema verrà risolto in una versione successiva. <!-- MC-42589 42649-->

**Problema**: _Errore nell’informativa sulla sicurezza dei contenuti_. La vetrina visualizza il seguente errore nel registro della console: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. Le prestazioni della vetrina non sono influenzate. <!-- MC-42613-->

**Problema**: _Anomalie con PayPal Credit visualizzazione degli importi delle gift card_. Quando PayPal Credit è abilitato e sono configurati più importi di gift card, se un acquirente modifica l&#39;importo per il valore di una gift card, la vetrina non aggiorna l&#39;importo per i pagamenti rateali. Questo problema verrà corretto in Adobe Commerce 2.4.4 e Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Problema**:  _Il **Aggiungi all&#39;ordine**non funziona per i prodotti aggiunti al carrello da SKU_.  l&#39;applicazione visualizza questo messaggio di errore quando si fa clic sul pulsante **Aggiungi all&#39;ordine** dopo l&#39;aggiunta di prodotti all&#39;ordine da SKU: `An error has happened during application run`. I prodotti non vengono aggiunti al carrello. **Soluzione alternativa**: utilizza la funzione Aggiungi prodotti. <!-- AC-345-->

## Contributi comunitari

Siamo grati alla comunità del Magento Open Source e desideriamo riconoscere il loro contributo a questa versione.

Il team di progettazione della community [Collaboratori Magento](https://magento.biterg.io/app/kibana) mantiene un elenco dei principali soggetti e partner contributori per mese, trimestre e anno. Dalla pagina Collaboratori, puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi dei partner

Nella tabella seguente vengono evidenziati i contributi dei partner. Questa tabella elenca il Partner che ha contribuito alla richiesta di pull, la richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contributi dei singoli collaboratori

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca le richieste pull esterne, il numero del problema GitHub associato (se disponibile) e il membro della community che ha contribuito alla richiesta pull.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](../../../installation/system-requirements.md).

### Istruzioni di installazione e aggiornamento

È possibile installare Magento Open Source 2.4.3 utilizzando [Compositore](../../../installation/composer.md).

## Toolkit di migrazione

Lo strumento di migrazione dei dati consente di trasferire i dati archiviati dal Magento 1.x al Magento 2.x. Questa interfaccia della riga di comando include funzioni di verifica, monitoraggio dell&#39;avanzamento, registrazione e test. Per le istruzioni di installazione, consulta [Installare lo strumento di migrazione dei dati](../../../tools/data-migration-tool/install.md). Valuta se esplorare o contribuire a [Archivio di migrazione dati](https://github.com/magento/data-migration-tool).

Il [Toolkit di migrazione del codice](https://github.com/magento-commerce/code-migration) consente di trasferire estensioni e personalizzazioni di store di Magento 1.x esistenti in Magento 2.x. L&#39;interfaccia della riga di comando include script per la conversione di moduli e layout Magento 1.x.
