---
title: Note sulla versione di Magenti Open Source 2.4.4
description: Scopri le nuove funzioni, i miglioramenti, le correzioni di bug e i problemi noti nella versione del Magento Open Source 2.4.4.
exl-id: 877e2517-3487-4f54-9e08-a0b67e0de057
source-git-commit: 95ffff39d82cc9027fa633dffedf15193040802d
workflow-type: tm+mt
source-wordcount: '11128'
ht-degree: 0%

---

# Note sulla versione di Magenti Open Source 2.4.4

Il Magento Open Source 2.4.4 introduce il supporto per PHP 8.1. Tutte le librerie di progetto e le dipendenze sono state aggiornate per la compatibilità con PHP 8.1. Anche le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti compatibili con PHP 8.1. Questa versione supporta anche OpenSearch 1.2.

Questa versione include quasi 250 correzioni di qualità e miglioramenti.

>[!NOTE]
>
>Grazie al nostro partner [Atwix](https://www.atwix.com/) per il loro contributo sostanziale alla compatibilità del nostro framework 2.4.4 con il PHP 8.1.

{{bics}}

## Applica `AC-3022.patch` continuare a offrire DHL come vettore marittimo

DHL ha introdotto lo schema versione 6.2 e dichiarerà obsoleto lo schema versione 6.0 nel prossimo futuro. Adobe Commerce 2.4.4 e versioni precedenti che supportano l’integrazione DHL supportano solo la versione 6.0. I commercianti che distribuiscono queste versioni devono applicare `AC-3022.patch` non appena possibile, di continuare a offrire DHL come vettore marittimo. Consulta la [Applicare una patch per continuare a offrire DHL come corriere](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Articolo della Knowledge Base per informazioni sul download e l&#39;installazione della patch.

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con le versioni trimestrali del codice principale del Magento Open Source, molti di questi progetti sono anche rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

>[!NOTE]
>
>Tutte le estensioni incluse nel fornitore, a eccezione di Braintree, sono state rimosse dal Magento Open Source 2.4.4.

>[!NOTE]
>
>Il Compositore 2.2 ha introdotto una funzione di sicurezza che richiede ai commercianti di identificare plug-in affidabili nel loro `composer.json` prima dell&#39;esecuzione dei plug-in. Attualmente, i plug-in inclusi nel `composer.json` ma non contrassegnato come attendibile vengono installati automaticamente. Tuttavia, a partire da luglio 2022, Composer non caricherà i plug-in a meno che non siano stati esplicitamente consentiti. Consulta la [Problemi relativi ai plug-in del compositore durante l’aggiornamento ad Adobe Commerce 2.4.4](https://support.magento.com/hc/en-us/articles/6215997614093-Composer-plugins-issues-when-upgrading-to-Adobe-Commerce-2-4-4) Articolo della Knowledge Base per istruzioni su come modificare `composer.json` per consentire esplicitamente il caricamento del plug-in.

### Hotfix inclusi in questa versione

Il Magento Open Source 2.4.4 include la risoluzione di tutti i problemi risolti dai seguenti hotfix, forniti per Adobe Commerce e i Magenti Open Source 2.4.3, 2.4.3-p1 e 2.3.7-p2:

* La vulnerabilità affrontata da `MDVA-43395_EE_2.4.3-p1_COMPOSER_v1.patch` e `MDVA-43443_EE_2.4.3-p1_COMPOSER_v1.patch` è stato risolto in questa versione.

* `AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch`. Questa patch risolve un errore PHP irreversibile che si è verificato durante l&#39;aggiornamento. Consulta la [Aggiornamento Adobe Commerce 2.4.3, 2.3.7-p1 PHP Errore irreversibile Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Articolo della Knowledge Base.

## Punti salienti del Magento Open Source 2.4.4

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti di sicurezza

Questa versione include una correzione di sicurezza e miglioramenti alla sicurezza della piattaforma. Questa correzione rapida per la sicurezza è stata supportata nel Magento Open Source 2.4.3-p2 e nel Magento Open Source 2.3.7-p3.

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere il tuo amministratore, incluse, ma non solo, queste iniziative:

* INSERIRE NELL&#39;ELENCO CONSENTITI IP
* [autenticazione a due fattori](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* utilizzo di una VPN
* utilizzo di una posizione univoca anziché `/admin`
* corretta igiene della password

Consulta [Bollettino sulla sicurezza degli Adobi](https://helpx.adobe.com/security/products/magento/apsb22-13.html) per le ultime discussioni su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità con le best practice più recenti, tra cui:

* L’utilizzo della variabile e-mail è stato dichiarato obsoleto nella versione 2.3.4 come parte di una mitigazione del rischio sulla sicurezza in favore di una sintassi della variabile più rigida. Questo comportamento legacy è stato completamente rimosso in questa versione come continuazione della riduzione dei rischi per la sicurezza.

   Di conseguenza, i modelli di e-mail o newsletter che funzionavano nelle versioni precedenti di Magenti Open Source potrebbero non funzionare correttamente dopo l’aggiornamento ad Adobe Commerce 2.4.4 o Magento Open Source 2.4.4. I modelli interessati includono sostituzioni amministratore, temi, temi secondari e modelli da moduli personalizzati o estensioni di terze parti. La distribuzione potrebbe ancora essere interessata anche dopo aver utilizzato [Strumento di compatibilità per l’aggiornamento](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=en) per correggere gli utilizzi obsoleti. Consulta [Migrazione di modelli e-mail personalizzati](https://developer.adobe.com/commerce/frontend-core/guide/templates/email-migration/) per informazioni sugli effetti potenziali e sulle linee guida per la migrazione dei modelli interessati.

* I token di integrazione non possono più essere utilizzati per l’autenticazione del token Bearer dell’API. In precedenza, un token di integrazione poteva essere utilizzato come chiave indipendente per l’autenticazione basata su token. Tuttavia, questo comportamento è stato disabilitato per impostazione predefinita a causa delle implicazioni di sicurezza di un token di accesso in scadenza. Il comportamento precedente può essere abilitato tramite la riga di comando o Admin. Consulta [Autenticazione basata su token](https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-token/). <!-- AC-1619 -->

* Gli ID sessione non sono più memorizzati nel database. <!-- AC-522-->

* I token di accesso OAuth e i token di reimpostazione della password ora sono crittografati quando sono memorizzati nel database. <!-- AC-520 1323-->

* La convalida è stata rafforzata per impedire il caricamento di estensioni di file non alfanumeriche. <!-- AC-479-->

* È stato aggiunto il supporto reCAPTCHA ai codici coupon. <!-- AC-461-->

* Swagger è ora disattivato per impostazione predefinita quando il Magento Open Source è in modalità di produzione. <!-- AC-1450-->

* HTTPS è ora abilitato per impostazione predefinita per la vetrina del Magento Open Source. Il **Usa URL protetti in Storefront** e **Utilizzare URL protetti in Admin** Le impostazioni di sono abilitate per impostazione predefinita e tutti i cookie incorporati sono ora impostati come protetti.  <!-- AC-1173-->

* Il plug-in per la confusione della dipendenza è ora necessario per tutte le installazioni del Magento Open Source. In precedenza, questo plug-in era necessario solo per le installazioni basate su Compositore. Ora consente versioni affidabili. I commercianti possono aggirare i vincoli impostati in questo plug-in che vietano determinate combinazioni di installazioni di Compositore. I vincoli possono essere ignorati per le versioni attendibili e ora nel Magento Open Source viene visualizzato un avviso prima di procedere con l’installazione.  <!-- AC-501 970-->

* Gli sviluppatori possono ora configurare il limite delle dimensioni degli array accettati dagli endpoint RESTful di Magento Open Source in base agli endpoint. Consulta [Sicurezza API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-465-->

* Sono stati aggiunti meccanismi per limitare le dimensioni e il numero di risorse che un utente può richiedere tramite un’API web a livello di sistema e per ignorare i valori predefiniti nei singoli moduli. Questo risolve il problema affrontato da `MC-43048__set_rate_limits__2.4.3.patch`. Consulta [Sicurezza API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-1120-->

### Miglioramenti alla piattaforma

Il Magento Open Source 2.4.4 ora supporta PHP 8.1. Tutte le librerie di progetto e le dipendenze sono state aggiornate per la compatibilità con PHP 8.1. Ulteriori miglioramenti alla piattaforma includono:

* Il Magento Open Source 2.4.4 supporta l’Elasticsearch 7.16 e OpenSearch 1.2. I commercianti open source dell’applicazione con distribuzioni ospitate on-premise possono utilizzare entrambe le soluzioni. Tuttavia, OpenSearch è ora il motore di ricerca predefinito per le distribuzioni del Magento Open Source 2.4.4 ospitate nel cloud. Tutti i clienti con implementazioni cloud che eseguono l’aggiornamento alla versione 2.4.4 devono utilizzare OpenSearch. Consulta [Passaggio a OpenSearch per Adobe Commerce su Cloud 2.4.4](https://support.magento.com/hc/en-us/articles/4419942355725-Switching-to-OpenSearch-for-Adobe-Commerce-on-Cloud-2-4-4)

* Il `JQuery` La libreria è stata aggiornata alla versione 3.6. Il `jquery-ui` La libreria è stata aggiornata alla versione 1.13.0. Molte altre librerie JavaScript sono state aggiornate alle versioni più recenti.

* TinyMCE 5.8.1 è ora supportato. TinyMCE 4 è stato rimosso dal codebase. <!-- AC-41-->

* Il `RequireJS` La libreria di è stata aggiornata alla versione più recente (v2.3.6). [GitHub-33672](https://github.com/magento/magento2/issues/33672) <!-- AC-40 422-->

* PHPUnit è stato aggiornato alla versione più recente (9.5.x). I test e i framework di test sono stati aggiornati per essere compatibili con la nuova versione. <!-- AC-404-->

* La maggior parte delle dipendenze Laminas sono state aggiornate alle versioni più recenti compatibili con PHP 8.1. Tre dipendenze Laminas sono state rimosse dalla base di codice per ridurre il numero di dipendenze.

#### Aggiornamento dell’interfaccia utente jQuery

jQuery UI è stato aggiornato alla versione più recente (v1.13.0). I seguenti componenti jQuery v1.10.0 sono stati rimossi:

* `ajaxOptions` e `cache` opzioni per le schede. Consulta [Schede](https://jqueryui.com/changelog/1.10.0/#tabs).

* `.zIndex()`. L’interfaccia utente v1.12.1 di jQuery include `jquery/z-index.js`, che supporta l&#39;utilizzo di `.zIndex()`. Consulta [Interfaccia utente Core](https://jqueryui.com/changelog/1.12.0/#ui-core).

* Fallback dei dati per i nomi dei widget. È necessario utilizzare il nome completo per `.data()` chiave.

* Codifica rigida di classi come `ui-corner-all` nei widget.

### GraphQL

Questa versione include i seguenti miglioramenti di GraphQL:

* **Miglioramenti delle prestazioni**:

   * Le prestazioni del carrello GraphQL sono migliorate. Il `collectQuoteTotals()` Il metodo ora viene chiamato una sola volta durante una richiesta GraphQL, riducendo il tempo di risposta. <!-- PWA-2110-->

   * Le prestazioni di Storefront sono state migliorate dalle modifiche apportate alla modalità di memorizzazione nella cache delle richieste GraphQL. Fastly e Varnish memorizzano in cache le richieste GraphQL inviate con `auth` token. <!-- PWA-1817-->

* **Nuove impostazioni di configurazione dell&#39;amministratore relative alla vetrina**. Il `storeConfig` query restituisce ora le impostazioni di configurazione per i metodi di pagamento Checkout subtotale zero e Pagamento con assegno. <!-- PWA-1576-->

* **Libreria GraphQL di base aggiornata**. Il `webonyx` la libreria, che consente il funzionamento del GraphQL di base, è stata aggiornata alla versione ^14.9. <!-- PWA-2137 2184 -->

* **Sono stati risolti dei problemi di traduzione in GraphQL con store multisito e multilingue**. Il resolver GraphQL ora restituisce le stringhe tradotte in base all’ambito dell’archivio come previsto. <!-- PWA-1946-->

* GraphQL ora fornisce a New Relic nomi descrittivi delle transazioni, che possono essere utili per il debug. [GitHub-30915](https://github.com/magento/magento2/issues/30915) <!-- PWA-1311-->

Consulta la [Guida per gli sviluppatori di GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) per informazioni dettagliate su questi miglioramenti.

### Estensioni in bundle con il fornitore

Ad eccezione di [Braintree](https://docs.magento.com/user-guide/payment/braintree.html), tutte le estensioni incluse nel fornitore sono state rimosse dalla base di codice di Magento Open Source 2.4.4. Gli esercenti devono effettuare la migrazione alle estensioni ufficiali, disponibili sul [Commerce Marketplace](https://marketplace.magento.com/extensions.html).

[Amazon Pay](https://docs.magento.com/user-guide/payment/payments.html)

[dotdigital](https://docs.magento.com/user-guide/marketing/communications.html)

[Klarna](https://docs.magento.com/user-guide/payment/payments.html)

[Vertice](https://docs.magento.com/user-guide/tax/taxes.html)

[YotPo](https://docs.magento.com/user-guide/marketing/product-reviews.html)

### Miglioramenti ai pagamenti PayPal

* L&#39;opzione di pagamento Venmo è ora supportata.  <!-- AC-1229-->

* Paga più tardi è stato aggiunto come opzione per gli acquirenti in base alla posizione del cliente, non alla posizione del commerciante.

* I commercianti possono ora impostare il paese dell&#39;acquirente quando testano l&#39;esperienza dell&#39;acquirente nel loro paese di scelta. In precedenza, i test si limitavano ai test solo per il paese in cui il commerciante ha sede. Questa modifica è valida solo in modalità sandbox.

* I messaggi nella pagina di pagamento ora mostrano messaggi accurati su quanto e in quanti incrementi l’acquirente dovrà pagare quando utilizzerà Paga più tardi.

### Aggiornamenti all’accessibilità

Questa versione introduce una maggiore conformità alle linee guida standard per l’accessibilità. Include descrizioni comandi migliorate, denominazione e assegnazione di tag accessibili agli elementi dello schermo e icone e pulsanti riprogettati. Oltre l’80% di queste correzioni contribuisce a migliorare l’esperienza di acquisto degli utenti senza visione o visione limitata.

### Page Builder

Gli esercenti possono ora aggiungere testo alternativo (`alt_text`) alle immagini (immagine, banner, diapositiva) per migliorare l&#39;accessibilità dei contenuti. [GitHub-746](https://github.com/magento/magento2-page-builder/issues/746) <!-- PB-1193-->

## Problemi risolti

Stiamo risolvendo centinaia di problemi nel codice core del Magento Open Source 2.4.4. Di seguito è descritto un sottoinsieme di questi problemi risolti.

### Installazione, aggiornamento, distribuzione

<!-- MC-42026-->

* Il Magento Open Source ora registra gli errori di distribuzione del contenuto statico nei file di registro della build come previsto.

<!-- MC-43094-->

* Le patch di dati non possono più ignorare i vincoli univoci di una tabella e inserire valori duplicati in una tabella di database MySQL. In precedenza, le patch potevano inserire valori duplicati, che danneggiavano il database.

<!-- AC-1480-->

* I commercianti possono ora eseguire l’aggiornamento da una distribuzione di Magento Open Source 2.4.2 con Klarna al Magento Open Source 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- ACP2E-77-->

* È ora possibile modificare la configurazione del generatore di sitemap dalla riga di comando. In precedenza, applicationOpen Source visualizzava questo errore quando si tentava di modificare la configurazione di sitemap all’esterno di Admin: `Import failed: Notice: Trying to access array offset on value of type null in app/code/Magento/Cron/Model/Config/Backend/Sitemap.php on line 78`.  [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-215-->

* Il `bin/magento app:config:import` Il comando ora viene eseguito senza errori quando si aggiorna `time` valori in `config.php`. In precedenza, la modifica della configurazione dell’avviso del prodotto mediante modifica manuale (ovvero senza utilizzare l’amministratore) generava un errore.

### Accessibilità

<!-- AC-1589-->

* Sono stati risolti gli errori di accessibilità relativi alla navigazione nel carrello e alle pagine di pagamento. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Gli assistenti vocali ora possono leggere tutti gli elementi del modulo pertinenti sulle pagine dei prodotti.

<!-- AC-1277-->

* Il contrasto è stato migliorato per i pulsanti di eliminazione e spostamento delle immagini nella vetrina, per migliorarne la leggibilità per gli utenti ipovedenti.

<!-- AC-1272-->

* All’icona della lente di ingrandimento utilizzata per eseguire ricerche in tutta l’interfaccia del prodotto sono stati assegnati un nome accessibile e un’alternativa testuale.

<!-- AC-1275-->

* È ora possibile accedere alla barra degli strumenti dell’editor Rich Text utilizzando il tasto TAB.

<!-- AC-1283-->

* Il **Questo articolo ha un peso** seleziona input su **Catalogo** > **Prodotto** la pagina dei dettagli ora presenta etichette visibili e un nome accessibile.

<!-- AC-1284-->

* Il nome accessibile del controllo ora include il testo dell&#39;etichetta visibile per il numero di elementi per pagina.

<!-- AC-1287-->

* La tabella controlla il **Catalogo** > **Prodotto** la pagina dei dettagli ora include etichette visibili e un nome accessibile quando la tabella viene compressa.

<!-- AC-1288-->

* I collegamenti di modifica nella tabella Prodotti ora presentano un testo di collegamento univoco e significativo.

<!-- AC-1276-->

* I trigger che espandono le descrizioni comandi ora forniscono nomi testuali.

<!-- AC-1285-->

* I pulsanti nella vetrina ora hanno nomi accessibili univoci e descrittivi. In precedenza, i pulsanti suddivisi con un pulsante di testo e un pulsante di icona freccia giù adiacente avevano lo stesso nome accessibile.

<!-- AC-1277-->

* Il contrasto è stato migliorato per i pulsanti di eliminazione e spostamento delle immagini nella vetrina, per migliorarne la leggibilità per gli utenti ipovedenti.

<!-- AC-1279-->

* Sono state aggiunte alternative testuali all’icona della matita che compare quando un commerciante modifica l’input per il pannello a soffietto Ottimizzazione motore di ricerca.

<!-- AC-1272-->

* All’icona della lente di ingrandimento utilizzata per eseguire ricerche in tutta l’interfaccia del prodotto sono stati assegnati un nome accessibile e un’alternativa testuale.

<!-- AC-1286-->

* Pagina prodotto **Nuova visualizzazione** il campo di immissione testo ora ha un nome accessibile.

<!-- AC-1283-->

* Il **Questo articolo ha un peso** seleziona input su **Catalogo** > **Prodotto** la pagina dei dettagli ora presenta etichette visibili e un nome accessibile.

### Back-end

<!-- MC-43161-->

* Ora gli amministratori possono accedere all’amministratore in una distribuzione per la quale è configurato un percorso amministratore personalizzato e in cui è abilitata la chiave segreta. In precedenza, applicationOpen Source visualizzava questo errore: `Invalid security or form key. Please refresh the page`.

<!-- MC-41949-->

* Il Magento Open Source non reindirizzerà più all&#39;ambito Visualizzazione di tutti gli archivi quando la gerarchia degli archivi multipli cambia. In precedenza, dopo il salvataggio della gerarchia, gli acquirenti venivano reindirizzati a un URL di archivio errato e l’ambito Tutte le visualizzazioni archivio veniva selezionato in una distribuzione multi-store.

### Prodotti bundle

<!-- MC-42885-->

* Gli acquirenti possono ora aggiungere al carrello un prodotto bundle con imposta fissa sui prodotti e due opzioni. In precedenza, applicationOpen Source non aggiungeva il prodotto e visualizzava questo errore: `We can't add this item to your shopping cart right now`.

<!-- MC-42249-->

* Convalida del modulo sotto forma di `data-validate` e `min` attributi aggiunti al campo quantità carrello per evitare valori negativi per i prodotti del bundle.

<!-- MC-41794-->

* Il `products` query ora filtra correttamente i prodotti del bundle quando i prodotti secondari sono disabilitati a livello di visualizzazione store. In precedenza, la query restituiva prodotti secondari disabilitati a livello di visualizzazione archivio.

<!-- MC-42811-->

* `cron` ora cancella la cache della categoria di prodotto come previsto durante `indexer_update_all_views` esecuzione. In precedenza, applicationOpen Source mostrava un conteggio di prodotti errato nella pagina delle categorie dopo l&#39;aggiornamento di massa di molti prodotti della categoria.

<!-- MC-42811-->

* Ora il Magento Open Source aggiorna la cache dei prodotti della categoria come previsto quando un prodotto bundle ricompare in magazzino.

<!-- AC-715-->

* La conversione della valuta ora avviene come previsto nelle conferme e-mail per gli acquisti di prodotti bundle in implementazioni multi-store che utilizzano valute diverse. [GitHub-33426](https://github.com/magento/magento2/issues/33426)

<!-- ACP2E-64-->

* Gli sconti speciali sui prezzi avanzati vengono ora visualizzati correttamente per i prodotti in bundle con il prefisso % nella griglia di prodotti. In precedenza, nella griglia di prodotto veniva erroneamente visualizzato % sconto con prefisso $ invece di %.

<!-- ACP2E-262-->

* Lo stato del bundle di prodotto nell’amministratore ora viene aggiornato automaticamente quando un prodotto correlato cambia il suo stato.

<!-- ACP2E-326-->

* Il resolver GraphQL per i prodotti bundle ora controlla se i prodotti bundle secondari sono stati disabilitati. In precedenza, questo controllo non si verificava e veniva eseguita una query di questo tipo `categoryList` ha restituito prodotti secondari non vendibili.

<!-- MC-43223-->

* `cart` le risposte alle query ora restituiscono sconti precisi per i prodotti bundle con prezzi dinamici. In precedenza, le risposte alle query includevano sconti applicati singolarmente a ciascun prodotto bundle.

### Cache

<!-- MC-42811-->

* L’algoritmo di pulizia della cache eseguito durante la reindicizzazione è stato ottimizzato. I prodotti bundle ora vengono visualizzati come previsto quando una categoria viene memorizzata nella cache durante la reindicizzazione. In precedenza, i prodotti bundle non venivano visualizzati per ore dopo che le categorie di prodotti venivano memorizzate nella cache durante la reindicizzazione.

<!-- AC-328-->

* La cache delle pagine non cresce più rapidamente in condizioni di utilizzo tipiche. [GitHub-9458](https://github.com/magento/magento2/issues/9458)

<!-- magento/magento2/pull/33468-->

* L’ordine non comporta più la rimozione di tutti i tag della cache relativi ai prodotti ordinati dalla cache di Vernice. [GitHub-30128](https://github.com/magento/magento2/issues/30128)

<!-- AC-1478-->

* La cache delle pagine full-site non viene più eliminata quando si aggiorna un prodotto dalle categorie principali o si esegue un indice per aggiornare gli attributi del prodotto o lo stato delle scorte. In precedenza, la cache di vernice aggiungeva gli ID di categoria del menu superiore a tutti i tag della cache delle pagine. [GitHub-33465](https://github.com/magento/magento2/issues/33465)

### Carrello e pagamento

<!-- MC-41494-->

* Il prezzo minimo annunciato **Cos&#39;è questo?** ora è possibile fare clic sul collegamento nella pagina del carrello e apre il pop-up di informazioni come previsto. In precedenza, fare clic su questo collegamento non aveva alcun effetto.

<!-- MC-42639-->

* Ora gli acquirenti possono effettuare ordini senza errori dopo un timeout di sessione in implementazioni in cui è abilitato il carrello acquisti persistente. In precedenza, applicationOpen Source mostrava un errore di pagamento dopo un timeout della sessione.

<!-- MC-42638-->

* L’assegnazione di un valore di ordinamento elevato a un attributo dell’indirizzo del cliente non causa più un deterioramento delle prestazioni nella pagina di pagamento.

<!-- MC-42813-->

* Il Magento Open Source ora ripristina il valore precedente della quantità del prodotto del carrello se la quantità aggiornata non è valida.

<!-- MC-42347-->

* Facendo clic su **Aggiungi al carrello** Nella sezione Visualizzati di recente, il pulsante reindirizza ora come previsto alla pagina dei dettagli del prodotto. In precedenza, gli acquirenti venivano reindirizzati alla pagina di elenco dei prodotti.

<!-- MC-33705-->

* Gli acquirenti ospiti possono ora effettuare il check-out con un indirizzo del cliente che contiene diversi tipi di attributi personalizzati dell’indirizzo del cliente. In precedenza, i valori per gli attributi personalizzati non venivano formattati correttamente quando venivano visualizzati durante l’estrazione. [GitHub-30290](https://github.com/magento/magento2/issues/30290)

<!-- MC-24379-->

* Il Magento Open Source ora applica correttamente la soglia di spedizione gratuita agli ordini quando le tariffe della tabella sono abilitate. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- AC-271-->

* Ora puoi utilizzare `POST /V1/guest-carts/:cartId/items` per aggiungere prodotti semplici con opzioni diverse a un carrello. In precedenza, questa chiamata modificava la quantità del primo prodotto semplice aggiunto, anziché aggiungere un secondo prodotto semplice con le opzioni specificate. [GitHub-32302](https://github.com/magento/magento2/issues/32302)

<!-- AC-1089-->

* Nella sezione Riepilogo ordini della pagina di pagamento ora vengono visualizzati la valuta e l&#39;importo corretti quando viene configurata una distribuzione per `Poland` paese e `PLN` valuta. In precedenza, il carrello e la pagina di pagamento mostravano l’importo **PLN 0**.

<!-- MC-32805-->

* Il Magento Open Source non genera più un errore quando un acquirente fa clic su **Aggiorna carrello** dopo aver modificato la quantità di un prodotto nel mini carrello. In precedenza, applicationOpen Source visualizzava questo errore:  `The quote item isn't found. Verify the item and try again`.

<!-- MC-43176-->

* GraphQL `products` le query per i prodotti configurabili in un negozio specifico ora restituiscono gli intervalli di prezzo dei prodotti solo nel negozio specificato. In precedenza, le richieste restituivano intervalli di prezzi per prodotti semplici su negozi non specificati.

<!-- AC-691-->

* Il Magento Open Source non genera più questo errore quando un acquirente aggiunge un indirizzo di fatturazione a cui manca un campo della via: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- AC-1625-->

* Il Magento Open Source non genera più un errore della console durante il check-out negli archivi da cui è stato rimosso il mini carrello. [GitHub-34513](https://github.com/magento/magento2/issues/34513)

<!-- AC-691-->

* L&#39;estrazione non ha più esito negativo nella fase del pagamento quando nell&#39;indirizzo di fatturazione mancano i valori dei campi relativi alla via o il valore del campo relativo alla via non è un array. Precedentemente, estrazione non riuscita con questo errore: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- ACP2E-10-->

* Il Magento Open Source ora calcola correttamente gli sconti quando due regole del carrello vengono applicate a un ordine che soddisfa queste condizioni: una regola del carrello viene applicata con un codice coupon e un **Prezzo fisso sul carrello intero**  e la seconda regola di prezzo del carrello non ha un coupon e un **Percentuale di sconto prezzo prodotto** condizione. In precedenza, l’algoritmo pertinente non poteva suddividere correttamente lo sconto proporzionalmente tra i prodotti del carrello quando una regola del carrello precedente aveva già applicato uno sconto su alcuni prodotti.

<!-- ACP2E-22-->

* Il totale delle vendite viene ora calcolato correttamente nella griglia del rapporto del coupon. In precedenza, il totale delle vendite non includeva l&#39;importo della spedizione.

<!-- ACP2E-44-->

* Gli sconti sull&#39;intero carrello ora vengono calcolati correttamente quando l&#39;acquirente passa da un metodo di spedizione all&#39;altro.

<!-- ACP2E-159-->

* Elenco a discesa per **Stato** Nella pagina Ordine di creazione amministratore, il campo è ora compilato con i valori predefiniti per il paese selezionato. In precedenza, questo campo era un campo di testo di input invece di un menu a discesa.

<!-- ACP2E-172-->

* Il Magento Open Source non genera più un errore dopo l&#39;utilizzo di `addConfigurableProductsToCart` per aggiungere un prodotto configurabile a un carrello direttamente dopo aver modificato la vista store.

<!-- ACP2E-176-->

* Il Magento Open Source non genera più un errore quando si utilizza `addConfigurableProductsToCart` mutazione per aggiungere al carrello un elemento secondario disattivato di un prodotto configurabile. In precedenza, applicationOpen Source generava un errore di violazione del vincolo di integrità.

<!-- ACP2E-157-->

* Il valore di utilizzo del coupon non cambia più se l’ordine a cui è stato applicato il coupon non riesce.  In precedenza, i coupon generati automaticamente per singolo utilizzo venivano contrassegnati come non validi dopo l’applicazione del coupon nel carrello, ma l’ordine non veniva effettuato.

<!-- ACP2E-137-->

* È stata aggiunta la convalida al flusso di lavoro di pagamento per confrontare l’indirizzo del cliente con il valore predefinito. Se il processo di convalida identifica le modifiche, imposta `customer_address_id` a `null` per trattarlo come un nuovo indirizzo del cliente. In precedenza, se il cliente salvava l’indirizzo senza convalida al momento del pagamento e tentava di effettuare un ordine utilizzando lo stesso indirizzo dopo l’applicazione della convalida al campo di pagamento , l’applicazione Open Source non accettava l’indirizzo modificato e generava un’eccezione.

### Regole prezzi carrello

<!-- MC-42288-->

* La generazione del coupon è ora bloccata fino al salvataggio della regola del prezzo del carrello correlato con `auto` opzione abilitata. Se tenti di salvare questa regola senza abilitare `auto` , l&#39;applicazione Open Source visualizza il seguente messaggio: `Rule is not saved with auto generate option enabled. Please save the rule and try again`.

<!-- MC-42743-->

* È stato aggiunto un test per confermare la corretta applicazione di uno sconto sulle regole di prezzo del carrello.

<!-- ACP2E-213-->

* Regole di prezzo del carrello che utilizzano una condizione SKU con **Se un articolo viene TROVATO/NON TROVATO nel carrello con Tutte/Qualsiasi di queste condizioni true** ora funziona come previsto con prodotti configurabili.

<!-- ACP2E-225-->

* Le regole di prezzo del carrello ora vengono applicate correttamente per i prodotti bundle a prezzo fisso. In precedenza, le regole di prezzo del carrello non si applicavano a questi prodotti quando almeno un prodotto secondario aveva lo stesso set di attributi specificato nella condizione della regola.

<!-- ACP2E-285-->

* Ora è possibile aggiungere al carrello un prodotto con il prezzo di 0 quando il Magento Open Source è configurato con **Sconto importo fisso per carrello intero** regola prezzo carrello. In precedenza, applicationOpen Source visualizzava questo errore:  `report.ERROR: Warning: Division by zero in /home/mer33515/public_html/ee24develop/app/code/Magento/SalesRule/Helper/CartFixedDiscount.php on line 85`.

<!-- ACP2E-306-->

* È stata corretta una condizione in cui `cart` la query ha restituito un importo di sconto non accurato quando sono state attivate le regole del carrello acquisti con sconti di importo fisso.

### Catalogo

<!-- MC-41796-->

* Il Magento Open Source non genera più un&#39;eccezione durante l&#39;esecuzione di un&#39;azione di aggiornamento di massa degli attributi sulla griglia di prodotto quando un prodotto presenta `datetime` attributo.

<!-- MC-42571-->

* Le query GraphQL ora restituiscono risultati per i prodotti secondari di un prodotto configurabile in base alle impostazioni del filtro di visibilità dei prodotti secondari.

<!-- MC-41853-->

* Il Magento Open Source non modifica più i prezzi dei prodotti correlati quando vengono modificati gli attributi del prodotto configurabili. In precedenza, il prezzo minimo annunciato (MAP) per un prodotto configurabile sovrascriveva il prezzo dei prodotti correlati sul lato negozio.

<!-- MC-41796-->

* Il Magento Open Source non genera più un&#39;eccezione durante l&#39;esecuzione di un&#39;azione di aggiornamento di massa degli attributi sulla griglia di prodotto quando un prodotto presenta `datetime` attributo.

<!-- MC-42132-->

* I valori degli attributi a discesa/a selezione multipla per la griglia di prodotto e i filtri dell’amministratore ora derivano come previsto dalle impostazioni dell’amministratore. In precedenza, i valori degli attributi venivano derivati dalle impostazioni predefinite dell’archivio.

<!-- MC-43010-->

* Le query di categoria GraphQL restituiscono informazioni sulle modifiche apportate alle categorie posizionate nell&#39;area intermedia come previsto.

<!-- AC-711-->

* Gli elenchi di prodotti ora vengono visualizzati con precisione nell’amministratore nelle distribuzioni con prodotti assegnati sia a una categoria principale che alle relative sottocategorie, ma in posizioni diverse all’interno di ogni categoria. In precedenza, il rendering dell’elenco dei prodotti non riusciva e veniva visualizzato questo errore: `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145

<!-- AC-1148-->

* È ora possibile assegnare ai nuovi prodotti attributi a selezione multipla con molte opzioni (oltre 150). In precedenza, le opzioni di attributo venivano salvate in `catalog_product_entity_varchar` e non tutte le opzioni erano presenti al momento della riapertura del prodotto in Admin. [GitHub-33486](https://github.com/magento/magento2/issues/33486)

<!-- AC-904-->

* È stata aggiunta la convalida per il caso in cui un router non possa creare un&#39;istanza di una classe di azione raccolta da un URL. L&#39;applicazione Open Source visualizza ora il messaggio di errore standard. In precedenza, applicationOpen Source visualizzava questo errore:  `PHP Error: Cannot instantiate abstract class Magento\Catalog\Controller\Product\Compare`.

<!-- ACP2E-115-->

* L’assegnazione di molti prodotti (circa 10.000) a una categoria non causa più l’arresto anomalo del browser.

<!-- ACP2E-122-->

* Gli attributi delle immagini ora vengono salvati nel database in modo coerente, sia che vengano salvati dall’amministratore che importati. In precedenza, i valori di testo ALT per le immagini venivano salvati in modo incoerente. Se l&#39;immagine esisteva e l&#39;etichetta era impostata su null, il valore dell&#39;etichetta non veniva reimpostato nel database.

<!-- ACP2E-155-->

* La query SQL del widget catalogo è stata ottimizzata. In precedenza, le query MySQL di grandi dimensioni rallentavano il caricamento della pagina e causavano interruzioni di MySQL.

<!-- ACP2E-165-->

* I filtri di prezzo ora funzionano correttamente con i prodotti configurabili esauriti. In precedenza, i prodotti configurabili esauriti non venivano visualizzati nella giusta fascia di prezzo.

<!-- ACP2E-330-->

* L’aggiornamento di un prodotto secondario non rimuove più lo sconto della regola di catalogo ereditato dal prodotto configurabile principale durante il processo di indicizzazione parziale. In precedenza, quando si assegnava un prodotto configurabile a una categoria ma non ai relativi prodotti semplici associati e quindi si utilizzava tale categoria per creare una regola di catalogo, l’applicazione Open Source rimuoveva la regola di catalogo assegnata al prodotto semplice durante il processo di indicizzazione parziale.

<!-- ACP2E-216-->

* L’elenco di prodotti raggruppati e configurabili nella visualizzazione a griglia ora contiene solo prodotti semplici e virtuali quando si aggiungono opzioni di prodotto. In precedenza, l’applicazione includeva prodotti semplici con opzioni.

### Regola catalogo

<!-- MC-41807-->

* Gli aggiornamenti giornalieri delle regole di catalogo non determinano più un deterioramento delle prestazioni. In precedenza, l’indicizzazione parziale dei prezzi dei prodotti del catalogo non rimuoveva i prezzi o le date precedenti.

<!-- MC-38263-->

* Il Magento Open Source non rimuove più le regole del prezzo di catalogo sui prodotti configurabili durante la reindicizzazione parziale. In precedenza, solo i sottoprodotti venivano reindicizzati quando i prodotti configurabili venivano reindicizzati.

<!-- ACP2E-331-->

* Regole di prezzo del catalogo con **la categoria non è category_id** Questa condizione si applica ora ai prodotti che non appartengono ad alcuna categoria.

### Prodotti configurabili

<!-- MC-42188-->

* Il nome dell’etichetta dell’opzione prodotto configurabile ora si basa sulla vista store selezionata durante la creazione dell’ordine amministratore. In precedenza, applicationOpen Source utilizzava il nome dell&#39;etichetta della visualizzazione predefinita dello store.

<!-- MC-42187-->

* Gli elenchi di prodotti ora includono correttamente i prodotti secondari di un prodotto esaurito quando il flag globale per la visualizzazione dei prodotti esauriti è abilitato. In precedenza, l’elenco dei prodotti non includeva il prodotto secondario se una delle diverse opzioni dei prodotti secondari era esaurita quando questo flag era abilitato.

<!-- MC-42340-->

* Ora puoi utilizzare la `addConfigurableProductsToCart` per aggiungere al carrello un prodotto configurabile in una visualizzazione store non predefinita. In precedenza, non era possibile aggiungere un prodotto configurabile a un carrello quando l’ID del sito web e dell’archivio erano diversi. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

<!-- MC-43051-->

* GraphQL `products` le query non restituiscono più dati sui prodotti secondari disabilitati dei prodotti configurabili.

<!-- ACP2E-101-->

* La creazione di nuove configurazioni per un prodotto configurabile non esclude più le modifiche nelle configurazioni esistenti. In precedenza, lo stato delle varianti esistenti veniva sostituito dallo stato predefinito `enabled` dopo la generazione di nuove varianti.

<!-- ACP2E-175-->

* Il Magento Open Source non genera più un errore interno quando si tenta di aggiungere al carrello un figlio disattivato di un prodotto configurabile.

### Cliente

<!-- MC-24204-->

* Il Magento Open Source ora considera l’ambito del sito web per le impostazioni locali dell’amministratore durante la creazione dell’ordine. In precedenza, i dettagli dell’ordine come gli attributi dell’indirizzo del cliente funzionavano correttamente su un solo sito web in una distribuzione multisito. [GitHub-23254](https://github.com/magento/magento2/issues/23254)

### E-mail

<!-- MC-42592-->

* Gli errori di convalida del campo e-mail nella finestra a comparsa per l’accesso all’estrazione ora corrispondono agli errori di convalida e-mail nella pagina di accesso del cliente quando un cliente tenta di accedere utilizzando un account e-mail non valido.

<!-- MC-42764-->

* Il Magento Open Source non include più un messaggio di errore nell’e-mail dei dettagli della spedizione quando un commento sulla spedizione viene aggiunto dall’Amministratore e dal **Notifica al cliente** la casella di controllo è attivata. In precedenza, le e-mail di conferma della spedizione includevano questo messaggio: `We're sorry, an error has occurred while generating this content`.

<!-- MC-42486-->

* I valori ID paese e regione ora vengono convertiti correttamente nei modelli e-mail. In precedenza, quando si selezionava **Collegamento di anteprima** Nel modello e-mail Amministratore, il paese e il nome dell’area geografica non venivano visualizzati correttamente.

<!-- MC-36262-->

* Le e-mail di aggiornamento delle vendite inviate dall’amministratore per le visualizzazioni del punto vendita non predefinite ora contengono le etichette di stato dell’ordine corrette. In precedenza, queste e-mail mostravano sempre lo stato dell’archivio predefinito. [GitHub-29263](https://github.com/magento/magento2/issues/29263)

<!-- AC-721-->

* Il Magento Open Source ora include `Content-Disposition: inline` intestazioni nell’e-mail come previsto. [GitHub-29258](https://github.com/magento/magento2/issues/29258)

<!-- magento/magento2/pull/32720-->

* Le e-mail di notifica per ordine e spedizione ora funzionano come previsto nelle distribuzioni tramite Microsoft Outlook e MS Exchange Server. In precedenza, il corpo dell’e-mail era vuoto ma conteneva un allegato etichettato ATT*. [GitHub-25076](https://github.com/magento/magento2/issues/25076)

<!-- ACP2E-47-->

* Le e-mail di ordine ora contengono dati localizzati utilizzando le impostazioni locali dell’acquirente come previsto. In precedenza, per le e-mail di ordine veniva utilizzata la lingua amministratore.

<!-- ACP2E-107-->

* Facendo clic sull’anteprima di un modello e-mail, l’anteprima viene ora visualizzata in una finestra separata, come previsto.  In precedenza, l’applicazione Open Source apriva l’anteprima del modello contemporaneamente dalla griglia dei modelli e-mail e in una finestra a comparsa.

<!-- ACP2E-127-->

* Le e-mail di ordine asincrono inviate da un sito Web non predefinito ora includono gli URL del logo dal sito Web appropriato. In precedenza, queste e-mail includevano sempre i logo del sito web predefinito o principale. (Chiave predefinita con `storeCode` il valore è stato assegnato al secondo argomento array che viene passato al `UrlInterface` `getUrl` funzione. Questo valore distingue gli URL in relazione a diversi store/siti web e genera un `baseUrl` per il contenuto dell&#39;e-mail inviata al cliente.)

### Framework

<!-- AC-515-->

* I confronti non rigorosi tra numeri e stringhe non numeriche ora funzionano eseguendo il cast del numero in stringa e confrontando le stringhe. I confronti tra numeri e stringhe numeriche continuano a funzionare come prima. Ciò significa che `0 == "not-a-number"` è ora considerato falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-1338-->

* L&#39;aiutante `Magento\Payment\Helper\Data` non crea più nuovi layout nei costruttori. In precedenza, quando questo helper veniva utilizzato in comandi personalizzati senza specificare un indicativo di località, il Magento Open Source generava un errore. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1068-->

* È stato aggiornato il `allure-framework/allure-php-api` Dipendenza del compositore.

<!-- MC-42091-->

* Magenti Open Source ora restituisce un codice di risposta 500 quando si verifica un&#39;eccezione nel file di bootstrap. In precedenza, applicationOpen Source restituiva un codice di stato OK 200. [GitHub-22196](https://github.com/magento/magento2/issues/22196)

<!-- AC-1318-->

* Il simbolo di valuta viene ora caricato come previsto nelle pagine dei dettagli dei prodotti della vetrina. In precedenza, questo simbolo a volte scompariva dopo il ricaricamento della pagina JavaScript.

<!-- AC-719-->

* Aggiornamento `symfony/console` non causa più un errore durante l&#39;esecuzione `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- AC-1504-->

* Sono state aggiunte nuove opzioni richieste al `.htaccess` e `nginx.conf` file distribuiti con Magenti Open Source per il supporto di PHP 8.x. Sono state rimosse anche le opzioni obsolete. [GitHub-34358](https://github.com/magento/magento2/issues/34358)

<!-- MC-42448-->

* Ora gli esercenti possono caricare un video per più prodotti. Il processo di generazione dei file ora aggiunge un’estensione al nome del file solo se il nome del file caricato include un’estensione. In precedenza, quando un commerciante tentava di caricare e poi salvare lo stesso video per due prodotti diversi, l’applicazione Open Source generava questo errore: `Notice: Undefined index: extension in /app/7ha7zds7wvqys_stg/vendor/magento/framework/File/Uploader.php on line 699`. Ciò si verificava perché il Magento Open Source tentava di aggiungere al nome un&#39;estensione di file indipendentemente dal fatto che il nome del file caricato avesse o meno un&#39;estensione.

<!-- magento/magento2/pull/34106-->

* Sono stati corretti dei problemi relativi a `sprintf(__())` e `sprintf(Magento\Framework\Phrase())` per la compatibilità con PHP 8.x in tutto il codebase. In precedenza, applicationOpen Source generava questo tipo di errore: `Expected parameter of type 'string', 'Magento\Framework\Phrase' provided`. [GitHub-34085](https://github.com/magento/magento2/issues/34085)

<!-- AC-1605-->

<!-- MC-42934-->

* È stata migliorata la convalida dei parametri di query di ricerca avanzati. [GitHub-33589](https://github.com/magento/magento2/issues/33589)

<!-- ACP2E-69-->

* In esecuzione `bin/magento support:backup:code` ora crea un backup come previsto. In precedenza, ApplicationOpen Source creava un backup ma generava un errore.

<!-- ACP2E-82-->

* Esecuzione completata `cron` ai processi è ora assegnato lo stato `success`. Precedentemente, lo stesso `cron` il processo potrebbe essere eseguito due volte perché correttamente `cron` ai processi è stato assegnato un `pending` stato.

<!-- ACP2E-102-->

* Il `Magento_Logging` ora supporta IPv6.

### Correzioni generali

<!-- MC-42506-->

* Durante la duplicazione di un prodotto, il Magento Open Source copia ora tutti i campi di prodotto in base ai loro ambiti definiti. Precedentemente, il **nome** e **descrizione** i campi sono stati reimpostati su `global` ambito.

<!-- MC-42612-->

* Il Magento Open Source non applica più l&#39;arrotondamento delta a uno sconto quando il prezzo del prodotto è 0. In precedenza, applicationOpen Source calcolava un importo di sconto negativo.

<!-- MC-42215-->

* Prodotti con **Imposta come nuovo** l’attributo a cui è assegnata una data di inizio vuota e una data di fine scaduta ora può essere salvato correttamente. In precedenza, l’applicationOpen Source generava questo errore quando si salvava un prodotto con le seguenti impostazioni: `Make sure the To Date is later than or the same as the From Date`.

<!-- MC-42775-->

* Gli amministratori ora possono riprovare le operazioni eseguite nel tempo massimo di elaborazione. Il valore massimo predefinito è 12 ore.

<!-- MC-42514-->

* Gli errori di pipe interrotte non si verificano più durante l’elaborazione di azioni in blocco a causa di messaggi non riconosciuti per il consumatore. Una proprietà di conteggio preacquisizione ora limita questi messaggi per il consumatore ed evita errori. Precedentemente, in esecuzione `bin/magento queue:consumers:start async.operations.all` ha generato questo errore:  `Broken pipe or closed connection`.

<!-- MC-42075-->

* Gli acquirenti vengono ora reindirizzati alla pagina di accesso come previsto dopo un secondo tentativo di accesso non riuscito. In precedenza, gli acquirenti venivano reindirizzati a una pagina 404 dopo un secondo tentativo di accesso non riuscito. [GitHub-32885](https://github.com/magento/magento2/issues/32885)

<!-- magento/magento2/pull/25279-->

* La validità del token di reimpostazione della password è stata estesa per evitare il verificarsi di una situazione di tipo &quot;race condition&quot; durante l’invio della pagina di modifica della password. [GitHub-29647](https://github.com/magento/magento2/issues/29647)

<!-- AC-1316-->

* Le autorizzazioni assegnate alle nuove integrazioni ora vengono rispettate. [GitHub-33347](https://github.com/magento/magento2/issues/33347)

<!-- AC-1328-->

* È stato corretto un problema di regressione che interessava i messaggi rimasti nei registri eccezioni del modulo Contattaci. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- magento/magento2/pull/31654-->

* Sono stati risolti diversi problemi relativi al caricamento dei dati dei clienti da parte di JavaScript. [GitHub-30498](https://github.com/magento/magento2/issues/30498)

<!-- magento/magento2/pull/33324-->

* Utilizzo di `QuoteIdToMaskedQuoteId` in un’estensione non aumenta più in modo significativo il tempo di risposta. [GitHub-33676](https://github.com/magento/magento2/issues/33676)

<!-- AC-720-->

* La classe `BundleDiscountPrice` in `magento2/app/code/Magento/Bundle/Pricing/Price/ConfiguredPrice.php` è ora dichiarato come previsto. In precedenza, l’applicationOpen Source generava questo errore: `Class Magento\Bundle\Pricing\Price\BundleDiscountPrice not found`. [GitHub-33334](https://github.com/magento/magento2/issues/33334)

<!-- AC-1239-->

* I valori dei campi CSV in escape scritti dall’adattatore AWS S3 ora corrispondono ai dati scritti da altri adattatori del file system.

<!-- MC-43046-->

* È ora supportato lo storage compatibile con S3. [GitHub-32114](https://github.com/magento/magento2/issues/32114)

<!-- ACP2E-123-->

* La disconnessione da un dispositivo non comporta più la disconnessione automatica dell&#39;acquirente da altri dispositivi.

### GraphQL

<!-- PWA-1938-->

* Il `generateCustomerToken` e `revokeCustomerToken` Le mutazioni forniscono ora l’ID cache corretto per lo stato utente. In precedenza, queste mutazioni utilizzavano un valore non valido `x-magento-cache-id`, che ha ridotto le prestazioni.

<!-- PWA-1506-->

* Il `setBillingAddressToCart` la mutazione ora utilizza correttamente `same_as_shipping` parametro per impostare l&#39;indirizzo di fatturazione in modo che corrisponda all&#39;indirizzo di spedizione come previsto. In precedenza, applicationOpen Source visualizzava questo errore: `The shipping method is missing. Select the shipping method and try again`. [GitHub-30924](https://github.com/magento/magento2/issues/30924)

<!-- PWA-1980-->

* Le operazioni del carrello di GraphQL ora calcolano i totali complessivi del carrello solo quando la query lo richiede. In precedenza, le operazioni del carrello calcolavano sempre il totale complessivo, un’operazione che richiede molte risorse.

<!-- MC-42781-->

* Il `addProductsToCart` mutation ora aggiunge al carrello solo i prodotti assegnati all’archivio definito nell’intestazione.

<!-- MC-42783-->

* `products` le query che utilizzano filtri di navigazione a livelli ora restituiscono gli elenchi di categorie figlio corretti. [GitHub-33387](https://github.com/magento/magento2/issues/33387)

<!-- MC-42831-->

* Query e mutazioni che restituiscono `ConfigurableCartItem` L&#39;oggetto contiene informazioni sulle varianti configurate come previsto.

<!-- MC-42082-->

* Il `products` query ora restituisce i valori delle opzioni del prodotto di configurazione e i valori degli attributi di variante. In precedenza, questi valori erano vuoti nelle risposte alle query.

<!-- MC-41794-->

* Il `products` query ora filtra correttamente i prodotti del bundle quando i prodotti secondari sono disabilitati a livello di visualizzazione store. In precedenza, la query restituiva prodotti secondari disabilitati a livello di visualizzazione archivio.

<!-- MC-42903-->

* Il `setShippingAddressesOnCart` mutation ora supporta l’impostazione degli indirizzi di spedizione su un carrello con un valore di numero di telefono vuoto quando **Mostra telefono** L’impostazione di configurazione amministratore è facoltativa. In precedenza, l’applicationOpen Source generava questo errore: `Field CartAddressInput.telephone of required type String! was not provided`.

<!-- MC-42970-->

* È stato corretto un problema a causa del quale `addSimpleProductsToCart` la mutazione ti ha permesso di aggiungere prodotti semplici a un carrello che non sono assegnati al sito web di target.

<!-- MC-42600-->

* Le query MySQL sono state ottimizzate per GraphQL `products` query che utilizzano parametri di ricerca per perfezionare i risultati della ricerca.

<!-- MC-43189-->

* Il `addConfigurableProductToCart` la mutazione non supporta più l’aggiunta di un prodotto a un carrello se il prodotto non è incluso nell’ambito richiesto.

<!-- MC-42666-->

* Il `products` query ora restituisce solo le varianti configurabili assegnate alla visualizzazione archivio richiesta. In precedenza, venivano restituite tutte le varianti del prodotto configurabile richiesto.

<!-- MC-42652-->

* `addSimpleProductsToCart` ora è possibile eseguire correttamente le richieste in parallelo. In precedenza, più richieste per lo stesso SKU creavano righe duplicate per lo stesso ID carrello, anziché aumentare la quantità di prodotto come previsto.

<!-- AC-856-->

* Il `addProductsToCompareList` La mutazione può ora essere utilizzata per confrontare varianti di prodotti configurabili.

<!-- MC-42443-->

* Quando il prezzo di un prodotto di livello viene aggiornato dal backend, il nuovo prezzo viene aggiornato correttamente sul carrello del cliente. In precedenza, anche se il subtotale nella sezione di riepilogo del carrello veniva aggiornato correttamente, il subtotale della riga non veniva aggiornato.

<!-- AC-697-->

* Il `addProductsToCart` mutation ora aggiunge al carrello tutte le opzioni selezionate quando viene utilizzato per aggiungere prodotti bundle con più opzioni di selezione. In precedenza, la mutazione aggiungeva solo l’ultima selezione. [GitHub-33123](https://github.com/magento/magento2/issues/33123)

<!-- MC-38815-->

* Le query GraphQL ora restituiscono l’indirizzo di fatturazione come previsto quando il valore di un campo telefono opzionale è impostato su una stringa vuota. In precedenza, le query restituivano un valore di indirizzo null. [GitHub-30218](https://github.com/magento/magento2/issues/30218)

<!-- ACP2E-51-->

* Il `products` la risposta alla query elenca ora i prodotti in base all’ordinamento specificato quando più prodotti hanno la stessa rilevanza o lo stesso valore di prezzo.

<!-- ACP2E-75-->

* Simultaneo `addSimpleProductsToCart` e `addProductsToCart` Le richieste non generano più virgolette duplicate.

<!-- ACP2E-76-->

* `products` i filtri di navigazione a livelli di query ora restituiscono gli elenchi di categorie secondarie corretti. Ora sono incluse solo le sottocategorie dirette quando `includeDirectChildrenOnly` Il flag è fornito nella richiesta. In precedenza, tutte le categorie venivano incluse nella risposta nella sezione di aggregazione quando un prodotto veniva assegnato a più categorie.

<!-- ACP2E-132-->

* È stata aggiunta la funzionalità di suggerimento di ricerca per le query di ricerca di GraphQL.

<!-- ACP2E-288-->

* Il `OrderAddress.telephone` è ora facoltativo in `customer` query o altre query e mutazioni che restituiscono o modificano indirizzi di ordini cliente.

<!-- ACP2E-278-->

* Ora i prezzi vengono aggiornati correttamente per i clienti di un gruppo specifico sia nella vetrina che nell’amministratore quando un ID gruppo viene modificato tramite API. In precedenza, questi prezzi non venivano aggiornati correttamente quando un ID gruppo veniva modificato tramite API.

### Immagine

<!-- MC-42080-->

* Le immagini filigrane con sfondi trasparenti non presentano più uno sfondo bianco sull&#39;immagine trasparente del prodotto sovrapposta. In precedenza, quando sia l’immagine della filigrana che l’immagine del prodotto avevano uno sfondo trasparente, la filigrana veniva visualizzata con uno sfondo bianco.

<!-- AC-1240-->

* I logo per le fatture e le ricevute di spedizione ora vengono caricati e visualizzati come previsto quando AWS S3 è abilitato.

<!-- MC-42160-->

* Il tag multimediale associato a un’immagine aggiunta a una pagina CMS in una distribuzione in cui l’amministratore è impostato su un dominio diverso dall’URL dello store ora contiene gli URL dello store come previsto. In precedenza, i tag multimediali contenevano URL di amministrazione statici invece degli URL di archiviazione previsti. [GitHub-32930](https://github.com/magento/magento2/issues/32930)

<!-- ACP2E-315-->

* Il Magento Open Source non genera più un errore quando si scarica la cache delle immagini durante il caricamento simultaneo di immagini sulla vetrina.

### Importa/esporta

<!-- AC-1486-->

* `bin/magento remote-storage:sync` non ha più esito negativo quando i nomi dei file sono simili, ma differiscono solo di uno o due caratteri. In precedenza, la prima immagine veniva memorizzata correttamente, ma la seconda, con lo stesso nome, causava un errore di sincronizzazione e questo errore: `Notice: Undefined index: media/catalog/product/5/_ in /src/vendor/magento/module-remote-storage/Driver/Adapter/Cache/Generic.php on line 197`. [GitHub-34337](https://github.com/magento/magento2/issues/34337)

<!-- MC-41672 23734-->

* Il Magento Open Source ora converte la marca temporale nel nome del file di esportazione nel fuso orario dell’utente dopo un’esportazione pianificata. In precedenza, questi valori non venivano convertiti e Magenti Open Source visualizzava la marca temporale UTC.

<!-- MC-42330-->

* Il Magento Open Source non crea più immagini duplicate nell&#39;archiviazione remota quando lo stesso file CSV viene importato più di una volta.

<!-- AC-1045-->

* L’importazione non ha più esito negativo con questo messaggio: `Import failed: Area code not set: Area code must be set before starting a session`. [GitHub-16171](https://github.com/magento/magento2/issues/16171)

<!-- AC-988-->

* Ora puoi importare correttamente dopo l’esecuzione `bin/magento app:config:dump` e modifica manuale `config.php`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- MC-41672-->

* I separatori di più valori non predefiniti possono ora essere utilizzati negli attributi di selezione multipla personalizzati. In precedenza, la convalida non riusciva durante l’importazione. [GitHub-23156](https://github.com/magento/magento2/issues/23156)

<!-- ACP2E-86-->

* La posizione del prodotto nelle categorie viene ora assegnata correttamente durante l’importazione dal file CSV.

### Indice

<!-- MC-42791-->

* Magenti Open Source ora visualizza i prodotti come previsto nella vetrina dopo la reindicizzazione. In precedenza, quando i primi 500 prodotti reindicizzati erano in stock e i successivi 500 prodotti erano esauriti, la vetrina non presentava prodotti aggiuntivi.

<!-- magento/magento2/pull/27212-->

* Sono stati risolti problemi di coerenza in unite `indexer.xml` file. I valori consentiti in `classType` sono ora gli stessi in non uniti e uniti `indexer.xml` file. [GitHub-29609](https://github.com/magento/magento2/issues/29609)

<!-- AC-190-->

* È stato implementato un meccanismo di sincronizzazione negli indici di categoria per impedire l’esecuzione in parallelo di indici completi e parziali. In precedenza, quando questi indicizzatori venivano eseguiti in parallelo, i prodotti potevano essere temporaneamente omessi dalle pagine delle categorie della vetrina o le pagine delle categorie potevano essere temporaneamente vuote di prodotti.

### Infrastruttura

<!-- AC-1172-->

* Il non supportato `str_contains` il metodo è stato sostituito con una funzione supportata. Questo era un problema noto per il Magento Open Source 2.4.3. [GitHub-33680](https://github.com/magento/magento2/issues/33680)

<!-- magento/partners-magento2ee/pull/573-->

* Refactoring della base di codice per correggere l&#39;utilizzo della parola chiave `match`, parola chiave riservata in PHP 8.x. [GitHub-33626](https://github.com/magento/magento2/issues/33626)

* I tag HTML ora sono nidificati e chiusi correttamente per soddisfare gli standard in JQuery 3.5.x per gli elementi non vuoti, inclusi gli elementi personalizzati. <!-- AC-1942-->

<!-- magento/magento2/pull/34234)-->

* Fisso `abs()` e `round()` funzioni per la compatibilità con PHP7.x e PHP8.x.  [GitHub-34322](https://github.com/magento/magento2/issues/34322)

<!-- AC-719-->

* Aggiornamento `symfony/console` non causa più errori durante l’esecuzione `bin/magento setup:di:compile`. [GitHub-33595 ](https://github.com/magento/magento2/issues/33595)

<!-- magento/magento2/pull/34175-->

* È stata corretta la restrizione per `colinmollenhour/cache-backend-redis` Dipendenza del compositore. [GitHub-34177](https://github.com/magento/magento2/issues/34177)

<!-- magento/magento2/pull/33932 magento/magento2/pull/33992-->

* È stato eseguito il refactoring della base di codice per rimuovere le chiamate ai metodi obsoleti di `phpunit/phpunit`. [GitHub-33916](https://github.com/magento/magento2/issues/33916)

<!-- MC-42960-->

* Il Magento Open Source visualizza ora un errore informativo quando un amministratore con una proprietà di sola lettura `pubs/media` tenta di accedere alla pagina dei dettagli di un prodotto che include immagini. In precedenza, l’applicazione Open Source generava un errore PHP. [GitHub-32819](https://github.com/magento/magento2/issues/32819)

<!-- AC-853-->

* Tutti i livelli membro `@api` le annotazioni sono state spostate nella rispettiva classe in tutta la base di codice.

<!-- AC-1977-->

* `gift-card Cms` i dati del widget sono stati spostati da `Magento/WidgetSampleData` (Magento Open Source) a `Magento/GiftCardSampleData` (Adobe Commerce) Questo ha risolto i problemi di installazione (Magento Open Source) con dati di esempio su PHP8.1.

<!-- AC-1001-->

* Interfacce contrassegnate nella base di codice dell&#39;integrazione di Adobe Stock con `@api` secondo necessità. [GitHub-32875](https://github.com/magento/magento2/issues/32875)

<!-- AC-1770-->

* I numeri interi e i numeri in virgola mobile nei set di risultati vengono ora restituiti utilizzando tipi PHP nativi anziché stringhe quando si utilizzano istruzioni preparate emulate. [GitHub-34625](https://github.com/magento/magento2/issues/34625)

<!-- AC-1697-->

* La creazione automatica di array da valori falsi è stata disabilitata per garantire la compatibilità con PHP 8.1.

<!-- AC-1338-->

* L&#39;aiutante `Magento\Payment\Helper\Data` non crea più nuovi layout nei costruttori. In precedenza, quando questo helper veniva utilizzato in comandi personalizzati senza specificare un indicativo di località, l’applicazione Open Source generava un errore. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1077-->

* Ora puoi superare un `data` argomento di un costruttore di istanza di blocco `di.xml`.

<!-- MC-43096-->

* Ottimizzato `Generator.php` leggibilità. [GitHub-33809](https://github.com/magento/magento2/issues/33809)

<!-- AC-1313-->

* È stato migliorato il controllo JWK in `JwsManager` classe per gestire le situazioni in cui l’algoritmo è impostato direttamente nell’intestazione. In precedenza, questo controllo ignorava questo scenario valido. [GitHub-32636](https://github.com/magento/magento2/issues/32636)

#### Aggiornamenti delle dipendenze JavaScript

<!-- magento/magento2/pull/33871-->

* `jquery-validate` libreria di terze parti [GitHub-33853](https://github.com/magento/magento2/issues/33853)

<!-- ENGCOM-8667-->

* `Less.js` (v3.13.1) [GitHub-32845](https://github.com/magento/magento2/issues/32845)

#### Rimozioni ed elementi obsoleti della libreria

* Le seguenti librerie sono state rimosse perché tutti i browser supportati dal Magento Open Source 2.4.x supportano questa funzionalità:

   * `es6-collections.js`   <!-- AC-18-->
   * `MutationObserver.js` <!-- AC-15-->
   * `Modernizr` <!-- AC-12-->
   * `FormData.js`

* Rimosso il non utilizzato `jquery.hoverIntent` Libreria JavaScript. [GitHub-33732](https://github.com/magento/magento2/issues/33732) <!-- AC-97-->

* `lib/internal/Magento/Framework/Filter/Money.php` è stato dichiarato obsoleto. Contiene il `money_format()` che è stata rimossa in PHP 8.x. [GitHub-33870](https://github.com/magento/magento2/issues/33870)<!-- magento/magento2/pull/34366)-->

* Rimozione di obsoleto, non supportato `grunt-autoprefixer` pacchetto. [GitHub-34037](https://github.com/magento/magento2/issues/34037) <!-- magento/magento2/pull/34032-->

#### Aggiornamenti libreria

* Le seguenti librerie sono state aggiornate a versioni più recenti:

   * `script.aculo.us` <!-- AC-363-->
   * `Chart.js`  <!-- AC-361-->
   * `moment.js` <!-- AC-11-->
   * `moment-timezone-with-data.js`   <!-- AC-10-->
   * `matchMedia.js` <!-- AC-8-->
   * `underscore.js`  <!-- AC-13-->
   * `PrototypeJS`  <!-- AC-17-->
   * `RequireJS`
   * `LessCSS`

### Fattura

<!-- AC-1564-->

* Casting in `int` è stato rimosso per gli ID fattura incrementati automaticamente quando è preceduto da una stringa. Di conseguenza, nelle fatture viene ora visualizzato uno 0 per i numeri con prefisso stringa. [GitHub-34451](https://github.com/magento/magento2/issues/34451)

### Registrazione

<!-- MC-42360-->

* Il Magento Open Source non crea più voci di registro per le chiamate API non riuscite che eseguono azioni in blocco in **Sistema** > **Azioni in blocco**. In precedenza, le voci permanenti per le chiamate API non riuscite venivano aggiunte al registro delle azioni in blocco.

<!-- AC-1607-->

* La creazione automatica di array da valori falsi non è più consentita. [GitHub-34499](https://github.com/magento/magento2/issues/34499), [GitHub-34589](https://github.com/magento/magento2/issues/34589)

### Codifica standard Adobe Commerce

<!-- magento/magento-coding-standard/pull/219-->

* Aggiornato `phpunit/ phpunit` alla versione più recente per `magento-coding-standard` archivio. [GitHub-33622](https://github.com/magento/magento2/issues/33622)

<!-- magento/magento2/pull/33858-->

* È stato aggiornato il `webonyx/graphql-php` dipendenza dalla versione ^14.9 nell’archivio standard di codifica di Adobe Commerce. [GitHub-32863](https://github.com/magento/magento2/issues/32863)

<!-- magento/magento-coding-standard/pull/322-->

* È stato aggiunto un nuovo sniff `Magento2.PHP.ArrayAutovivification` allo standard di codifica Adobe Commerce per identificare la creazione automatica di array da un valore falso. [GitHub-34509](https://github.com/magento/magento2/issues/34509)

<!-- magento/magento-coding-standard/pull/325-->

* È stato aggiunto un nuovo sniff `Magento2.Functions.DeprecatedFunction` allo standard di codifica Adobe Commerce. [GitHub-34547](https://github.com/magento/magento2/issues/34547)

<!-- magento/magento-coding-standard/pull/326-->

* Funzioni obsolete aggiunte a sniff `Magento2.Functions.DiscouragedFunction` nello standard di codifica Adobe Commerce. [GitHub-34548](https://github.com/magento/magento2/issues/34548)

<!-- magento/magento-coding-standard/pull/335-->

* Il `Magento2.Annotation.MethodAnnotationStructure` sniff non ha più esito negativo con un falso positivo. [GitHub-34679](https://github.com/magento/magento2/issues/34679)

### Raccolta file multimediali

<!-- AC-1054-->

* Il `bin/magento media-gallery:sync` Il comando non ha più esito negativo nelle distribuzioni in cui è abilitato AWS S3.

<!-- AC-1000-->

* I nuovi titoli dei sottomenu di Media Gallery Content vengono ora visualizzati quando le voci di menu superano 11 e il **Abilita raccolta file multimediali obsoleti** l&#39;impostazione di configurazione è attivata. [GitHub-33889](https://github.com/magento/magento2/issues/33889)

<!-- MC-42837-->

* È stato migliorato il tempo di caricamento della scheda Media Gallery durante la modifica di un prodotto con molte immagini. [GitHub-33434](https://github.com/magento/magento2/issues/33434)

### MFTF

<!-- AC-516-->

* `CURLOPT_POSTFIELDS` non accetta più oggetti come array. Per interpretare un oggetto come un array, eseguire un&#39;operazione`array`) cast. Questa procedura si applica anche ad altre opzioni che accettano array. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

* `curl_init()` ora restituisce un `CurlHandle` anziché una risorsa. Il `curl_close()` La funzione non ha più alcun effetto. Al contrario, `CurlHandle` L&#39;istanza viene eliminata automaticamente se non vi viene più fatto riferimento. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

<!-- AC-1397-->

* Sono stati corretti gli errori nei test MFTF per i prodotti scaricabili. [GitHub-34270](https://github.com/magento/magento2/issues/34270)

<!-- magento/magento2/pull/33530-->

* Rimosso `CliCacheFlushActionGroup` da `CatalogSearch`, `GroupedProduct`, `Newsletter`, `Paypal`, `Quote`, e `Review` moduli. [GitHub-33531](https://github.com/magento/magento2/issues/33531)

<!-- AC-515-->

* I confronti non rigorosi tra numeri e stringhe non numeriche ora funzionano eseguendo il cast del numero in stringa e confrontando le stringhe. I confronti tra numeri e stringhe numeriche continuano a funzionare come prima. Ciò significa che 0 == &quot;not-a-number&quot; ora è considerato falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-517-->

* `parse_url()` ora distingue tra query e frammenti vuoti e assenti. [GitHub-33782](https://github.com/magento/magento2/issues/33782)

<!-- magento/magento2-functional-testing-framework/pull/873-->

* La base di codice è stata aggiornata per evitare errori irreversibili durante l’utilizzo di `ReflectionType::isBuiltin()` metodo. [GitHub-34194](https://github.com/magento/magento2/issues/34194)

#### Nuovi gruppi di azioni

`AdminCheckOrderStatusInGridActionGroup` [GitHub-33747](https://github.com/magento/magento2/issues/33747)

`StorefrontSelectFirstShippingMethodActionGroup` [GitHub-33773](https://github.com/magento/magento2/issues/33773)

`AdminClickUpdateChangesOnCreateOrderPageActionGroup` [GitHub-33689](https://github.com/magento/magento2/issues/33689)

#### Gruppi di azioni

Le azioni ripetitive sono state sostituite da gruppi di azioni in questi test:

`AdminAddInStockProductToTheCartTest` [GitHub-34512](https://github.com/magento/magento2/issues/34512)

`AdminAddBundleItemsTest` [GitHub-34312](https://github.com/magento/magento2/issues/34312)

`AdminConfigurableProductAddConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductBulkUpdateTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminConfigurableProductDisableAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductOutOfStockAndDeleteCombinationTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductOutOfStockTestDeleteChildrenTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductRemoveAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductRemoveConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminCreateAndEditSimpleProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateAndEditVirtualProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateInactiveFlatCategoryTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminCreateInactiveInMenuFlatCategoryTest` [GitHub-34510](https://github.com/magento/magento2/issues/34510)

`AdminCreateDuplicateCategoryTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminCreateDuplicateProductTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminDeleteSimpleProductTest` [GitHub-33783](https://github.com/magento/magento2/issues/33783)

`AdminEditRelatedBundleProductTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminMassDeleteBundleProductsTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminNavigateMultipleUpSellProductsTest` [GitHub-34314](https://github.com/magento/magento2/issues/34314)

`AdminSimpleProductSetEditContentTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminSimpleProductTypeSwitchingToConfigurableProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminConfigurableProductTypeSwitchingToVirtualProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminCreateConfigurableProductWithDisabledChildrenProductsTest` [GitHub-33775](https://github.com/magento/magento2/issues/33775)

`AdminUpdateFlatCategoryAndAddProductsTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminUpdateTopCategoryUrlWithNoRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`AdminUpdateTopCategoryUrlWithRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`CatalogProductListWidgetOperatorsTest`  [GitHub-34579](https://github.com/magento/magento2/issues/34579)

`CreateProductAttributeEntityWithReservedKeysTest`[GitHub-34422](https://github.com/magento/magento2/issues/34422)

`EnableDisableBundleProductStatusTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`StorefrontCheckRefundGrandTotalActionGroup` [GitHub-34315](https://github.com/magento/magento2/issues/34315)

`StorefrontInactiveCatalogRuleTest` [GitHub-33556](https://github.com/magento/magento2/issues/33556)

`StorefrontConfigurableProductCantAddToCartTest` [GitHub-33786](https://github.com/magento/magento2/issues/33786)

`StorefrontConfigurableProductOptionsTest` [GitHub-33785](https://github.com/magento/magento2/issues/33785)

`StorefrontConfigurableProductCanAddToCartTest` [GitHub-33784](https://github.com/magento/magento2/issues/33784)

`StorefrontConfigurableProductGridViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontConfigurableProductListViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontProductNameWithHTMLEntitiesTest` [GitHub-33806](https://github.com/magento/magento2/issues/33806)

`StorefrontProductNameWithDoubleQuoteTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

#### Nuovi test

`AdminCreateOrderWithCheckedAppendCommentCheckboxTest` [GitHub-32381](https://github.com/magento/magento2/issues/32381)

`CheckoutWithEnabledCaptchaTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

`StorefrontAddProductWithBackordersAllowedOnProductLevelToCartTest` [GitHub-33635](https://github.com/magento/magento2/issues/33635)

`StorefrontGiftMessageForOrderOnCheckoutCartPageTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCaptchaCheckoutWithEnabledCaptchaTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCheckoutWithEnabledMinimumOrderAmountOptionTest` [GitHub-33460](https://github.com/magento/magento2/issues/33460)

#### Test refactoring

`CaptchaWithDisabledGuestCheckoutTest` [GitHub-30828](https://github.com/magento/magento2/issues/30828)

### Newsletter

<!-- ACP2E-147-->

* Gli utenti con le autorizzazioni appropriate ora possono gestire gli abbonamenti alle newsletter dei clienti come previsto. In precedenza, solo gli amministratori con autorizzazioni complete potevano gestire gli abbonamenti alle newsletter dei clienti nella pagina Account cliente amministratore.

### Ordine

<!-- MC-41981-->

* Ora gli acquirenti possono riordinare un ordine esistente contenente un prodotto con la combinazione di opzioni personalizzate di tipo file e tipo menu a discesa sia dalla vetrina che dall’amministratore. In precedenza, applicationOpen Source generava un errore e non elaborava il riordino.

<!-- MC-42332-->

* La pagina dei dettagli dell’ordine di amministrazione ora viene caricata come previsto. In precedenza, applicationOpen Source generava il seguente errore durante il caricamento della pagina dei dettagli dell&#39;ordine per gli ordini con determinate imposte: `Call to a member function getId() on array`.

<!-- MC-38521-->

* Gli amministratori con autorizzazioni limitate che includono privilegi di ordine e spedizione ora possono visualizzare la pagina dell’ordine come previsto. In precedenza, applicationOpen Source generava un errore quando un amministratore con queste autorizzazioni tentava di visualizzare un ordine. [GitHub-14633](https://github.com/magento/magento2/issues/14633)

<!-- ACP2E-74-->

* Ora gli acquirenti possono effettuare un ordine che include un prodotto configurabile secondario quando è impostato un limite massimo per la quantità consentita.

## Metodi di pagamento

<!-- AC-1830-->

* Gli acquirenti ora possono utilizzare Braintree per effettuare un ordine utilizzando un indirizzo di fatturazione senza un&#39;area impostata nelle distribuzioni con 3DS abilitato. In precedenza, il pagamento era bloccato quando l’acquirente faceva clic su **Inserisci ordine** e non è stato possibile completare l’acquisto. [GitHub-34204](https://github.com/magento/magento2/issues/34204)

<!-- AC-1229-->

* L&#39;opzione di pagamento Venmo è ora supportata.

<!-- AC-1228-->

* PayPal ora può tenere traccia del codice BN.

<!-- AC-493-->

* `bin/magento setup:upgrade` ora viene eseguito come previsto durante l’aggiornamento dal Magento Open Source 2.4.2-p1. In precedenza, l’applicationOpen Source generava questo errore: `Unable to apply data patch Magento\Paypal\Setup\Patch\Data\UpdateBmltoPayLater for module Magento_Paypal`. [GitHub-33678](https://github.com/magento/magento2/issues/33678)

<!-- MC-42830-->

* L’ID store corretto viene ora utilizzato per recuperare le carte di credito salvate durante l’inserimento dell’ordine di amministrazione. Le carte di credito memorizzate vengono ora visualizzate durante il posizionamento dell&#39;ordine in base all&#39;impostazione di configurazione dell&#39;ambito del sito Web. In precedenza, quando un amministratore tentava di creare un ordine per un cliente dall’amministratore e selezionava il metodo Carte di credito memorizzate, non erano disponibili opzioni per le carte memorizzate.

<!-- AC-344-->

* Sono state risolte le anomalie con la visualizzazione PayPal Credit degli importi delle gift card. In precedenza, quando PayPal Credit era abilitato e venivano configurati più importi di gift card, se un acquirente cambiava l&#39;importo per il valore di una gift card, la vetrina non aggiornava l&#39;importo per i pagamenti rateali. Questo era un problema noto nel Magento Open Source 2.4.3.

### PayPal

<!-- MC-42154-->

* Il Magento Open Source non visualizza più un errore durante il pagamento con il metodo PayPal Express. In precedenza, anche se il processo di pagamento era stato completato, l&#39;applicazione Open Source mostrava questo errore: `Something went wrong`.

<!-- AC-722-->

* PayPal Express ora funziona come previsto dal carrello. In precedenza, quando si selezionava **PayPal** per avviare il pagamento rapido dal carrello, l&#39;applicazione Open Source ha generato questo errore:  `To check out, please sign in with your email address`. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42279-->

* PayPal Payflow Pro ora esegue l&#39;acquisizione ritardata con gli ID transazione padre corretti nelle implementazioni in cui il gateway PayPal Payflow Pro con **Azione di pagamento** è impostato su **Autorizzazione**. A **Vendita** La transazione viene inviata al Payflow con un ID transazione padre del token di Vault creato al momento del pagamento come previsto. Precedentemente, un **Acquisizione ritardata**  La transazione è stata creata e inviata al Payflow PayPal. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42442-->

* Gli acquirenti vengono ora reindirizzati alla pagina del successo come previsto dopo il completamento del pagamento con PayPal Payments Advanced. In precedenza, gli acquirenti non venivano reindirizzati a questa pagina anche se il pagamento era stato elaborato correttamente e non erano stati registrati errori.

### Prestazioni

<!-- MC-42158-->

* Il tempo di esecuzione del caricamento dell’elenco moduli è migliorato.

<!-- AC-932-->

* Sono state migliorate le prestazioni della cache termini di ricerca popolari. Precedentemente, più grande era `search_query` tabella, il tempo necessario per il completamento di una query di ricerca è maggiore. [GitHub-27559](https://github.com/magento/magento2/issues/27559)

<!-- MC-42892-->

* Per impostazione predefinita, il Magento Open Source ridimensiona le immagini in modo sincrono durante il salvataggio del prodotto. Gli esercenti possono ora ridimensionare le immagini come processo asincrono in background apportando modifiche minori a un `di.xml` file.

<!-- ENGCOM-9168-->

* Le prestazioni dell’indicizzatore dei prodotti per categorie sono state migliorate nelle distribuzioni in più store. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-1179-->

* La nuova cache in memoria per `glob()` le chiamate di sistema migliorano le prestazioni riducendo il numero di `glob()` chiamate.  [GitHub-34025](https://github.com/magento/magento2/issues/34025)

<!-- ACP2E-63-->

* Sono state migliorate le prestazioni del processo di reindicizzazione asincrona della griglia degli ordini.

<!-- ACP2E-117-->

* Il consumo di memoria durante l’esportazione del prodotto è stato ottimizzato.

### Prezzi

<!-- MC-42243-->

* L’ordinamento dei prezzi ora funziona come previsto quando i prezzi dei prodotti sono prossimi o uguali a zero e i cataloghi condivisi sono abilitati. In precedenza, i prezzi a livello zero venivano ignorati durante la reindicizzazione dei prezzi.

### ProductAlert

<!-- MC-41917-->

* Il nuovo `product_alert` consumer migliora l&#39;invio degli avvisi dei clienti creando messaggi di coda, eseguendo il consumer e migliorando i tempi di esecuzione. In precedenza, applicationOpen Source generava un&#39;eccezione di memoria insufficiente quando si inviavano più di 100.000 avvisi di prodotto. L’applicazione Open Source ha inoltre impiegato più di 20 ore per inviare tutti gli avvisi.

<!-- ACP2E-87-->

* Il Magento Open Source non genera più un errore se il filtro prezzi nella pagina Categoria non contiene un secondo valore. In precedenza, applicationOpen Source generava un&#39;eccezione nel file di registro.

### Video del prodotto

<!-- MC-42105-->

* Il Magento Open Source ora abilita **Salva** e completa automaticamente i campi quando inserisci un URL incompleto durante l’aggiunta di un video (amministratore **Catalogo**  > **Prodotti** > **Aggiungi video**). Precedentemente, il **Salva** il pulsante è stato disattivato e i campi non sono stati compilati.

### Recensioni

* Nella vista elenco prodotti viene ora visualizzata la valutazione corretta con stelle per i prodotti. [GitHub-30196](https://github.com/magento/magento2/issues/30196)

<!-- ACP2E-89-->

* Le recensioni ora sono visibili come previsto quando un acquirente fa clic su **Revisione** nella pagina del prodotto vetrina.

<!-- ACP2E-111-->

* La valutazione a stelle del prodotto è ora coerente nelle visualizzazioni Griglia ed Elenco nella pagina dell&#39;elenco di prodotti della vetrina. In precedenza, lo stesso prodotto poteva avere valutazioni diverse nelle modalità di visualizzazione a griglia e a elenco.

### Vendite

<!-- MC-42025-->

* Sono state migliorate le prestazioni degli aggiornamenti della griglia di vendita in modalità asincrona per le tabelle con set di dati di grandi dimensioni dopo l’aggiornamento a MariaDB 10.2.34.

<!-- MC-42531-->

* Il Magento Open Source ora rimuove i tag HTML come previsto dalla vetrina **Account** > **I miei ordini** > **Ordine di visualizzazione** pagina. In precedenza, applicationOpen Source visualizzava i tag HTML nella sezione relativa ai commenti sugli ordini dei clienti in vetrina.

<!-- MC-42377-->

* Copertura dei test automatizzati per verificare l’esistenza di un indice per `sales_shipment_grid.order_id` è stato aggiunto.

<!-- MC-43163-->

* `POST V1/orders` le chiamate ora aggiornano gli attributi dell&#39;estensione senza errori. In precedenza, si verificava un errore di sintassi SQL.

### Ricerca {#search-heading}

<!-- MC-42799-->

* Le opzioni di navigazione a livelli per l&#39;intervallo di prezzi ora funzionano come previsto con gli attributi di prezzo personalizzati. L&#39;applicazione Open Source utilizza la configurazione del passaggio di navigazione del prezzo quando si filtrano gli attributi del prezzo personalizzati. In precedenza, applicationOpen Source utilizzava la configurazione manuale dei passaggi.

<!-- MC-42545-->

* La vetrina ora mostra tutte le sottocategorie della categoria corrente in una navigazione a livelli indipendentemente dal numero di categorie disponibili nel catalogo.

<!-- MC-41706-->

* Le ricerche nel catalogo di Elasticsearch ora non fanno più distinzione tra segni diacritici. In precedenza, la ricerca di termini senza un accento generava risultati diversi rispetto alla ricerca con un accento sullo stesso termine.

<!-- ACP2E-8-->

* Il peso della ricerca ora è impostato correttamente sugli attributi SKU che contengono caratteri speciali.

<!-- ACP2E-36-->

* `category_name` è stato aggiunto ai codici degli attributi del prodotto riservati al sistema. L’applicazione Open Source ora mostra un errore se un utente tenta di creare un attributo di prodotto con il codice attributo `category_name`. In precedenza, i prodotti non venivano elencati nella categoria prevista ed era stato registrato un errore di Elasticsearch.

<!-- ACP2E-68-->

* I termini di ricerca più comuni ora vengono aggiornati dopo ogni query di ricerca di GraphQL.

<!-- ACP2E-249-->

* Il Magento Open Source ora aggiunge campi prezzo corretti alla mappatura dell&#39;indice di prezzo Elasticsearch. In precedenza, all’indice venivano aggiunti campi prezzo errati con ID negozio invece che con ID sito web.

### Spedizione

<!-- MC-42758-->

* L&#39;e-mail di spedizione ora include il numero di registrazione solo per la spedizione corrente. In precedenza, quando un ordine includeva più spedizioni, l&#39;e-mail di ciascuna spedizione includeva i numeri di registrazione di tutte le spedizioni correlate all&#39;ordine.

<!-- MC-42396-->

* Magenti Open Source ora aggiorna il mini carrello correttamente quando un acquirente elimina un prodotto dal suo carrello durante la modalità multi-shipping, quindi passa a un singolo indirizzo di spedizione. In precedenza, i prezzi dei prodotti non venivano aggiornati come previsto.

<!-- AC-267-->

* L&#39;importazione delle velocità delle tabelle ora funziona come previsto quando si utilizza l&#39;adattatore di storage S3. In precedenza, applicationOpen Source visualizzava questo errore: `File "https://[bucket].s3.eu-central-1.amazonaws.com/[prefix]/tmp/phpLjGmHf" not found`. [GitHub-33072](https://github.com/magento/magento2/issues/33072)

<!-- magento/magento2/pull/33232-->

* Ora puoi disabilitare le e-mail di aggiornamento della spedizione come previsto da **Negozi**  > **Configurazione**  >  **Vendite**  >  **E-mail vendite**. [GitHub-33165](https://github.com/magento/magento2/issues/33165)

<!-- ACP2E-31-->

* Il Magento Open Source ora visualizza le spese di spedizione gratuite (0) sui totali della pagina delle fatture di amministrazione e vetrina. In precedenza, quando la spedizione era pari a zero per un ordine, l&#39;applicazione Open Source non visualizzava l&#39;importo della spedizione in totali nella pagina fattura spedizione totale.

<!-- ACP2E-120-->

* Le richieste di tariffe ai vettori di spedizione online sono state ridotte da diverse a una sola. I prezzi di assicurazione e movimentazione dei pacchetti per articolo/pacchetto ora vengono calcolati correttamente. In precedenza, applicationOpen Source mostrava tariffe di spedizione errate per i metodi di spedizione FedEx.

<!-- ACP2E-174-->

* Il Magento Open Source ora visualizza le tariffe UPS quando si creano etichette di spedizione per la spedizione da Porto Rico. In precedenza, applicationOpen Source non visualizzava queste frequenze UPS.

<!-- ACP2E-227-->

* L&#39;indirizzo stradale di spedizione viene ora cancellato completamente come previsto dopo la rimozione dalla casella di immissione. In precedenza, la casella di testo conteneva uno o più caratteri dopo l&#39;eliminazione dell&#39;indirizzo.

### Archivia

<!-- MC-42884-->

* La funzione Accedi come cliente ora funziona come previsto nelle distribuzioni che contengono più archivi su URL diversi. In precedenza, applicationOpen Source non caricava l’archivio corretto, anche quando si accedeva al dominio dell’archivio corretto.

### Imposta

<!-- MC-41924-->

* Il Magento Open Source ora calcola correttamente il subtotale del mini carrello quando un cliente elimina un articolo dopo aver selezionato la spedizione a più indirizzi.

<!-- MC-41945-->

* Il Magento Open Source ora mostra la stessa aliquota su tutte le pagine di pagamento quando il carrello contiene solo prodotti virtuali.

<!-- AC-714-->

* I prezzi a livello per i prodotti configurabili ora visualizzano valori di imposta precisi inclusi ed esclusi nella vetrina. In precedenza, venivano visualizzati gli stessi valori sia per le imposte incluse che per quelle escluse. [GitHub-33673](https://github.com/magento/magento2/issues/33673)

### Test

<!-- magento/magento2/pull/34798-->

* I test WebAPI sono ora compatibili con PHP 8.1. [GitHub-34653](https://github.com/magento/magento2/issues/34653)

<!-- magento/magento2/pull/34820-->

* I test di integrazione sono ora compatibili con PHP 8.1. [GitHub-34567](https://github.com/magento/magento2/issues/34567), [GitHub-34569](https://github.com/magento/magento2/issues/34569)

<!-- AC-1225-->

* I commercianti possono ora testare l&#39;esperienza dell&#39;acquirente del paese in cui si trova l&#39;acquirente, piuttosto che la posizione del commerciante.

* I test funzionali sono stati stabilizzati per la compatibilità con PHP 8.x. [GitHub-34327](https://github.com/magento/magento2/issues/34327), [GitHub-34188](https://github.com/magento/magento2/issues/34188)

<!-- magento/magento2/pull/34198-->

* Sono stati risolti i problemi funzionali nei test WebAPI. [GitHub-34196](https://github.com/magento/magento2/issues/34196)

<!-- AC-1207-->

* Sono stati corretti gli errori che causavano falsi positivi ai test statici. [GitHub-34056](https://github.com/magento/magento2/issues/34056)

<!-- magento/magento2/pull/34300-->

* La copertura del test è stata aggiornata per `call_user_func_array`. [GitHub-34301](https://github.com/magento/magento2/issues/34301)

<!-- AC-1978-->

* Il `Magento\GraphQl\CatalogGraphQl\ProductSearchTest` il test non genera più questo errore quando viene eseguito con l’Elasticsearch AWS: `Magento\GraphQl\CatalogGraphQl\ProductSearchTest::testSearchSuggestions Failed asserting that an array is not empty. /var/www/html/dev/tests/api-functional/testsuite/Magento/GraphQl/CatalogGraphQl/ProductSearchTest.php:94 /var/www/html/dev/tests/api-functional/framework/Magento/TestFramework/TestCase/GraphQlAbstract.php:257`.

<!-- magento/magento2/pull/33699-->

* Sono stati corretti numerosi avvisi di unit test non critici rinominando tutte le variabili fittizie in modo da includere `Mock` e la rimozione di riferimenti a una classe Object Manager obsoleta. [GitHub-33695](https://github.com/magento/magento2/issues/33695)

* Il `Magento\Framework\MessageQueue\TopologyTest` il test è ora compatibile con AWS MQ per [!DNL RabbitMQ] servizio. In precedenza, questo test non riusciva con questo messaggio: `Invalid exchange configuration: magento-topic-based-exchange1 Failed asserting that two arrays are equal`. <!-- AC-1248-->

<!-- magento/magento2/pull/34454-->

* Gli unit test sono ora compatibili con PHP 8.1. [GitHub-34441](https://github.com/magento/magento2/issues/34441)

#### Test di unità

I seguenti unit test sono stati reimpostati per l’utilizzo `PHPUnit` invece di `AspectMock`:

`AllureHelperTest` [GitHub-33294](https://github.com/magento/magento2/issues/33294)

`ObjectHandlerUtil` [GitHub-33584](https://github.com/magento/magento2/issues/33584)

`MockModuleResolverBuilder` [GitHub-33583](https://github.com/magento/magento2/issues/33583)

`MagentoTestCase`  [GitHub-33582](https://github.com/magento/magento2/issues/33582)

`ModuleResolverTest` [GitHub-33308](https://github.com/magento/magento2/issues/33308)

`ParallelGroupSorterTest` [GitHub-33306](https://github.com/magento/magento2/issues/33306)

`SuiteGeneratorTest` [GitHub-33299](https://github.com/magento/magento2/issues/33299)

`OperationDataArrayResolverTest`  [GitHub-33296](https://github.com/magento/magento2/issues/33296)

### Tema

<!-- MC-41887-->

* I messaggi di notifica ora vengono visualizzati correttamente quando il Magento Open Source ha un percorso secondario configurato nel suo URL di base.

<!-- MC-42469-->

* È stato aggiunto un `aria-label` al modello della pagina vetrina per indicare la pagina a cui l&#39;acquirente si sposterà facendo clic su un collegamento. In precedenza, lo stesso testo di collegamento veniva utilizzato per collegamenti a pagine diverse. [GitHub-33075](https://github.com/magento/magento2/issues/33075)

<!-- ACP2E-73-->

* Il Magento Open Source non visualizza più un messaggio di errore durante il caricamento della home page di un archivio con un tema personalizzato preesistente. In precedenza, applicationOpen Source visualizzava questo messaggio:  `The store will not work correctly in the case when cookies are disabled`.

### Traduzioni e lingue

<!-- AC-285-->

* Il `UserExpiration` la convalida non ha più esito negativo con `de_DE` e `uk_UA` impostazioni internazionali. In precedenza, applicationOpen Source generava un errore quando un amministratore tentava di impostare una data di scadenza durante la creazione di un nuovo utente da Admin con le impostazioni internazionali impostate su `de_DE` o `uk_UA`. [GitHub-32497](https://github.com/magento/magento2/issues/32497)

<!-- magento/magento2/pull/33787-->

* I nomi delle regioni svizzere vengono ora presentati in inglese nei moduli per la creazione o la modifica degli indirizzi. [GitHub-32602](https://github.com/magento/magento2/issues/32602)

<!-- magento/magento2/pull/33128-->

* Aggiornato `zip_codes.xml` modelli per Guernsey per supportare i codici postali GY10 per l&#39;isola di Sark. [GitHub-33144](https://github.com/magento/magento2/issues/33144)

<!-- AC-1080-->

* Aggiunte regioni bielorusse al `directory_country_region` tabella. [GitHub-33924](https://github.com/magento/magento2/issues/33924)

<!-- AC-1178-->

* Sono state risolte le anomalie di visualizzazione con vetrine con le impostazioni locali filippine. [GitHub-33996](https://github.com/magento/magento2/issues/33996)

<!-- AC-1308-->

* È ora possibile immettere correttamente la data di nascita di un cliente quando si crea un nuovo account nei negozi impostati per la lingua portoghese (Portogallo). In precedenza, il Magento Open Source generava un errore quando si tentava di creare un account. [GitHub-34130](https://github.com/magento/magento2/issues/34130)

<!-- ACP2E-457-->

* La pagina dei dettagli del prodotto viene ora visualizzata correttamente con le impostazioni internazionali arabe (Arabia Saudita). In precedenza, questa impostazione locale interrompeva la pagina dei dettagli del prodotto.

### UI

<!-- AC-258-->

* Sono stati corretti gli errori con i test MFTF che utilizzano `maps.googleapis.com`.

<!-- MC-41850-->

* Il Magento Open Source ora taglia i caratteri di spazio unificatori dal campo di immissione del modulo Contattaci. In precedenza, il modulo veniva inviato senza rimuovere gli spazi unificatori dall’input dell’e-mail (se fornito), causando errori nei file di registro. Il **Risposta** campo mancante anche nel messaggio e-mail di contatto generato inviato all’amministratore del negozio.

<!-- MC-42793-->

* Magenti Open Source ora visualizza i prodotti correlati, i prodotti di upselling e i prodotti di cross-selling in base alle loro posizioni nell’amministratore.

<!-- MC-42502-->

* `.action-close` ora funzionano come previsto quando `Multiselect` viene utilizzato in un modale. Precedentemente, il `action-close` non ha funzionato perché ha ereditato il CSS del  `.action-close` del modale. [GitHub-27240](https://github.com/magento/magento2/issues/27240)

<!-- AC-1217-->

* Lo snippet di offerte avanzato è ora presente sul campo prezzo principale nella visualizzazione Prodotto. In precedenza, questo frammento mancava da questo campo nel blocco dei prodotti correlati nella visualizzazione Prodotto, causando la visualizzazione di prezzi errati nei risultati di ricerca di Google. [GitHub-34063](https://github.com/magento/magento2/issues/34063)

<!-- AC-1584-->

* Sono stati risolti i problemi relativi all’altezza modale sui dispositivi con iOS. [GitHub-34467](https://github.com/magento/magento2/issues/34467)

<!-- MC-40106-->

* I menu a discesa Azioni ora sono posizionati correttamente in tutta la vetrina. [GitHub-31379](https://github.com/magento/magento2/issues/31379)

<!-- AC-1589-->

* Sono stati risolti gli errori di accessibilità relativi alla navigazione nel carrello e alle pagine di pagamento. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Gli assistenti vocali ora possono leggere tutti gli elementi del modulo pertinenti sulle pagine dei prodotti.

<!-- AC-872-->

* Ordinamento widget prodotti catalogo Storefront (**Catalogo** > **Categoria** > **Prodotti**) ora corrisponde all&#39;ordine configurato in Admin. [GitHub-27126](https://github.com/magento/magento2/issues/27126)

<!-- AC-725-->

* Il selettore di regione ora funziona come previsto nella pagina Crea un account. [GitHub-30099](https://github.com/magento/magento2/issues/30099)

<!-- MC-42750-->

* Nella griglia clienti amministratore vengono ora visualizzati tutti i dati dei clienti, compresi i nuovi dati aggiunti `date` attributi personalizzati, come previsto. In precedenza, applicationOpen Source generava un errore e non visualizzava correttamente la griglia del cliente Admin quando `date` set di attributi impostato come colonna.

<!-- AC-1280-->

* Etichette di input sul **Catalogo**  >  **Prodotto** La pagina dei dettagli è stata modificata per riflettere con precisione lo scopo dell’input. I campi per i quali non è richiesto l&#39;input dell&#39;utente non visualizzano più etichette con un asterisco.

<!-- AC-1275-->

* È ora possibile accedere alla barra degli strumenti dell’editor Rich Text utilizzando il tasto TAB.

<!-- AC-1284-->

* Il nome accessibile del controllo ora include il testo dell&#39;etichetta visibile per il numero di elementi per pagina.

<!-- AC-1287-->

* La tabella controlla il **Catalogo** > **Prodotto** la pagina dei dettagli ora include etichette visibili e un nome accessibile quando la tabella viene compressa.

<!-- AC-1285-->

* I pulsanti nella vetrina ora hanno nomi accessibili univoci e descrittivi. In precedenza, i pulsanti suddivisi con un pulsante di testo e un pulsante di icona freccia giù adiacente avevano lo stesso nome accessibile.

<!-- AC-1168-->

* È stato aggiunto un **Oggi** visualizzare l&#39;opzione nei grafici del pannello di controllo Ordini di amministrazione e importi per fornire un riepilogo delle vendite e degli ordini nell&#39;arco della giornata. [GitHub-34008](https://github.com/magento/magento2/issues/34008)

<!-- AC-1481-->

* Stato attivo (clic) della selezione multipla **Chiudi** ora funziona in modo coerente. [GitHub-34338](https://github.com/magento/magento2/issues/34338)

<!-- magento/magento2/pull/31879-->

* Il Magento Open Source non visualizza più questo messaggio dopo l’aggiornamento quando la modalità di restrizione cookie è disabilitata: `The store will not work correctly in the case when cookies are disabled`. [GitHub-33811](https://github.com/magento/magento2/issues/33811)

<!-- ACP2E-7-->

* Le immagini dei prodotti a schermo intero ora vengono visualizzate correttamente sui temi con la direzione di navigazione verticale delle miniature sui dispositivi mobili. In precedenza, le immagini dei prodotti venivano ridimensionate in modo errato o non erano visibili sui temi con direzione di navigazione verticale delle miniature sui dispositivi mobili in modalità a schermo intero.

<!-- ACP2E-23-->

* I messaggi di errore nella pagina dei dettagli del prodotto non scompaiono più rapidamente quando **Sincronizzare i prodotti widget con lo storage back-end** l&#39;impostazione di configurazione è attivata.

<!-- ACP2E-70-->

* La convalida per i valori negativi è stata aggiunta al **Quantità da restituire** nel modulo Crea nuovo reso.

<!-- ACP2E-105-->

* Il Magento Open Source non visualizza più indirizzi duplicati quando un acquirente fa clic su **Cambia indirizzo** nella pagina Revisione e pagamenti in una distribuzione in cui **Ricerca indirizzo** l&#39;impostazione di configurazione è attivata.

<!-- ACP2E-136-->

* Il **Aggiungi prodotti** Il pulsante è ora attivato come previsto per gli amministratori con autorizzazioni limitate quando si lavora nell’ambito della visualizzazione store nella pagina Categoria amministratore.

<!-- ACP2E-169-->

* I punti di interruzione di visualizzazione sono ora coerenti tra i diversi Magenti Open Source.

<!-- ACP2E-199-->

* Nella pagina del cliente amministratore, ora Magenti Open Source visualizza correttamente gli attributi di data del cliente personalizzati con impostazioni internazionali personalizzate.

<!-- MC-41760-->

* Le immagini aggiunte utilizzando Page Builder non vengono più duplicate nella vetrina se visualizzate con una larghezza di 768 px nella finestra del browser. In precedenza, con questa larghezza della finestra del browser, l’applicazione Open Source duplicava le immagini sulla vetrina mostrando sia la versione mobile che quella desktop delle immagini.

### Riscritture URL

<!-- AC-1510-->

* Le riscritture URL non vengono più rigenerate per tutte le visualizzazioni dello store durante la creazione di una nuova visualizzazione dello store durante l’esecuzione `bin/magento setup:upgrade`. [GitHub-32954](https://github.com/magento/magento2/issues/32954)

### Framework API web

<!-- MC-42008-->

* Le richieste API web per risorse cliente autorizzate non generano più errori di autorizzazione quando è abilitato il carrello acquisti persistente.

<!-- MC-42313-->

* È ora possibile creare oggetti utilizzando le classi figlio di `\Magento\Framework\Api\AbstractSimpleObjectBuilder` sul PHP 7.3. Precedentemente, `preg_match` ha lanciato questo messaggio di avvertenza quando il Magento Open Source era ospitato su Redhat con PHP 7.3: `Warning: preg_match(): Compilation failed: unrecognized character follows...`.

<!-- MC-24548-->

* Totali recuperati da `PUT /V1/guest-carts/:cartId/collect-totals` Le richieste di sono ora aggiornate dal corretto `shippingMethod`. [GitHub-18508](https://github.com/magento/magento2/issues/18508)

<!-- MC-30627 AC-796-->

* L’aggiunta di un nuovo deserializzatore all’API REST non rimuove più altri deserializzatori. In precedenza, l’API REST accettava un nuovo tipo di contenuto, ma i tipi di contenuto definiti da CORE per le API non funzionavano più e restituivano un errore 400. [GitHub-26433](https://github.com/magento/magento2/issues/26433)

<!-- AC-698-->

* È ora possibile rimuovere una sostituzione per un parametro definito in un `webapi.xml`file. [GitHub-33843](https://github.com/magento/magento2/issues/33843)

<!-- AC-1212-->

* Il Magento Open Source ora genera un `customertoken` richieste API REST o GraphQL come previsto dopo più tentativi consecutivi di accesso non riuscito. In precedenza, applicationOpen Source non verificava se il valore di `lock_expires_at` in `oauth_token_request_log` è stato maggiore della data e dell’ora correnti e ha sempre restituito il numero di tentativi non riusciti, impedendo al cliente di effettuare l’accesso. [GitHub-34067](https://github.com/magento/magento2/issues/34067)

<!-- AC-1190-->

* Aggiunta di un ID offerta mascherato a `QuoteRepository::getList` non causa più un ciclo infinito. In precedenza, questo comportamento veniva attivato dall’utilizzo del processore dei pagamenti che si basava sull’API REST per aggiornare gli ordini. [GitHub-33675](https://github.com/magento/magento2/issues/33675)

<!-- MC-41612-->

* Il `/rest/all/V1/categories/<above_created_category_id>`  La chiamata PUT ora rispetta i valori specificati da `available_sort_by`.  In precedenza, era selezionato il menu a discesa Ordina per elenco prodotti disponibile con tutte le opzioni possibili nella pagina Categoria e il **Usa tutto** è stata selezionata. [GitHub-32596](https://github.com/magento/magento2/issues/32596)

<!-- ACP2E-11-->

* Sono state migliorate le prestazioni delle richieste REST API per la creazione dei token del cliente.

<!-- ACP2E-91-->

* È stato corretto un errore che si verificava quando **Aggiungi codice store agli URL** è impostato su **Sì** e una chiamata REST non includeva un codice store. Sebbene il payload fosse valido, la chiamata ha restituito il seguente errore: `Fatal error: Allowed memory size of ********** bytes exhausted (tried to allocate **** bytes) in vendor/magento/module-store/Model/StoreRepository.php on line 75`.

<!-- ACP2E-153-->

* È ora possibile creare contemporaneamente fatture parziali per lo stesso ordine utilizzando l’API REST.

### Lista dei desideri

<!-- MC-41880-->

* Il Magento Open Source non riproduce più una lista dei desideri nella barra laterale della categoria quando **Mostra nella barra laterale** l&#39;opzione della lista dei desideri è disabilitata. In precedenza, applicationOpen Source ignorava questa opzione.

### WYSIWYG

<!-- ACP2E-17-->

* PageBuilder ora esegue correttamente il rendering dei widget personalizzati con l’editor WYSIWYG.

## Problemi noti

**Problema**: i commercianti possono notare avvisi di downgrade della versione del pacchetto durante l’aggiornamento da Adobe Commerce 2.4.4 a Adobe Commerce 2.4.4-p1. Questi messaggi possono essere ignorati. La discrepanza nelle versioni dei pacchetti deriva da anomalie durante la generazione dei pacchetti. Nessuna funzionalità del prodotto interessata. Consulta la [Pacchetti declassati dopo l’aggiornamento da 2.4.4 a 2.4.4-p1](https://support.magento.com/hc/en-us/articles/8214752983949)  Articolo della knowledge base per una discussione sugli scenari interessati e soluzioni alternative.

**Problema**: gli acquirenti non possono aggiungere un prodotto al carrello se non è selezionata alcuna opzione in Amministratore **Archivia** >  **Configurazione** > **Generale** > **Opzioni paese** > **Consenti paesi**. L’applicazione Open Source visualizza invece il seguente errore della console: `Failed to load resource: the server responded with a status of 400 (Bad Request)`. <!-- AC-2564-->

**Problema**: descrizione di Dotdigital attivata **Trova partner ed estensioni** > **Magento Marketplace** è obsoleto. Ecco una descrizione aggiornata:

Dotdigital è una piattaforma di coinvolgimento dei clienti che aiuta gli esperti di marketing digitale e gli sviluppatori a fornire comunicazioni all’interno del percorso di clienti. Sfruttiamo la potenza dei dati dei clienti, aumentando il coinvolgimento, la conversione e la fedeltà dei brand in base alla loro crescita e scalabilità. I clienti apprezzano la nostra piattaforma facile da usare che collega i dati di prime parti attraverso i sistemi, fornendo informazioni approfondite e automatizzando messaggi predittivi cross-channel.

Oltre 350 dipendenti di Dotdigital sono al servizio di aziende di medie e grandi dimensioni in tutto il mondo e nei diversi settori. Aspiriamo ad ispirare un marketing responsabile e ci impegniamo per la sostenibilità, la privacy e la sicurezza. Dotdigital è orgogliosa di essere la prima piattaforma di automazione del marketing a zero emissioni di carbonio, certificata per ISO 14001, ISO 27701 e ISO 27001.

Consulta [Dotdigital — Automazione del marketing](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html) per informazioni su acquisto e download.

## Contributi comunitari

Siamo grati alla comunità del Magento Open Source e desideriamo riconoscere il loro contributo a questa versione.

Il team di progettazione della community [Collaboratori Magento](https://magento.com/magento-contributors) mantiene un elenco dei principali soggetti e partner contributori per mese, trimestre e anno. Dalla pagina Collaboratori, puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi dei partner

Nella tabella seguente vengono evidenziati i contributi dei partner. Questa tabella elenca il Partner che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-4-partner.md}}

### Contributi dei singoli collaboratori

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca il membro della community che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-4-issues.md}}

### Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](../../../installation/system-requirements.md).

### Istruzioni di installazione e aggiornamento

È possibile installare Magenti Open Source 2.4.4 utilizzando [Compositore](../../../installation/composer.md).

## Kit di strumenti di migrazione

Lo strumento di migrazione dei dati consente di trasferire i dati archiviati dal Magento 1.x al Magento 2.x. Questa interfaccia della riga di comando include funzioni di verifica, monitoraggio dell&#39;avanzamento, registrazione e test. Per le istruzioni di installazione, consulta [Installare lo strumento di migrazione dei dati](../../../tools/data-migration-tool/install.md). Valuta se esplorare o contribuire a [Archivio di migrazione dati](https://github.com/magento/data-migration-tool).

Il [Toolkit di migrazione del codice](https://github.com/magento-commerce/code-migration) consente di trasferire estensioni e personalizzazioni di store di Magento 1.x esistenti in Magento 2.x. L&#39;interfaccia della riga di comando include script per la conversione di moduli e layout Magento 1.x.
