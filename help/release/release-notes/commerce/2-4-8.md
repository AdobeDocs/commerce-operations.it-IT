---
title: Note sulla versione di Adobe Commerce 2.4.8
description: Scopri nuove funzioni, miglioramenti, correzioni di bug e problemi noti nella versione 2.4.8 di Adobe Commerce.
exl-id: 54b8cc02-5d38-4acd-97e7-e9205e69a1af
source-git-commit: 9eeb0e3a1c75b25cc70b092d23f02ebfe355d6bd
workflow-type: tm+mt
source-wordcount: '3206'
ht-degree: 0%

---


# Note sulla versione di Adobe Commerce 2.4.8

{{bics}}

## In evidenza

Adobe Commerce 2.4.8 offre sicurezza avanzata, compatibilità con PHP 8.4 e MariaDB 11.4, miglioramenti estesi alle API GraphQL per accelerare la migrazione a un nuovo [Adobe Commerce Storefront](https://experienceleague.adobe.com/developer/commerce/storefront/?lang=it) basato su Edge Delivery e oltre 500 correzioni di qualità e miglioramenti per migliorare le funzionalità esistenti. L’aggiornamento alla versione 2.4.8 mantiene la piattaforma sicura, in linea con i più recenti progressi tecnologici e supportata fino ad aprile 2028.

>[!BEGINSHADEBOX]

**Raccomandazioni per l&#39;adozione**

Quando pianifichi l&#39;aggiornamento ad Adobe Commerce 2.4.8, considera le priorità aziendali, la versione corrente e pianifica l&#39;adozione del nuovo [Adobe Commerce as a Cloud Service](https://experienceleague.adobe.com/it/docs/commerce/cloud-service/overview).

* **Se prevedi di adottare Adobe Commerce as a Cloud Service nei prossimi 12-16 mesi**: applica subito la patch di sicurezza più recente e pianifica l&#39;aggiornamento come parte del tuo passaggio a Cloud Service.

* **Se non prevedi di adottare Adobe Commerce as a Cloud Service nei prossimi 12-16 mesi, OPPURE se prevedi di adottare Adobe Commerce Optimizer in tale arco temporale**: la timeline dell&#39;aggiornamento dipende dalla versione corrente.

   * **Versioni 2.4.4, 2.4.5 o 2.4.6**: applica ora la patch di sicurezza più recente e avvia presto l’aggiornamento ad Adobe Commerce 2.4.8, poiché il supporto per 2.4.4 termina ad aprile 2026, mentre il supporto per 2.4.5 e 2.4.6 termina ad agosto 2026.

   * **Versione 2.4.7**: applica la patch di sicurezza più recente. Mentre ti invitiamo ad effettuare l’aggiornamento il prima possibile per sfruttare i miglioramenti più recenti, hai la flessibilità di scegliere un periodo di tempo che sia in linea con le priorità aziendali. La tua versione continuerà a essere supportata fino ad aprile 2027.

>[!ENDSHADEBOX]

### Sicurezza

I seguenti miglioramenti di sicurezza in questa versione migliorano la conformità alle più recenti best practice per la sicurezza:

>[!NOTE]
>
>Per informazioni aggiornate sulle correzioni dei bug di sicurezza, vedere [Adobe Security Bulletin APSB25-26](https://helpx.adobe.com/it/security/products/magento/apsb25-26.html).

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Impostazioni</strong></td>
            <td>Questa versione include i seguenti miglioramenti alle impostazioni di sicurezza:
              <ul>
                <li><strong>Duo Security 2FA</strong>: questa modifica aggiorna l'implementazione <a href="https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/2fa/security-two-factor-authentication-use#duo-security">Duo Security</a> di autenticazione a due fattori (2FA) in Adobe Commerce per utilizzare la versione più recente di SDK (Web SDK v4). Questo aggiornamento consente ai commercianti di passare facilmente all’utilizzo di Duo Universal Prompt. Gli esercenti devono aggiornare la propria configurazione nelle impostazioni dell’amministratore per includere un ID client e un segreto.<!-- AC-10982 --></li>
                <li><strong>Chiavi di crittografia</strong>: <!-- AC-12679 -->È stata riprogettata la gestione delle chiavi di crittografia per migliorarne l'usabilità ed eliminare limitazioni e bug precedenti. Sono ora disponibili nuovi comandi CLI per <a href="https://experienceleague.adobe.com/it/docs/commerce-admin/systems/security/encryption-key">modificare</a> chiavi e <a href="https://developer.adobe.com/commerce/php/development/security/data-encryption/">ricrittografare</a> determinati dati di configurazione di sistema, pagamento e campi personalizzati. La modifica delle chiavi nell’interfaccia utente di amministrazione non è più supportata in questa versione. Utilizzare i comandi CLI. Per ulteriori informazioni, vedere l'articolo della Knowledge Base relativo alla risoluzione dei problemi relativi alla rotazione delle chiavi di crittografia: CVE-2024-34102</a>.<a href="https://experienceleague.adobe.com/it/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102"></li>
                <li><strong>Impostazioni password monouso (OTP)</strong>: questo aggiornamento è necessario per risolvere un errore introdotto da una <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/#new-system-configuration-validation-for-two-factor-authentication-otp_window-value">modifica non compatibile con le versioni precedenti</a> nella versione 2.4.7. La descrizione del campo <strong>[!UICONTROL OTP Window]</strong> fornisce ora una spiegazione accurata dell'impostazione e il valore predefinito è stato modificato da <code>1</code> a <code>29</code>.<!-- AC-11762 --></li>
              </ul>
            </td>
        <tr>
            <td><strong>Integrità della sottorisorsa (SRI)</strong></td>
            <td>Il meccanismo <a href="https://developer.adobe.com/commerce/php/development/security/subresource-integrity/">SRI</a> introdotto nella versione 2.4.7 è stato rielaborato per migliorare l'affidabilità e le prestazioni. Anziché archiviare gli hash in una cache personalizzata che potrebbe essere cancellata durante le operazioni di svuotamento della cache, gli hash SRI vengono ora archiviati direttamente nella directory <code>pub/static</code> e organizzati per area (<code>adminhtml</code>, <code>base</code>, <code>frontend</code>). Questa modifica elimina la necessità di ridistribuire il contenuto statico dopo lo svuotamento della cache.</td>
        </tr>
    </tbody>
</table>

### Piattaforma

I seguenti aggiornamenti di piattaforma per questa versione assicurano che Adobe Commerce rimanga una piattaforma solida e affidabile, pronta per soddisfare le esigenze dei moderni ambienti commerce:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Cache</strong></td>
            <td>Questa versione include il supporto per Valkey 8.x.<!-- AC-12027 --></td>
        </tr>
        <tr>
            <td><strong>Database</strong></td>
            <td>In linea con i <a href="/help/release/lifecycle-policy.md">criteri del ciclo di vita del supporto</a>, Adobe Commerce è ora compatibile con le seguenti versioni LTS (Long-term Support) delle seguenti tecnologie di database:
              <ul>
                <li><strong>MariaDB 11.4 LTS</strong> <em>_(supportato fino al 2029)_</em>: la versione precedente (MariaDB 10.6) ha raggiunto la fine del ciclo di vita nel 2026, rendendo questo aggiornamento essenziale per mantenere l'integrità e le prestazioni del sistema. MariaDB 10.6 è ancora supportato, ma Adobe consiglia di eseguire l’aggiornamento a MariaDB 11.4 quando si esegue l’aggiornamento ad Adobe Commerce 2.4.8.</li>
                <li><strong>MySQL 8.4 LTS</strong> <em>_(supportato fino al 2032)_</em>: la versione precedente (MySQL 8.0) ha raggiunto la fine del ciclo di vita nel 2026, rendendo questo aggiornamento essenziale per mantenere l'integrità e le prestazioni del sistema. MySQL 8.0 è ancora supportato, ma Adobe consiglia di eseguire l’aggiornamento a MySQL 8.4 quando si esegue l’aggiornamento ad Adobe Commerce 2.4.8</li>
              </ul>
            Questa versione include i seguenti miglioramenti al database:
              <ul>
                <li><strong>Regole di confronto MySQL</strong>: per impostazione predefinita, il sistema utilizza le regole di confronto <code>utf8mb4</code> per MySQL, garantendo la compatibilità con MySQL 8 e la verifica per il futuro rispetto alla deprecazione di <code>utf8mb3</code>. In precedenza, il sistema utilizzava le regole di confronto <code>utf8mb3</code>, che in MySQL 8 diventavano obsolete.<!-- AC-8828 --></li>
                <li><strong>Restrizioni delle chiavi esterne MySQL</strong>: MySQL 8.4 introduce una convalida della chiave esterna più rigorosa per impostazione predefinita. L'impostazione <code>restrict_fk_on_non_standard_key</code> è ora attivata per impostazione predefinita, che limita l'utilizzo di chiavi non univoche o parziali come chiavi esterne. I commercianti che eseguono l'aggiornamento da MySQL 8.0 a MySQL 8.4 devono impostare esplicitamente questo parametro su OFF oppure utilizzare l'opzione server <code>--skip-restrict-fk-on-non-standard-key</code> per mantenere la compatibilità con le strutture di database esistenti. Per ulteriori dettagli, vedere la <a href="/help/upgrade/prepare/prerequisites.md#mysql"><em>Guida all'aggiornamento</em></a>.<!-- AC-14257 --></li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Coda messaggi</strong></td>
            <td>Questa versione aggiunge il supporto per RabbitMQ 4.x. Prima di eseguire l'aggiornamento a RabbitMQ 4, i clienti Adobe Commerce Cloud e on-premise devono <a href="https://www.rabbitmq.com/docs/3.13/migrate-mcq-to-qq">migrare da [!DNL classic mirrored queues] a [!DNL quorum queues]</a>. Questa migrazione è necessaria perché:
              <ul>
                <li>[!DNL Classic mirrored queues] non sono supportati in RabbitMQ 4</li>
                <li>[!DNL Quorum queues] mantenere un'elevata disponibilità replicando i contenuti della coda su più nodi</li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>PHP</strong></td>
            <td>Questa versione include i seguenti miglioramenti PHP:
            <ul>
              <li><strong>PHP 8.4</strong>: questa versione aggiunge la compatibilità PHP 8.4 per Adobe Commerce, le estensioni in bundle e le estensioni, i servizi e gli strumenti di proprietà di Adobe. Il PHP 8.3 è ancora supportato. PHP 8.2 è ancora compatibile, ma solo a scopo di aggiornamento. La compatibilità PHP 8.4 ha richiesto <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/">modifiche che causano interruzioni</a>.<!-- AC-12133,AC-13078,AC-13726,AC-13077 --></li>
              <li>Adobe Commerce <strong>PHP 8.1</strong>: questa versione rimuove PHP 8.1 da tutte le librerie di progetti, le dipendenze, le estensioni in bundle e le estensioni, i servizi e gli strumenti di proprietà di Adobe.<!-- AC-13038 --></li>
              <li><strong>PHP 8.1</strong>: questa versione rimuove la compatibilità PHP 8.1 per Adobe Commerce 2.4.8. Prima di eseguire l’aggiornamento ad Adobe Commerce 2.4.8, è necessario eseguire l’aggiornamento a PHP 8.3.</li>
              <li><strong>PHP 8.2</strong>: una delle modifiche più importanti di PHP 8.2 consiste nel rendere obsoleti i parametri della funzione interna che non ammettono i valori Null. Questa versione risolve le funzioni obsolete di PHP 8.1 nei componenti della piattaforma di base e garantisce la compatibilità con PHP 8.2.</li>
              <li><strong>PHPUnit 10</strong>: questa versione risolve diversi problemi critici, migliora la compatibilità e assicura che il framework di test di Adobe Commerce sia allineato agli standard di settore più recenti. Adobe consiglia a tutti i fornitori e i clienti di Commerce Marketplace con personalizzazioni di verificare che i test di unità e integrazione vengano eseguiti su PHPUnit 10 anziché su 9.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Componenti</strong></td>
            <td>I seguenti <a href="/help/release/packages/adobe-commerce.md">componenti e dipendenze</a> di terze parti sono stati aggiornati alle ultime versioni stabili per migliorare la stabilità e le prestazioni della piattaforma:
              <ul>
                <li>Compositore 2.8.x<!-- AC-12028 --></li>
                <li>glob 11.0.0<!-- AC-13076 --></li>
                <li>grunt-contrib-connect 5.0.0<!-- AC-13076 --></li>
                <li>grunt-eslint 25.0.0<!-- AC-13076 --></li>
                <li>imagemin-svgo 11.0.1<!-- AC-13076 --></li>
                <li>jquery/bootstrap 5.3.3<!-- AC-13076 --></li>
                <li>jquery/jstree 3.3.17<!-- AC-13076 --></li>
                <li>jquery.tabs.js 5.3.2<!-- AC-13076 --></li>
                <li>jquery/validate 1.20.x</li>
                <li>js-cookie/js-cookie 3.0.5<!-- AC-13076 --></li>
                <li>moment.js 2.30.1</li>
                <li>monologo/monologo 3.x</li>
                <li>monolog/Require.js 2.3.7</li>
                <li>nginx 1,26<!-- AC-12012 --></li>
                <li>phpunit/phpunit 10.x<!-- AC-12970 --></li>
                <li>server-static 1.16.2<!-- AC-13076 --></li>
                <li>TinyMCE 6.8.5<!-- AC-13256 --></li>
                <li>trattino basso 1.13.7<!-- AC-13076 --></li>
                <li>Uppy 4.4.0<!-- AC-13076 --></li>
                <li>Vernice 7.6.x<!-- AC-12029 --></li>
                <li>wikimedia/less.php 5.x</li>
              </ul>
              I seguenti componenti sono stati rimossi:
                <ul>
                  <li>TinyMCE 5<!-- AC-12944 --></li>
                </ul>
              Tutte le dipendenze Laminas sono state aggiornate alla versione più recente, ad eccezione delle seguenti, che sono state sostituite con pacchetti alternativi o funzionalità PHP native:
                <ul>
                  <li>File laminas/laminas</li>
                  <li>laminas/laminas-mail</li>
                  <li>laminas/laminas-mime</li>
                  <li>laminas/laminas-oauth</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Ricerca</strong></td>
            <td>Adobe Commerce è ora ottimizzato per OpenSearch 2.19 e non è più compatibile con Elasticsearch. Tutti i moduli e le classi Elasticsearch 7 e 8 sono ora obsoleti nella base di codice. Adobe consiglia vivamente di passare a OpenSearch per implementazioni di infrastrutture sia on-premise che cloud, al fine di garantire supporto e compatibilità continui. Consulta <a href="/help/upgrade/prepare/opensearch-migration.md">Migrazione a OpenSearch</a>.
              <ul>
                <li>Le opzioni Elasticsearch 7 e Elasticsearch 8 ora sono etichettate come "(Obsoleto)" nella configurazione amministratore.</li>
                <li>Quando un utente seleziona Elasticsearch come motore di ricerca nella configurazione Admin, Commerce visualizza una notifica con il seguente messaggio: <em>"Questa opzione del motore di ricerca non è più supportata da Adobe. È consigliabile utilizzare OpenSearch come motore di ricerca."</em></li>
              </ul>
            </td>
        </tr>
    </tbody>
</table>

### Prestazioni

Questa versione include i seguenti miglioramenti delle prestazioni:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Indicizzatori</strong></td>
            <td>La modalità <a href="/help/implementation-playbook/best-practices/maintenance/indexer-configuration.md#set-indexers-to-update-on-schedule">indicizzatore</a> predefinita per tutti gli indicizzatori è ora [!UICONTROL Update by Schedule] quando si installa una nuova versione di Adobe Commerce o si esegue l'aggiornamento da una versione precedente. La nuova impostazione predefinita garantisce che gli indicizzatori siano nella configurazione consigliata, migliorando le prestazioni del sistema e riducendo potenziali problemi.</td>
        </tr>
        <tr>
            <td><strong>Prezzi dei prodotti</strong></td>
            <td><!-- AC-13448 -->Il sistema ora consente aggiornamenti in blocco più efficienti dei prezzi dei livelli senza causare problemi di prestazioni o tempi di risposta del sito quando si utilizza l'endpoint REST API <a kref="https://adobe-commerce.redoc.ly/2.4.7-admin/tag/productstier-prices/"><code>/V1/products/tier-prices</code></a>. In precedenza, l’aggiornamento di un numero elevato di prezzi utilizzando questo endpoint poteva causare problemi di prestazioni e la mancata risposta del sito.</td>
        </tr>
    </tbody>
</table>

### Qualità

Questa versione include i seguenti miglioramenti della qualità:

<table style="table-layout:auto">
    <tbody>
        <tr>
           <td><strong>Inventario</strong></td>
           <td>Il sistema ora funziona senza la dipendenza precedentemente nascosta da Catalog introdotta da InventoryIndexer, garantendo che la creazione del prodotto, il cambio della modalità di visualizzazione, la modifica dello stato del magazzino e altre funzionalità correlate funzionino come previsto. In precedenza, questa dipendenza nascosta causava incongruenze in quanto diverse entità venivano sincronizzate e l’indicizzatore utilizzava entità diverse.</td>
        </tr>
        <tr>
            <td><strong>Ordini</strong></td>
            <td>Per evitare confusione, l'etichetta del pulsante [!UICONTROL Submit Comment] è stata modificata in [!UICONTROL Update] nella pagina <a href="https://experienceleague.adobe.com/it/docs/commerce-admin/stores-sales/order-management/orders/order-processing#notes-for-this-order">dettagli ordine</a>.</td>
        </tr>
    </tbody>
</table>

### GraphQL

Questa versione include i seguenti miglioramenti di GraphQL:

<table style="table-layout:auto">
    <tbody>
        <td><strong>Carrello e pagamento</strong></td>
        <td>
            <ul>
                <li><!--LYNX-387-->Sono stati aggiunti i seguenti nuovi campi al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> per supportare la visualizzazione dei prezzi e i calcoli degli sconti accurati:
                <ul>
                  <li><code>original_item_price</code></li>
                  <li><code>original_row_total</code></li>
                  <li><code>row_total_including_catalog_discounts_only</code></li>
                </ul>
              </li>
              <li><!--LYNX-781-->È stato aggiornato il processo di pagamento per GraphQL in modo da visualizzare solo il metodo di pagamento "Gratuito" quando il totale dell’ordine è zero. Questo miglioramento riduce la confusione degli acquirenti e garantisce un’esperienza di acquisto più fluida.</li>
              <li><!--LYNX-753-->È stato aggiunto il supporto per il recupero delle impostazioni di configurazione dei termini e delle condizioni tramite la query GraphQL <code>StoreConfig</code>. Nuove configurazioni disponibili: [!UICONTROL Stores] &gt; [!UICONTROL Settings] &gt; [!UICONTROL Configuration] &gt; [!UICONTROL Checkout] &gt; [!UICONTROL Checkout Options] &gt; [!UICONTROL Enable Terms and Conditions]. Queste impostazioni consentono alle applicazioni front-end di abilitare e configurare dinamicamente termini e condizioni tramite la visualizzazione store nella pagina di pagamento.</li>
              <li><!--LYNX-542-->È stata aggiornata la mutazione <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-updateCartItems"><code>updateCartItems</code></a> per restituire risposte di successo con dettagli di errore anziché eccezioni. È stata migliorata la mappatura degli errori per migliorare la chiarezza delle notifiche degli utenti.</li>
              <li><!--LYNX-541-->È stato aggiunto un nuovo tipo <code>InsufficientStockError</code> per gestire i casi in cui i livelli di stock sono insufficienti. Lo schema è stato modificato per supportare nuovi tipi di errore, migliorando le funzionalità di segnalazione degli errori.</li>
              <li><!--LYNX-547-->Messaggi perfezionati per notifiche sulla quantità insufficienti e non disponibili.</li>
              <li><!--LYNX-451-->È stato aggiunto il campo <code>grand_total_excluding_tax</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartPrices"><code>CartPrices</code></a>, fornendo una chiara determinazione prezzi comprensiva di imposte.</li>
              <li><!--LYNX-377-->Aggiunta di <code>not_available_message</code> a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemInterface"><code>CartItemInterface</code></a> completata.</li>
              <li><!--LYNX-731-->È stato aggiunto il supporto di GraphQL per il recupero delle informazioni sulle regole del carrello. Sono state introdotte nuove configurazioni di store per controllare l'esposizione di tutte le regole del carrello e di quelle applicate, insieme alla query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/cart/queries/all-rules/"><code>allCartRules</code></a> e al campo <code>Cart.rules</code> per recuperare le regole del carrello attive.</li>
            </ul>
        </td>
       </tr>
        <tr>
           <td><strong>Clienti e gruppi di clienti</strong></td>
           <td>Questa versione include i seguenti miglioramenti alla gestione dei clienti:
             <ul>
               <li><!--LYNX-391-->È stata perfezionata la gestione degli errori nella mutazione <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-generateCustomerToken"><code>generateCustomerToken</code></a> per fornire messaggi specifici per le e-mail non confermate. Supporta una migliore guida utente e la risoluzione degli errori.</li>
               <li><!--LYNX-390-->È stata aggiunta una nuova mutazione <code>resendConfirmationEmail</code> per l'invio di conferme e-mail.</li>
               <li><!--LYNX-773-->Aggiunta nuova query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/segments/"><code>customerSegments</code></a> per abilitare le funzionalità di personalizzazione.</li>
               <li><!--LYNX-729-->Aggiunta della query <code>customerGroup</code> per restituire informazioni relative al gruppo di clienti per ospiti e clienti.</li>
               <li><!--LYNX-732-->Sono state aggiunte nuove configurazioni dello store per la gestione dei gruppi di clienti, è stata introdotta la query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/all-groups/"><code>allCustomerGroups</code></a> per recuperare un elenco di tutti i gruppi di clienti disponibili ed è stato esposto il campo <code>Customer.group</code> per accedere alle informazioni sul gruppo del cliente attualmente connesso.</li>
               <li><!--LYNX-566-->È stato aggiunto il campo <code>customer.addressesV2</code> nella query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/customer/"><code>customer</code></a>, aggiungendo l'impaginazione per gli indirizzi dei clienti.</li>
             </ul>
           </td>
        </tr>
        <tr>
           <td><strong>Ordini</strong></td>
           <td>Questa versione include i seguenti miglioramenti alla gestione degli ordini degli utenti:
             <ul>
              <li><!--LYNX-476-->Messaggi di errore migliorati per includere gli importi delle scorte disponibili. Fornisce agli utenti informazioni più chiare sui livelli delle scorte durante gli aggiornamenti degli ordini.</li>
              <li><!--LYNX-470-->È stato aggiunto un nuovo campo <code>date_of_first_order</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-468-->Esteso il tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderAddress"><code>OrderAddress</code></a> per includere attributi personalizzati, migliorando la visibilità dei dettagli dell'ordine. Supporta la visualizzazione di informazioni aggiuntive nelle pagine di conferma degli ordini.</li>
              <li><!--LYNX-450-->È stato aggiunto il campo <code>is_virtual</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, che supporta l'identificazione del prodotto virtuale. Migliora l'elaborazione degli ordini distinguendo i prodotti virtuali da quelli fisici.</li>
              <li><!--LYNX-449-->È stato aggiunto un tipo <code>OrderItemPrices</code> simile a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderItemInterface"><code>OrderItemInterface</code></a> con diversi nuovi campi per il prezzo.</li>
              <li><!--LYNX-448-->È stata migliorata la funzionalità API per unire gli ordini dei clienti con gli account dei clienti in base alla corrispondenza delle e-mail. Gestione semplificata degli ordini per i clienti fidelizzati.</li>
              <li><!-- LYNX-523: -->Esteso il tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> per includere un campo <code>available_actions</code> per una migliore gestione degli ordini. Il campo "available_actions" è associato a un’enumerazione che elenca le possibili azioni che possono essere eseguite sull’ordine.</li>
              <li><!-- LYNX-524 -->Il campo <code>customer_info</code> è stato aggiunto al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>. Questo campo richiede il tipo <code>OrderCustomerInfo</code>, che contiene dettagli sul nome del cliente.</li>
              <li><!--LYNX-519-->Sono stati aggiunti codici di errore dettagliati al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CancelOrderOutput"><code>CancelOrderOutput</code></a>. È stata migliorata la gestione degli errori e il feedback degli utenti per i processi di annullamento degli ordini.</li>
              <li><!--LYNX-505-->È stata aggiunta una nuova mutazione <code>confirmCancelOrder</code> per facilitare la cancellazione degli ordini per gli acquirenti ospiti.</li>
              <li><!--LYNX-644-->Il risolutore <code>OrderStatusChangeDate</code> è stato aggiornato per restituire la data di modifica dello stato dell'ordine nel formato predefinito senza ulteriore riformattazione, garantendo la coerenza tra le risposte.</li>
              <li><!--LYNX-642-->Il campo <code>order.availableActions</code> è stato aggiornato per garantire che l'azione <code>REORDER</code> non venga restituita se un commerciante <a href="https://experienceleague.adobe.com/it/docs/commerce-admin/stores-sales/shopper-tools/reorders-allow#configure-to-allow-customer-reorders">disattiva</a> la funzionalità di riordino nell'amministratore.</li>
              <li><!--LYNX-598-->Sono state aggiornate le query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> per utilizzare <code>lastname</code> invece di <code>postcode</code> perché alcuni paesi considerano il codice postale facoltativo. Di conseguenza, alcuni utenti guest hanno riscontrato problemi durante il recupero dei token durante il posizionamento dell’ordine o il recupero degli ordini effettuati utilizzando un token.</li>
              <li><!--LYNX-568-->È stata aggiornata la mutazione <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/"><code>cancelOrder</code></a> affinché sia accessibile solo ai clienti registrati. È stata aggiunta una nuova mutazione <code>requestGuestOrderCancel</code>, che richiede un token di ordine (simile all'input <code>guestOrderByToken</code>).</li>
              <li><!--LYNX-551-->È stato aggiunto un campo <code>order_status_change_date</code> per tenere traccia della data per le modifiche di stato dell'ordine.</li>
              <li><!--LYNX-524-->Aggiunta di <code>OrderCustomerInfo</code> al tipo <code>CustomerOrder</code> completata.</li>
              <li><!--LYNX-523-->È stato aggiunto il campo <code>CustomerOrder.available_actions</code> per visualizzare le azioni disponibili per un ordine.</li>
              <li><!--LYNX-519-->Codici di errore mappati con i corrispondenti messaggi di errore per l’annullamento dell’ordine.</li>
              <li><!--LYNX-470-->È stato aggiunto un filtro della cronologia ordini basato sul campo <code>created_at</code> ed è stato esposto <code>date_of_first_order</code> con il tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-450-->È stato aggiunto il campo <code>is_virtual</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, simile al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-Cart"><code>Cart</code></a>. Questo consente al cliente di nascondere le informazioni sulla spedizione in modo condizionale per gli ordini che contengono solo prodotti virtuali.</li>
              <li><!--LYNX-449-->Sono state aggiornate le risposte alle query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> per includere campi correlati al riepilogo del carrello mancanti per la conferma dell'ordine. Sono stati aggiunti i campi di tipo <code>OrderItemPrices</code> e <code>original_price</code> e <code>original_price_including_tax</code> ai tipi <code>OrderItemPrices</code> e <code>CartItemPrices</code>. Il campo dei prezzi ora include informazioni dettagliate sulla determinazione dei prezzi, consentendo alla pagina di conferma dell'ordine di visualizzare un riepilogo più completo del carrello, che include la quantità totale, i dettagli dell'articolo e i prezzi pre-sconto.</li>
              <li><!--LYNX-448-->È stata aggiornata l’API per supportare l’unione di ordini dei clienti con account dei clienti quando gli indirizzi e-mail corrispondono. Gli ordini effettuati dagli ospiti vengono ora automaticamente associati all’account cliente corrispondente al momento della registrazione o se viene trovato un account esistente con la stessa e-mail.</li>
              <li><!--LYNX-701-->Il tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> è stato aggiornato per includere i punti di credito e premio dell'archivio applicati ai totali dell'ordine. Ora il payload dell’ordine restituisce l’etichetta e il valore per i punti di credito e di premio del negozio, garantendo dettagli completi sul riepilogo dei costi.</li>
            </ul>
           </td>
        </tr>
        <tr>
        <td><strong>Prodotti e catalogo</strong></td>
        <td>
            <ul>
              <li><!--LYNX-730-->Sono state aggiunte le configurazioni dello store per le regole di determinazione prezzi del catalogo, è stata aggiunta la query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/all-rules/"><code>allCatalogRules</code></a> per recuperare tutte le regole di catalogo disponibili ed è stato esposto il campo <code>Product.rules</code> per mostrare le regole di catalogo attualmente applicate a un prodotto.</li>
              <li><!--LYNX-540-->È stato aggiunto un campo <code>quantity</code> in <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ProductInterface"><code>ProductInterface</code></a> per fornire i dettagli del livello di stock. Vengono visualizzate le scorte disponibili o nulle in base alle impostazioni dell’amministratore.</li>
              <li><!--LYNX-460-->È stata corretta la visualizzazione dei prezzi per i prodotti bundle, garantendo informazioni precise su prezzo e valuta.</li>
              <li><!--LYNX-401-->Sono stati aggiunti i campi <code>grouped_product_image</code> e <code>configurable_product_image</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Opzioni regalo e gift card</strong></td>
        <td>
            <ul>
              <li><!--LYNX-713-->Sono stati aggiornati i tipi <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftOptionsPrices"><code>GiftOptionsPrices</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a> per includere i campi <code>price_excluding_tax</code> e <code>price_including_tax</code> per confezioni regalo (per articolo e ordine) e biglietti stampati. Questo miglioramento garantisce una visualizzazione precisa delle imposte in base alle impostazioni di configurazione dello store sia per le query relative al carrello che per quelle relative agli ordini.</li>
              <li><!--LYNX-695-->La query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/"><code>storeConfig</code></a> è stata aggiornata per includere <code>printed_card_priceV2</code> e restituire un oggetto prezzo invece di una stringa.</li>
              <li><!--LYNX-694-->Sono stati aggiunti i campi <code>gift_wrapping_available</code> e <code>gift_wrapping_price</code> alla query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/products/"><code>products</code></a>. Il campo <code>gift_wrapping_price</code> viene ora restituito come oggetto prezzo.</li>
              <li><!--LYNX-693-->Sono stati aggiunti i campi <code>gift_message</code> e <code>gift_wrapping</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftCardItem"><code>GiftCardCartItem</code></a>. È stata aggiornata la logica per eliminare il wrapping di regali per i prodotti virtuali.</li>
              <li><!--LYNX-692-->Aggiornamento della query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> per elaborare correttamente il campo <code>gift_message</code>.</li>
              <li><!--LYNX-691-->È stata aggiornata la query <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> per includere il campo <code>applied_gift_cards</code>, consentendo il recupero dei dati gift card applicati simili a <code>applied_coupons</code>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Restituisce</strong></td>
        <td>
            <ul>
                <li><!--LYNX-632-->È stata aggiornata la mutazione <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> per l'input degli elementi RMA per risolvere le incoerenze tra la query correlata all'attributo return e la mutazione.</li>
                <li><!--LYNX-515-->È stata aggiornata la mutazione <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> per supportare i resi degli ordini dei guest.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Imposte e prezzi</strong></td>
        <td>
            <ul>
                <li><!--LYNX-633-->Il tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a> è stato aggiornato con campi corrispondenti alle impostazioni di visualizzazione delle imposte nella configurazione Admin.</li>
                <li><!--LYNX-697-->Sono stati aggiunti i campi <code>subtotal_excl_tax</code> e <code>subtotal_incl_tax</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a>. Contrassegnato il campo <code>subtotal</code> come obsoleto.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Spedizione e fatturazione</strong></td>
        <td>
            <ul>
                <li><!--LYNX-618-->È stato aggiunto un identificatore per la rubrica nell'indirizzo del carrello di spedizione o fatturazione nel tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartAddressInterface"><code>CartAddressInterface</code></a>.</li>
                <li><!--LYNX-617-->È stato aggiunto il campo <code>same_as_billing</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ShippingCartAddress"><code>ShippingCartAddress</code></a>, che indica se gli indirizzi di spedizione e fatturazione sono identici.</li>
                <li><!--LYNX-458-->Sono state aggiornate le query <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrder"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrderByToken"><code>guestOrderByToken</code></a> per includere attributi di indirizzo personalizzati, garantendo informazioni complete sull'indirizzo per i nuovi account.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Sicurezza</strong></td>
        <td>
            <ul>
                <li><!--LYNX-522-->È stato aggiunto un campo <code>theme</code> alla query <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-recaptchaV3Config"><code>recaptchaV3Config</code></a>. Questo campo consente di specificare il nome del tema da utilizzare per eseguire il rendering del reCaptcha, garantendo informazioni accurate su prezzo e valuta.</li>
                <li><!--LYNX-319-->È stata migliorata la sicurezza garantendo che le richieste con token cliente scaduti ora restituiscano una risposta <code>401 Unauthorized</code>.</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

### Braintree

Questa versione include i seguenti miglioramenti all’estensione in bundle Braintree:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Miglioramenti generali</strong></td>
            <td>Questa versione include i seguenti miglioramenti generali all’estensione Braintree:
            <ul>
              <li><!-- BUNDLE-3373 -->Per offrire un'esperienza di pagamento express, l'estensione Braintree ora include i metodi di spedizione nella finestra modale PayPal, consentendo al cliente di effettuare il check-out con un numero inferiore di clic. Le opzioni di spedizione sono elencate e calcolate in base all'indirizzo di spedizione salvato nel conto PayPal del cliente. In precedenza, i clienti venivano recapitati su una pagina di revisione e sceglievano un metodo di spedizione per completare il pagamento. La pagina Revisione è ora facoltativa e consente ai commercianti di abilitare/disabilitare questo percorso di utenti. I pulsanti PayPal Express si trovano su PDP, mini-carrello, carrello e parte superiore del pagamento.</li>
              <li><!-- BUNDLE-3407 -->È ora disponibile una nuova versione di Braintree SDK. La versione PHP SDK è 6.21.0. La versione di JavaScript SDK è la 3.112.0. La versione più recente presenta alcune modifiche necessarie per garantire la compatibilità futura con le nuove funzioni e funzionalità.</li>
              <li><!-- BUNDLE-3406 -->Ottimizzazione generale del codice all’interno dell’estensione Braintree.</li>
              <li><!-- BUNDLE-3405 -->Per determinare la pagina in cui un cliente avvia l'esperienza di pagamento PayPal (PDP, carrello o pagamento), l'estensione Braintree ora passa un attributo <code>data-page-type</code> a JavaScript SDK. Questo attributo viene utilizzato per riprodurre il pulsante sulla pagina.</li>
              <li><!-- BUNDLE-3404 -->Seguendo le nuove linee guida per il marchio PayPal, l'estensione Braintree posiziona ora la messaggistica PayLater su PDP, mini-carrello e carrello. La messaggistica ora si avvicina/si affianca al prezzo/totale. L'estensione ora visualizza anche la messaggistica PayLater come parte del pulsante di pagamento, anziché separatamente.</li>
              <li><!-- BUNDLE-3403 -->Per migliorare l’esperienza di pagamento rapido, l’estensione Braintree integra i metodi di spedizione direttamente nella finestra modale Google Pay, consentendo ai clienti di completare il pagamento con meno clic. Le opzioni di spedizione vengono visualizzate e calcolate automaticamente in base all'indirizzo salvato nel conto Google Pay del cliente. In precedenza, i clienti venivano reindirizzati a una pagina di revisione per selezionare un metodo di spedizione prima di completare il pagamento. Ora, la pagina di revisione è facoltativa, offrendo al commerciante la flessibilità di abilitare/disabilitare questo passaggio nel processo di pagamento. I pulsanti Google Pay Express si trovano sul mini-carrello, sul carrello e nella parte superiore del pagamento.</li>
              <li><!-- BUNDLE-3402 -->Il contrassegno Apple Pay corrente è stato aggiornato alla versione più recente.</li>
              <li><!-- BUNDLE-3401 -->Il contrassegno Google Pay corrente è stato aggiornato alla versione più recente.</li>
              <li><!-- BUNDLE-3400 -->Rimossi i metodi di pagamento Sofort e Giropay in quanto non più supportati.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Tracciamento dei pacchetti</strong></td>
            <td><!-- BUNDLE-3420 -->Quando un ordine PayPal viene spedito, l'estensione Braintree ora invia il vettore e il numero di registrazione sia al conto PayPal del commerciante che a quello del cliente. La disponibilità di informazioni di tracciamento e dettagli a livello di articolo migliora notevolmente l'esperienza del cliente, riducendo al contempo i costi operativi per gli esercenti. I clienti possono accedere facilmente al proprio conto PayPal, visualizzare l'ordine e accedere al collegamento di tracciamento. I commercianti beneficiano della risoluzione automatica delle controversie PayPal "Oggetto non ricevuto", di un accesso più rapido ai fondi in pagamento e ai blocchi delle controversie, degli aggiornamenti di tracciamento in tempo reale, delle controversie a livello di articolo (anziché delle controversie per l'intero ordine) e dei profili di rischio migliorati per i commercianti.</td>
        </tr>
        <tr>
            <td><strong>Elementi riga</strong></td>
            <td>Questa versione include i seguenti miglioramenti agli elementi riga:
            <ul>
              <li><strong>Applica pagamento</strong><!-- BUNDLE-3409 -->: quando i clienti effettuano il pagamento utilizzando Apple Pay Express, l'estensione Braintree ora mostra gli elementi del carrello nella finestra modale Apple Pay. Facendo clic sulla descrizione comando (?) accanto al prezzo, i clienti possono visualizzare i singoli articoli del carrello, gli sconti, la spedizione e i dettagli fiscali, eliminando la necessità di uscire dal modale per confermare i loro articoli.</li>
              <li><strong>Google Pay</strong><!-- BUNDLE-3408 -->: quando i clienti effettuano il pagamento con Google Pay Express, l'estensione Braintree visualizza ora le voci del carrello direttamente nel modale Google Pay. Facendo clic sulla descrizione comando (?) accanto al prezzo, il cliente può visualizzare i singoli articoli del carrello, gli sconti, la spedizione e i dettagli fiscali, eliminando la necessità di uscire dal modale per verificare i loro articoli.</li>
            </ul>
            </td>
        </tr>
    </tbody>
</table>

<!-- Fixed issues -->

{{$include /help/_includes/templated/release/fixed-issues/v2.4.8/commerce.md}}
