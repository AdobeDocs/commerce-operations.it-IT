---
title: Note sulla versione di Adobe Commerce 2.4.5
description: Scopri nuove funzioni, miglioramenti, correzioni di bug e problemi noti nella versione 2.4.5 di Adobe Commerce.
exl-id: fafcd266-fb69-450f-8c4f-047109ba8b50
source-git-commit: f74c1ac943af4a26cf68f529259de0af8f9b0be3
workflow-type: tm+mt
source-wordcount: '9545'
ht-degree: 0%

---

# Note sulla versione di Adobe Commerce 2.4.5

Adobe Commerce introduce miglioramenti alla qualità della piattaforma, ai metodi di pagamento, alle prestazioni di memorizzazione nella cache di GraphQL e all’accessibilità. Include aggiornamenti ai moduli Google integrati e allo strumento di compatibilità per l’aggiornamento e introduce il supporto B2B di Live Search.

Questa versione include oltre 400 correzioni e miglioramenti della qualità.

{{bics}}

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con le versioni trimestrali del codice core di Adobe Commerce, molti di questi progetti (ad esempio, B2B, Page Builder e Progressive Web Application (PWA) Studio) vengono rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

### Hotfix inclusi in questa versione

Adobe Commerce 2.4.5 include la risoluzione di tutti i problemi risolti dai seguenti hotfix, forniti per Adobe Commerce:

* `Braintree_disabled_partial_capture_for_applepay_googlepay.zip`. Questa patch risolve l&#39;incapacità degli utenti di creare fatture parziali quando utilizzano Apple Pay o Google Pay through Braintree come metodo di pagamento. Consulta la [Adobe Commerce 2.4.4: impossibile creare fatture parziali](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices) Articolo della Knowledge Base.

* `AC-2655_2.4.4.patch.zip`. Questa patch risolve un problema che impediva agli acquirenti di aggiungere un prodotto al carrello quando l’opzione Consenti paesi non è selezionata. Consulta la [Gli utenti non possono aggiungere un prodotto al carrello se non è selezionato nulla in Paesi consentiti](https://support.magento.com/hc/en-us/articles/5377681213325-Users-not-able-to-add-product-to-cart-if-nothing-selected-in-Allow-Countries) Articolo della Knowledge Base.

## Caratteristiche principali di Adobe Commerce 2.4.5

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti di sicurezza

Questa versione include 20 correzioni di sicurezza e miglioramenti di sicurezza della piattaforma. Questa correzione rapida per la sicurezza è stata supportata in Adobe Commerce 2.4.3-p3 e Adobe Commerce 2.3.7-p4.

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere il tuo amministratore, incluse, ma non solo, queste iniziative:

* INSERIRE NELL&#39;ELENCO CONSENTITI IP
* [Autenticazione a due fattori](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* Utilizzo di una VPN
* Utilizzo di una posizione univoca anziché `/admin`
* Buona igiene della password

Consulta [Bollettino sulla sicurezza degli Adobi](https://helpx.adobe.com/security/products/magento/apsb22-38.html) per le ultime discussioni su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità con le best practice più recenti, tra cui:

* Il supporto reCAPTCHA è stato aggiunto ai moduli Condivisione elenco desideri, Crea nuovo account cliente e Buono regalo. <!-- AC-1144-->

* Le risorse ACL sono state aggiunte al magazzino. <!-- AC-1622-->

* La sicurezza del modello di inventario è stata migliorata.

* Il `MaliciousCode` il filtro è stato aggiornato per utilizzare `HtmlPurifier` libreria. <!-- AC-1498-->

### Miglioramenti alla piattaforma

* **Distribuzioni locali di Adobe Commerce**: Adobe Commerce 2.4.5 è stato testato e confermato compatibile con l&#39;Elasticsearch 7.17 (~7.17.0 con vincolo). I commercianti che ospitano Adobe Commerce on-premise possono utilizzare Elasticsearch o OpenSearch 1.2. <!-- AC-2425-->

* **Distribuzioni ospitate dal cloud di Adobe Commerce**: Elasticsearch 7.11 o versione successiva non è supportato nelle distribuzioni in hosting cloud di Adobe Commerce 2.4.5. OpenSearch è il motore di ricerca predefinito per le distribuzioni cloud di Adobe Commerce 2.4.5.

Adobe Commerce 2.4.5 ora supporta

* Compositore 2.2  <!-- AC-2033-->

* TinyMCE (5.10.2). Le versioni precedenti di TinyMCE (v5.9.2 o precedenti) consentivano l’esecuzione arbitraria di JavaScript quando veniva aggiornato un URL creato appositamente o un’immagine con un URL creato appositamente. <!-- AC-2039 1784 1789-->

* jQueryUI (1.13.1) <!-- AC-2544-->

* `PHPStan` (^1.5.7 con vincolo) [GitHub-35315](https://github.com/magento/magento2/issues/35315)<!-- AC-2876-->

Lo schema di integrazione DHL è stato aggiornato da v6.0 a v6.2. Questo aggiornamento non modificherà il comportamento del prodotto.  <!-- AC-3022-->

Le librerie JavaScript obsolete sono state aggiornate alle versioni più recenti e le dipendenze obsolete sono state rimosse. Queste modifiche sono compatibili con le versioni precedenti. <!-- AC-2036-->

#### Aggiornamenti delle dipendenze del compositore

<!-- AC-2876 2744 2912 2577-->

Le dipendenze del Compositore seguenti sono state aggiornate alle versioni più recenti con vincolo:

* `colinmollenhour/credis`  (1.13.0)? <!-- AC-2732-->
* `guzzlehttp/guzzle` (^7.4.2)
* `laminas/laminas-captcha` (aggiornato con un vincolo ^2.12) <!-- AC-2625-->
* `laminas/laminas-db`   (^2.15.0)
* `laminas/laminas-di` (^3.7.0)
* `laminas/laminas-escaper` (~2.10.0)
* `laminas/laminas-eventmanager`  (^3.5.0)
* `laminas/laminas-feed`   (^2.17.0)
* `laminas/laminas-mail` (^2.16.0)
* `laminas/laminas-mvc`  (^3.3.3)
* `laminas/laminas-server` (^2.11.1)
* `laminas/laminas-servicemanager`  (^3.11.0)
* `laminas/laminas-validator` (^2.17.0)
* `league/fly`  (2.4.3) <!-- AC-2744-->
* `monolog/monolog`  (^2.5)
* `phpmd/phpmd`   (^2.12.0)
* `phpstan/phpstan`  (^1.5.7)
* `phpunit/phpunit`  (~9.5.20)
* `php-cs-fixer` (^3.4.0) <!-- AC-2259-->
* `webonyx/graphql-php`  (14.11.6)

Il `laminas/laminas-session`, `laminas/laminas-text`, e `laminas/laminas-view` le dipendenze sono state rimosse. <!-- AC-2598-->

#### Altri aggiornamenti e sostituzioni

* Lo schema di integrazione DHL è stato aggiornato da v6.0 a v6.2. <!-- AC-3022-->

* L&#39;URL del gateway predefinito per la spedizione USPS è stato aggiornato per l&#39;utilizzo `https` invece di `http`. <!-- AC-2426-->

* Il `Froogaloop` libreria è stata sostituita con Vimeo `Player.js` (2.16.4). <!-- AC-2527 2262-->

* Il `grunt-eslint` La libreria (NPM) è stata aggiornata alla versione più recente. <!-- AC-2700-->

* Il `jQuery Storage` le librerie sono state sostituite con `julien-maurel/js-storage`. <!-- AC-2627-->

* Il `php-cs-fixer` e `phpcs` gli strumenti di analisi del codice statico sono ora compatibili con PHP 8.x. <!-- AC-2259-->

* `glob.js` dipendenza (aggiornata con vincolo a ~7.2.0) <!-- AC-2547-->

* `serve-static.js` dipendenza (aggiornata con vincolo ~1.14.2) <!-- AC-2548-->

* `underscore.js` dipendenza (NPM) (1.14.2) <!-- AC-2546 2549-->

* `moment-timezone-with-data.js` (0.5.34) <!-- AC-2545-->

* La libreria `jquery/jquery-cookie` è stato sostituito con `js-cookie/js-cookie`. <!-- AC-2626-->

* Il `jarallax.js` e `jaralax-video.js` Le librerie sono state aggiornate per utilizzare la versione più recente dell’API REST di Vimeo. <!-- AC-2590-->

### Miglioramenti a livello di prestazioni e scalabilità

#### Ottimizzazione dell’indicizzatore del prezzo

Le prestazioni dell’indice primario sono state migliorate riducendo il numero di indici primari da 3 a 1 per il `catalog_product_index_price_tmp` tabella. Questo miglioramento ha ridotto il numero di record creati nell’indice dei prezzi riducendo la moltiplicazione eSKU risultante dai cataloghi condivisi. Il tempo di indicizzazione è stato notevolmente ridotto. <!-- MCP-653 MC-43342-->

### Aggiornamenti all’accessibilità

L’obiettivo di questa versione è stato quello di creare un’esperienza di vetrina su Venia (PWA) più percepibile, utilizzabile, comprensibile e solida. Questi miglioramenti includono:

* Le informazioni di riepilogo sui risultati della ricerca vengono ora annunciate agli utenti di utilità di lettura dello schermo
* Gli assistenti vocali ora vengono informati al caricamento di una nuova visualizzazione di pagina
* Sono stati migliorati il contrasto e l&#39;accessibilità della tastiera

### Adobe Sign

I commercianti possono ora consentire ai clienti di firmare elettronicamente contratti personalizzati, come documenti di garanzia, contratti di acquisto e termini e condizioni, durante il pagamento Adobe Commerce.

### Integrazione di Adobe Commerce con Adobe IMS

I commercianti di Adobe Commerce che dispongono di un Adobe ID e desiderano un accesso semplificato ai prodotti Adobe Commerce e Adobe Business possono integrare l’autenticazione Commerce con il flusso di lavoro di autenticazione IMS di Adobe. Dopo l’abilitazione di questa integrazione per l’archivio Commerce, per accedere ogni utente amministratore deve utilizzare le proprie credenziali di Adobe, non le credenziali Commerce.  Consulta [Panoramica dell’integrazione di Adobe Identity Management Service (IMS)](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html).

### Modifiche a livello di branding e stile

L’Amministratore è stato aggiornato per allinearsi alla strategia del brand di Adobe. Le modifiche apportate interessano intestazioni, piè di pagina, aggiornamenti dei colori della griglia dati ed elementi di navigazione.

### B2B

Abbiamo ottimizzato i dati del database normalizzato necessari per implementare la funzione Cataloghi condivisi. Questa riduzione della moltiplicazione eSKU comporta un aumento delle prestazioni, in quanto è necessario memorizzare un numero inferiore di righe di database. In precedenza, Adobe Commerce duplicava ogni SKU nel catalogo per ogni catalogo condiviso. Adobe Commerce ora crea eSKU univoci per quelli assegnati direttamente a un catalogo condiviso.

Abilitazione del nuovo **Abilitazione dell&#39;assegnazione diretta del prezzo del prodotto del catalogo condiviso** l&#39;opzione di configurazione migliora inoltre le prestazioni dell&#39;indicizzatore del prezzo del prodotto. <!-- MCP-946-->

Questa versione include più correzioni di bug. Consulta [Note sulla versione B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Google Analytics

Google ha aggiornato i meccanismi di tracciamento e integrazione di AdWords e Analytics nelle applicazioni web tramite l’integrazione con GTag. Questa integrazione della funzionalità Google nelle pagine del sito Web estende le opportunità di tracciamento e gestione dei contenuti tramite i servizi Google. Adobe Commerce dispone di un set di moduli incorporati tra cui Google AdWords, Analytics, Optimizer e TagManager che sfruttano la precedente API per l’integrazione con i servizi Google.  In questa versione, questa integrazione è stata reimplementata utilizzando l’approccio GTag&#x200B;. Consulta [Migrare da analytics.js a gtag.js (Universal Analytics)](https://developers.google.com/analytics/devguides/migration/ua/analyticsjs-to-gtagjs).

### GraphQL

I miglioramenti delle prestazioni di GraphQL includono:

* Sviluppatori e amministratori possono ricostruire più rapidamente lo schema unificato di GraphQL storefront durante la distribuzione o la modifica degli attributi in produzione. Gli acquirenti riscontrano inoltre velocità di caricamento delle pagine notevolmente più elevate quando è necessario ricreare lo schema GraphQL per qualsiasi motivo.

* È stata aggiunta la possibilità di utilizzare la data/ora di scadenza del token di autorizzazione tramite l’utilizzo di token web JSON (JWT) nell’API di GraphQL.

* Il `bin/magento config:set graphql/session/disable 1` consente ai commercianti di disabilitare completamente la creazione di cookie di sessione per tutte le operazioni di GraphQL. Per impostazione predefinita, Adobe Commerce crea questi cookie e si basa su di essi per l’autorizzazione, il che influisce sulle prestazioni. In futuro, consigliamo di utilizzare i token come unica forma di autorizzazione per le richieste GraphQL. Si sconsiglia di utilizzare i cookie di sessione da soli o in combinazione con i token di autorizzazione. Consulta [Autorizzazione GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/authorization-tokens.html). <!-- B2B-2204 -->

* I cookie di sessione vengono ora avviati nelle operazioni di GraphQL utilizzando proxy di classe solo quando necessario. <!-- B2B-2217 -->

* Utilizzo sessione rimosso da `http` processori header in GraphQL, ad esempio store, customer o currency. <!-- B2B-2224 -->

Consulta la [Guida per gli sviluppatori di GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) per informazioni dettagliate su questi miglioramenti.

### Inventario

La sicurezza del modello di inventario è stata migliorata.

### Live Search

Questa versione introduce il supporto per gruppi di clienti B2B e prezzi personalizzati. Live Search ora rispetta le assegnazioni dei prodotti ai gruppi di clienti e i prezzi impostati per un gruppo di clienti specifico/catalogo condiviso.

### Page Builder

Page Builder v.1.7.2 è compatibile con Adobe Commerce 2.4.5.

Il layout delle colonne di Page Builder include i seguenti miglioramenti: <!-- PB-547-->

* Le colonne ora sono esposte, consentendo agli utenti di controllare le impostazioni delle colonne nella vetrina.

* Il ridimensionamento delle colonne ora supporta il wrapping attivato dalle azioni dell’utente.

### Pagamenti

Apple Pay è ora disponibile per tutti i commercianti che eseguono distribuzioni con i servizi di pagamento abilitati. Questo metodo di pagamento non richiede agli acquirenti di inserire i dati della carta di credito. Apple Pay è disponibile nella pagina dei dettagli del prodotto, nel mini-carrello, nel carrello e nel flusso di lavoro di pagamento. I commercianti possono attivare questa funzione.

#### PayPal

* I commercianti in Spagna e Italia possono ora offrire PayPal Pay Later agli acquirenti.  <!-- AC-2521-->

* Le anteprime dei pulsanti PayPal, Credito e Paga più tardi sono ora disponibili nell&#39;amministratore per le pagine di pagamento, mini carrello, carrello e prodotti. Le anteprime mostrano l&#39;aspetto di questi pulsanti quando vengono attivati e sottoposti a rendering nella vetrina.

#### Braintree

* Braintree ha interrotto l&#39;integrazione di KOUNT per la protezione dalle frodi. È stato rimosso dalla base di codice di Adobe Commerce.

* Il **Richiedi sempre 3DS** L&#39;opzione è stata aggiunta all&#39;amministratore.

### PWA Studi

PWA Studi v.12.5.x è compatibile con Adobe Commerce 2.4.5.

Le nuove funzioni di questa versione includono:

* I dati sul comportamento degli acquirenti vengono raccolti sulla vetrina PWA Studi per i servizi di analisi web.  Gli esercenti possono ora abbonarsi ed estendere questi eventi in base alle esigenze.

* Gli esercenti possono ora selezionare un servizio da distribuire dall’amministratore (Google Tag Manager).

Per informazioni sui miglioramenti e sulle correzioni di bug, consulta [Versioni di PWA Studi](https://github.com/magento/pwa-studio/releases). Consulta [Compatibilità delle versioni](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studi e delle relative versioni di base compatibili di Adobe Commerce.

### Upgrade Compatibility Tool

I miglioramenti includono:

* La convalida della firma del metodo ora identifica le modifiche non compatibili all&#39;interno di un metodo o di una firma del costruttore. <!-- AC-2632-->

* La convalida dello schema del database ora identifica le modifiche e le incompatibilità dello schema. <!-- AC-58-->

* La convalida della configurazione DI ID ora verifica i riferimenti alle classi principali non API rimosse o dichiarate obsolete in `di.xml` e le preferenze per le classi e le interfacce principali.  <!-- AC-438-->

* UCT ora identifica le deprecazioni del codice e fornisce consigli specifici per risolvere ogni problema.  <!-- AC-3147-->

## Problemi risolti

Sono stati risolti centinaia di problemi relativi al codice core di Adobe Commerce 2.4.5.

### Installazione, aggiornamento, distribuzione

<!-- ACP2E-49-->

* È ora possibile rinominare una patch di dati e aggiungere il vecchio nome di classe come alias nel `patch_list` tabella di database. Adobe Commerce ora controlla se gli alias delle patch di dati esistevano già nel database prima di applicare la patch. In precedenza, Adobe Commerce generava un errore in queste condizioni.

<!-- AC-3036-->

* Adobe Commerce non genera più un’eccezione quando si tenta di modificare l’URL amministratore in un URL personalizzato dall’amministratore. In precedenza, dopo aver modificato l’URL di amministrazione, non era possibile effettuare l’accesso. [GitHub-35416](https://github.com/magento/magento2/issues/35416)

<!-- AC-1480-->

* I commercianti possono ora eseguire correttamente l’aggiornamento da una distribuzione Adobe Commerce 2.4.2 con Klarna a Adobe Commerce 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- AC-2905-->

* Il percorso di Adobe Commerce Analytics non è più codificato. In precedenza, questo percorso hardcoded generava conflitti quando venivano installate più istanze Adobe Commerce su un server. [GitHub-29373](https://github.com/magento/magento2/issues/29373)

### Accessibilità

<!-- AC-2786-->

* Il **Shopping bag** fornisce ora un’indicazione programmatica o testuale del suo stato. Gli utenti di utilità di lettura dello schermo vengono informati che facendo clic su questo pulsante si espanderanno altri contenuti o che il contenuto associato verrà espanso o compresso. In precedenza, questo pulsante non forniva un’indicazione programmatica o testuale del suo stato.

<!-- AC-2496-->

* Informazioni sul pagamento elementi di testo o immagini di testo dell’opzione carta di credito soddisfano ora il rapporto di contrasto colore minimo richiesto WCAG 2.0 di 4,5:1 per il testo standard di 18 pt (24 px) o 14 pt (19 px), se in grassetto. In precedenza, non soddisfacevano il rapporto di contrasto previsto.

<!-- AC-2483-->

* **Rubrica**  >  **Comunicazione**  > **Informazioni account** gli indicatori di messa a fuoco personalizzati ora forniscono un rapporto di contrasto di almeno 3:1 rispetto al colore di sfondo.

<!-- AC-2486-->

* **Filtro** e **Ordina** il testo del pulsante soddisfa ora il rapporto di contrasto minimo richiesto WCAG 2.0 di 4,5:1 per il testo standard di 18 pt (24 px) o 14 pt (19 px), se in grassetto. In precedenza, i pulsanti di navigazione per i caroselli non soddisfacevano questi requisiti di contrasto minimo.

<!-- AC-2499-->

* Gli assistenti vocali annunciano la parola &quot;Venia&quot; una sola volta quando passano alle intestazioni e ai piè di pagina Venia. In precedenza, la stessa parola veniva annunciata due volte consecutivamente.

<!-- AC-2585-->

* I pulsanti che attivano gli elenchi a discesa ora forniscono informazioni agli assistenti vocali che indicano il loro stato espanso o compresso e i nomi accessibili.

<!-- AC-2482-->

* Gli utenti di utilità di lettura dello schermo vengono informati quando viene eseguito il rendering di una nuova visualizzazione di pagina. In precedenza, quando il titolo di una pagina veniva modificato, la modifica del titolo non veniva annunciata.

### Adobe Stock

<!-- AC-2926-->

* Gli utenti possono ora disconnettersi da Adobe Stock.

### Prodotti bundle

<!-- ACP2E-465-->

* Ora puoi utilizzare la `PUT /V1/products` endpoint per aggiornare gli attributi del prezzo del prodotto per un sito Web specifico. In precedenza, se alcuni attributi di prodotto venivano sostituiti per una visualizzazione specifica del negozio, non era possibile aggiornare un attributo di prezzo per quel prodotto nella stessa visualizzazione del negozio.

<!-- ACP2E-780-->

* Adobe Commerce ora calcola correttamente il totale del carrello per un prodotto bundle quando viene applicata la regola di sottoselezione prodotto.

### Cache

<!-- ACP2E-684-->

* La cache dell’intera pagina non viene più visualizzata come disabilitata nell’amministratore quando la cache di Adobe Commerce viene svuotata e `use_stale_cache` è abilitato.

<!-- AC-2410-->

* I marcatori di distribuzione New Relic ora funzionano come previsto quando la cache viene svuotata. [GitHub-32649](https://github.com/magento/magento2/issues/32649)

### Carrello e pagamento

<!-- ACP2E-455-->

* Il pop-up di ricerca degli indirizzi nella fase di fatturazione del flusso di lavoro di pagamento non causa più errori DOM.

<!-- ACP2E-368-->

* Il `addProductsToCart` la mutazione ora funziona correttamente con più prodotti. In precedenza, questa query restituiva il primo prodotto con un subtotale accurato, ma restituiva un subtotale di 0 per gli altri prodotti.

<!-- ACP2E-245-->

* Le eccezioni alle autorizzazioni vengono ora gestite per i prodotti con restrizioni aggiunti da SKU. Gli acquirenti ricevono ora un messaggio appropriato nella vetrina e il campo relativo alla quantità nella tabella degli errori è disabilitato. In precedenza, Adobe Commerce generava un’eccezione simile alla seguente: `There has been an error processing your request`.

<!-- ACP2E-148-->

* La query SQL che aggiorna i preventivi interessati dopo la disattivazione di una regola di prezzo del carrello è stata ottimizzata per evitare di bloccare l&#39;intera tabella dei preventivi.

<!-- ACP2E-98-->

* Gli acquirenti con condivisione dell’account globale non devono più accedere nuovamente a un sito web secondario in una distribuzione multisito quando il pagamento come ospite è disabilitato. I dati dei clienti vengono ora caricati quando l’acquirente passa al sottodominio. Al cliente non viene più richiesto di effettuare di nuovo l’accesso e viene visualizzato il contenuto del carrello precedente.

<!-- ACP2E-94-->

* I valori dell&#39;elenco a discesa Indirizzo nel flusso di lavoro di pagamento non cambiano più per gli articoli rimanenti in un preventivo quando una singola voce di indirizzo di quantità viene rimossa in un&#39;estrazione con più indirizzi. In precedenza, quando un prodotto veniva rimosso da un preventivo durante il checkout con più indirizzi, il valore dell’elenco a discesa dell’indirizzo veniva impostato su predefinito per tutti i prodotti.

<!-- ACP2E-42-->

* Il `cart` la query non restituisce più risposte nulle quando un prodotto è esaurito. Una nuova `errors` alla risposta è stato introdotto un elemento contenente il messaggio di errore. In precedenza, quando si eseguiva una query con un prodotto esaurito, Adobe Commerce visualizzava `null` valore sotto `items` nella risposta. Consulta [query carrello](https://devdocs.magento.com/guides/v2.4/graphql/queries/cart.html).

<!-- ACP2E-38-->

* I metodi di spedizione sono ora disponibili come previsto quando un acquirente guest crea un account dopo aver aggiunto un prodotto al carrello prima di procedere al pagamento. In precedenza, quando un ospite aggiungeva un prodotto al carrello prima di creare un account, non erano disponibili metodi di spedizione durante il pagamento. Dopo l’aggiunta di altri prodotti al carrello, sono stati resi disponibili i metodi di spedizione.

<!-- AC-2564-->

* Gli acquirenti possono ora aggiungere prodotti ai loro carrelli quando non vi sono opzioni nel **Consenti paesi** è stato selezionato.

<!-- AC-2622-->

* Il contenuto del carrello e lo stato di accesso vengono ora ricaricati come previsto dopo il timeout di una sessione quando **Abilita persistenza** è impostato su **Sì**. [GitHub-35182](https://github.com/magento/magento2/issues/35182)

<!-- AC-428-->

* I subtotali del mini carrello ora vengono aggiornati correttamente quando un acquirente passa dalla pagina di spedizione alla pagina del carrello nel flusso di lavoro di pagamento per un ordine con più indirizzi di spedizione. In precedenza, il subtotale era raddoppiato.

<!-- AC-2619-->

* Il mini carrello ora visualizza i prodotti aggiunti in precedenza dopo un timeout della sessione quando **Abilita persistenza** è abilitato. [GitHub-35183](https://github.com/magento/magento2/issues/35183)

<!-- ACP2E-707-->

* Gli esercenti possono ora creare una nota di credito in cui  **Spedizione con rimborso (incl. Imposta)** è impostato su -0,01 e ora può impostare questa quantità su 0. In precedenza, non era possibile creare la nota di accredito in queste condizioni.

### Regola prezzo carrello

<!-- ACP2E-680-->

* Il `Parent Only` l&#39;ambito dell&#39;attributo viene ora utilizzato correttamente nella condizione Regola carrello.

### Catalogo

<!-- ACP2E-758-->

* I codici URL del prodotto ora rimangono invariati quando si aggiorna il nome del prodotto tramite `PUT /V1/products/` per una visualizzazione store. In precedenza, veniva generato un nuovo codice URL basato sul nuovo nome di prodotto e assegnato al prodotto, che sovrascriveva il codice URL nella vista archivio.

<!-- ACP2E-712-->

* I prodotti di upselling basati su regole non vengono più visualizzati due volte nella pagina del prodotto.

<!-- ACP2E-703-->

* L’aggiunta di un prodotto a una categoria dal widget di prodotto Page Builder impostato sulla modalità carosello non attiva più il ricaricamento della pagina.

<!-- ACP2E-685-->

* Prodotti impostati su **Non visibile singolarmente** non viene più visualizzato nei risultati della ricerca avanzata del catalogo.

<!-- ACP2E-679-->

* Gli attributi del bundle dinamico ora vengono aggiornati correttamente nella pagina Aggiornamento di massa attributi. Precedentemente, il **SKU dinamica** attributo rimasto impostato su **Sì** anche se sono stati disattivati nella pagina Aggiornamento di massa.

<!-- ACP2E-673-->

* Le regole del catalogo ora vengono applicate correttamente utilizzando indici incrementali anziché una reindicizzazione completa.

<!-- ACP2E-657-->

* Ora è possibile passare correttamente dalla visualizzazione elenco alla visualizzazione griglia degli elenchi di prodotti composti da più pagine. In precedenza, quando si passava all’ultima pagina di una visualizzazione elenco di prodotti con più pagine prima di passare alla visualizzazione griglia, Adobe Commerce visualizzava questo errore: `Unfortunately there are no products in this category on our website currently`.

<!-- ACP2E-635-->

* I rapporti del registro delle azioni dell’amministratore ora visualizzano gli ID prodotto aggiornati e le informazioni sullo stato aggiornate come previsto.

<!-- ACP2E-633-->

* I trigger vengono ora ripristinati come previsto `catalogrule_product_price` dopo una reindicizzazione completa. In precedenza, i trigger venivano rimossi dal `catalogrule_product_price` tabella dopo `catalogrule_rule` o `catalogrule_product` reindicizzazione completa.

<!-- ACP2E-629-->

* Le regole di categoria utilizzate per assegnare i prodotti alle categorie non vengono più modificate in modo casuale.

<!-- ACP2E-522-->

* Adobe Commerce non genera più un errore quando una regola di categoria assegna un prodotto a una categoria che viene successivamente ordinata in una distribuzione multisito.

<!-- ACP2E-516-->

* Le categorie non possono più essere aggiornate a livello globale da un amministratore con accesso limitato all&#39;ambito. In precedenza, quando più siti web utilizzavano la stessa categoria ma prodotti diversi e un amministratore con autorizzazioni limitate a uno store aveva modificato i prodotti della categoria, la selezione dei prodotti veniva modificata anche per altri store.

<!-- ACP2E-508-->

* Nella pagina dei dettagli del prodotto viene ora visualizzato il prezzo corretto quando si utilizza una valuta non predefinita per le impostazioni internazionali specificate. In precedenza, i numeri non venivano localizzati come previsto nella vetrina.

<!-- ACP2E-468-->

* È ora possibile abilitare i prodotti tramite un aggiornamento pianificato.

<!-- ACP2E-392-->

* Ora quando si tenta di recuperare i prezzi di livello di un prodotto con record duplicati, l’API e la vetrina visualizzano lo stesso messaggio di errore. Precedentemente, `PUT /V1/products/tier-prices` ha restituito un messaggio di errore non corretto.

<!-- ACP2E-345-->

* Adobe Commerce ora fornisce messaggi di errore di convalida quando tenti di aggiungere un codice URL di prodotto con un trattino finale. È disponibile anche un testo informativo.

<!-- ACP2E-267-->

* Il nuovo `ConfigurableWishlistItem.configured_variant` ha sostituito il `ConfigurableWishlistItem.child_sku` campo. Quest’ultimo campo ha attivato un errore interno quando una lista dei desideri del cliente conteneva un prodotto configurabile non configurato.

<!-- ACP2E-84-->

* Le riscritture URL vengono ora generate solo per gli archivi selezionati durante l’aggiornamento di massa degli attributi per modificare la visibilità del prodotto. In precedenza, l’aggiornamento di massa degli attributi creava una riscrittura URL per l’archivio errato.

<!-- ACP2E-39-->

* Quando `Synchronize widget products with backend storage` è attivata, Adobe Commerce aggiunge i dati di prodotto della visualizzazione recente in `catalog_product_frontend_action` tabella di database. Quando aggiungi dei record, include l’ID del cliente o del visitatore. Il `recently_viewed_product` La sezione della risposta ora è vuota se l’ID cliente e l’ID visitatore sono nulli. Di conseguenza, quando `customer/section/load` Quando viene inviata una richiesta Ajax, Adobe Commerce può filtrare correttamente i prodotti visualizzati di recente in base all’ID cliente o visitatore. In precedenza, la risposta includeva tutti i dati disponibili nel `catalog_product_frontend_action` tabella di database perché non è stata eseguita alcuna verifica per un ID cliente o visitatore vuoto.

<!-- ACP2E-28-->

* Regole di categoria con una `Quantity` L&#39;attributo per i prodotti configurabili ora funziona correttamente quando si implementa la gestione temporanea. In precedenza, quando i prodotti avevano valori diversi per `row_id` e `entity_id` nel `catalog_product_entity` a causa degli aggiornamenti di staging, il server Visual Merchandiser **Corrispondenza prodotto per regola** funzionalità non filtrava correttamente i prodotti.

<!-- ACP2E-13-->

* Gli amministratori possono ora modificare le opzioni di prodotto configurabili nel carrello di un acquirente dal pannello a tendina Amministratore. In precedenza, il pannello diapositiva non funzionava correttamente.

<!-- AC-1705-->

* La cache delle pagine viene ora cancellata come previsto per il prodotto principale configurabile quando vengono salvate le modifiche a un prodotto secondario. In precedenza, poiché la cache non veniva cancellata, le modifiche non venivano selezionate nella pagina di prodotto di configurazione storefront. [GitHub-34508](https://github.com/magento/magento2/issues/34508)

<!-- AC-711-->

* Gli elenchi dei prodotti ora vengono visualizzati correttamente in Amministrazione. In precedenza, l’elenco dei prodotti non veniva riprodotto e Adobe Commerce visualizzava questo errore:  `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1214-->

* I prezzi dei prodotti sono ora gli stessi nella pagina dei dettagli del prodotto e nella ricerca in vetrina in implementazioni multi-store dopo la modifica del Limite del Prezzo del catalogo da **sito web** a **globale**. In precedenza, nella pagina Risultati ricerca catalogo veniva visualizzato il comando **globale** e la pagina dei dettagli del prodotto mostrava **sito web** prezzo. [GitHub-34074](https://github.com/magento/magento2/issues/34074)

<!-- ACP2E-316-->

* La navigazione su più livelli ora visualizza i prodotti con i prezzi più alti previsti quando **Calcolo passaggio di navigazione prezzo** è impostato su **Manuale**.

<!-- ACP2E-711-->

* Ora puoi modificare il limite di prodotti per pagina visualizzato all’interno di una categoria quando **Ricorda paginazione categorie**  è abilitato. In precedenza, il cookie `form_key` e interfaccia utente `form_key` è diverso e Adobe Commerce ha visualizzato il seguente errore:  `Invalid Form Key. Please refresh the page`.

<!-- ACP2E-807-->

* L&#39;indicizzatore EAV ora elabora gli ID prodotto come tipo `int` per evitare possibili problemi di prestazioni.

<!-- AC-2597-->

* La nuova cache dei prodotti viene ora generata correttamente dopo l’aggiunta di una nuova immagine con un nome contenente &quot;&quot;.  su un prodotto, quindi salva il prodotto e pulisci la cache delle immagini. [GitHub-32699](https://github.com/magento/magento2/issues/32699)

<!-- AC-1205-->

* Ora quando si tenta di creare un attributo dalla pagina del prodotto senza completare il campo Admin, Adobe Commerce visualizza un messaggio di errore come previsto. [GitHub-33099](https://github.com/magento/magento2/issues/33099)

* Le valutazioni dei prodotti ora sono corrette in tutti gli elenchi di prodotti del catalogo quando la pagina Home contiene più elenchi di catalogo. [GitHub-33867](https://github.com/magento/magento2/issues/33867)

### Contenuto CMS

<!-- ACP2E-106-->

* Gli esercenti non possono più modificare un aggiornamento pianificato attivo dalla pagina di modifica dell’entità.

<!-- ACP2E-65-->

* Un amministratore con autorizzazioni limitate può ora visualizzare una pagina CMS nella gerarchia CMS dopo un aggiornamento pianificato.

### Prodotti configurabili

<!-- ACP2E-687-->

* Dopo aver modificato la quantità nella pagina dei dettagli del prodotto, Adobe Commerce ora visualizza il prezzo di prodotto corretto per un prodotto configurabile con un’opzione selezionata. In precedenza, il prezzo veniva reimpostato al valore iniziale dopo la modifica della quantità.

<!-- ACP2E-461-->

* Il `products` query recupera ora i prezzi dei prodotti configurabili che riflettono con precisione **Visualizza esaurito** di configurazione. In precedenza, la query non restituiva prezzi precisi.

<!-- ACP2E-412-->

* Le opzioni configurabili sono ora collegate ai prodotti configurabili creati nell’amministratore tramite `POST /V1/configurable-products/configurable1/child`.

<!-- ACP2E-360-->

* Gli attributi a selezione multipla ora vengono salvati correttamente durante la modifica del prodotto. In precedenza, Adobe Commerce salvava l’opzione predefinita per gli attributi non selezionati e per gli attributi selezionati durante il salvataggio di un prodotto.

<!-- ACP2E-55-->

* Adobe Commerce ora visualizza gli attributi configurabili come previsto durante la creazione di `select` tramite uno script di patch. In precedenza, gli attributi globali idonei erano nascosti.

<!-- AC-2521-->

* Il `addConfigurableProductsToCart` è ora possibile utilizzare la mutazione per aggiungere prodotti configurabili con opzioni personalizzate. In precedenza, Adobe Commerce generava questo errore: `Magento 2.3.4 graphql Notice: Undefined index: option_value in /var/www/html/mg234/vendor/magento/module-configurable-product-graph-ql/Model/Resolver/ConfigurableCartItemOptions.php on line 62`. [GitHub-28860](https://github.com/magento/magento2/issues/28860)

<!-- ACP2E-43-->

* Adobe Commerce ora visualizza correttamente lo stato delle scorte di un prodotto configurabile, le configurazioni disponibili e il prezzo visualizzato quando la disponibilità di uno dei prodotti secondari del prodotto configurabile viene modificata da un aggiornamento pianificato. In precedenza, quando un prodotto configurabile aveva due figli e la disponibilità di un prodotto secondario era disabilitata con un aggiornamento pianificato, lo stato delle scorte del prodotto principale veniva visualizzato erroneamente come **Esaurito** quando l’aggiornamento era attivo, al termine dell’aggiornamento, il prezzo visualizzato e la disponibilità delle relative configurazioni non venivano calcolati correttamente.

* Ora puoi riordinare i prodotti configurabili con opzioni personalizzate facoltative. In precedenza, i tentativi di riordino non erano riusciti e comportavano la visualizzazione di questo errore:  `Some of the selected options are not currently available`. [GitHub-35409](https://github.com/magento/magento2/issues/35409)

<!-- AC-959-->

* Il `addConfigurableProductsToCart` la mutazione ora funziona come previsto con più prodotti. In precedenza venivano restituite informazioni di prodotto errate o veniva restituito un messaggio di errore non valido. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

### Cliente

<!-- ACP2E-390-->

* Adobe Commerce ora visualizza correttamente gli attributi predefiniti del sistema EAV in base all&#39;impostazione del sito Web nella vetrina. In precedenza, gli attributi del cliente a livello di sito Web abilitati per un sito Web e disabilitati per un altro venivano visualizzati come abilitati per entrambi i siti Web.

### Segmento cliente

<!-- ACP2E-473-->

* Le regole prodotto correlato specifiche per segmento del cliente ora funzionano come previsto. Il problema è stato risolto chiamando un metodo per aggiungere una relazione visitatore-segmento per un sito web specifico. In precedenza, i segmenti per questa regola venivano recuperati solo sulla base di clienti e siti web registrati.

### Download disponibile

<!-- MC-40675-->

* Ora puoi rimuovere collegamenti e file di esempio da un prodotto scaricabile. [GitHub-31887](https://github.com/magento/magento2/issues/31887)

### E-mail

<!-- ACP2E-717-->

* Le e-mail inviate dal sistema ora vengono inviate correttamente ai destinatari con &quot;.-&quot; nel loro indirizzo e-mail.

<!-- ACP2E-184-->

* Ora i clienti ricevono promemoria e-mail sui carrelli abbandonati secondo la pianificazione corretta. Il nuovo `TIMESTAMPDIFF(DAY, ,)` La funzione SQL ha sostituito `TO_DAYS()` e calcola la differenza nei timestamp in base a data e ora. In precedenza, i promemoria e-mail non venivano inviati per pianificazione a causa del calcolo errato di due valori data-ora di abbandono del carrello (qualsiasi fuso orario) e ora del server (UTC).

<!-- AC-776-->

* Adobe Commerce visualizza ora un messaggio di errore nella pagina Spedizione quando un acquirente inserisce un formato e-mail non valido dopo aver fatto clic su di esso **Inserisci ordine**. In precedenza, il messaggio di errore veniva visualizzato nella pagina Pagamento. [GitHub-33590](https://github.com/magento/magento2/issues/33590

### Framework

<!-- ACP2E-658-->

* Il `bin/magento setup:config:set` Il comando non sostituisce più i prefissi ID cache già impostati in `app/etc/env.php`.

<!-- ACP2E-517-->

* Il `bin/magento setup:static-content:deploy -s compact` Il comando ora include gli stili dei temi figlio come previsto. In precedenza, i file CSS con tema non erano presenti nella vetrina dopo la distribuzione.

<!-- AC-1999-->

* È stato aggiunto un nuovo sniff per verificare se le barre di chiusura sono utilizzate in `void` elementi.

<!-- AC-2896-->

* Adobe Commerce non genera più un errore SQL dopo aver assegnato una nuova origine a un prodotto e averne modificato la quantità. [GitHub-35262](https://github.com/magento/magento2/issues/35262)

<!-- AC-401-->

* L’ordinamento degli attributi ora funziona come specificato nella `di.xml` dopo l&#39;aggiornamento.

<!-- AC-1716-->

* Il `updateCartCurrency` La funzione ora imposta la stringa invece di un oggetto all’interno dell’oggetto carrello. In precedenza, Adobe Commerce non caricava un preventivo utilizzando `getQuote` perché `updateCartCurrency` funzione imposta un oggetto invece di una stringa all’interno dell’oggetto carrello. [GitHub-34199](https://github.com/magento/magento2/issues/34199)

<!-- AC-2428-->

* Gli avvisi di obsolescenza non vengono più visualizzati negli unit test a causa di`\DateTimeFormatter::formatObject()`. Questo metodo ora funziona come previsto con i valori numerici per `$format`.

<!-- AC-2893-->

* Adobe Commerce non visualizza più un `preg_replace()` Errore nell’amministratore. Il terzo argomento (`$subject`) è ora di tipo `array|string` invece di `bool`.

<!-- AC-2583-->

* Il `isFreeShipping` Il metodo ora restituisce un numero intero anziché un valore booleano.[GitHub-35164](https://github.com/magento/magento2/issues/35164)

<!-- AC-2855-->

* Adobe Commerce non genera più il seguente errore quando si crea un plug-in per qualsiasi metodo di classe `vendor/magento/module-backend/Model/Menu.php`: `Error: Call to undefined method ReflectionUnionType::getName()`. [GitHub-35292](https://github.com/magento/magento2/issues/35292)

<!-- AC-1518-->

* Adobe Commerce ora restituisce un errore 404 invece di un errore 500 quando passi a `/checkout/sidebar/updateItemQty/?item_qty=error` sul vetrina. In precedenza, veniva generato questo errore:  `Warning: A non-numeric value encountered in /vendor/magento/module-checkout/Controller/Sidebar/UpdateItemQty.php on line 69`. [GitHub-34380](https://github.com/magento/magento2/issues/34380)

<!-- ACP2E-847-->

* Adobe Commerce non attiva più un `trim(): Passing null to parameter #1 ($string) of type string is deprecated` errore quando la connessione AMPQ è configurata senza la configurazione SSL.

<!-- AC-2414-->

* È stato corretto il `longblog` definizione del database in `long blob`. [GitHub-35108](https://github.com/magento/magento2/issues/35108)

<!-- AC-1526-->

* Il testo di foratura contenente virgolette singole è ora traducibile. [GitHub-34319](https://github.com/magento/magento2/issues/34319)

<!-- AC-2505-->

* A `TypeError` in `magento2/app/code/Magento/Security/Model/AdminSessionsManager.php` è stato corretto da `int` a `string`.  [GitHub-34415](https://github.com/magento/magento2/issues/34415)

<!-- AC-2511-->

* `.htpasswd` è stato aggiunto a posizioni vietate in `nginx` file di configurazione. [GitHub-35150](https://github.com/magento/magento2/issues/35150)

<!-- AC-2013-->

* Il tempo di caricamento delle pagine dell’elenco di prodotti della categoria è stato migliorato con l’aggiunta di `Magento_Ui/js/core/app` as a `deps` a `app/code/Magento/Ui/view/frontend/requirejs-config.js`. [GitHub-34847](https://github.com/magento/magento2/issues/34847)

<!-- AC-2101-->

* Il `ProductRepository.php:get` il metodo ora restituisce le chiavi della cache una volta. In precedenza, venivano restituiti due volte. [GitHub-34958](https://github.com/magento/magento2/issues/34958)

<!-- AC-2507-->

* È stato aggiunto un messaggio di errore a una nuova eccezione creata nel gestore eccezioni per i processi cron. [GitHub-34941](https://github.com/magento/magento2/issues/34941)

<!-- AC-2247-->

* File Leggimi per `GraphQl-GroupedProductGraphQl` moduli sono stati aggiornati. [GitHub-34951](https://github.com/magento/magento2/issues/34951)

<!-- AC-2079-->

* Le pagine ordine di stampa/fattura/nota di credito della vetrina non visualizzano più il logo Luma predefinito anziché il logo specificato per la visualizzazione sul sito Web. [GitHub-34942](https://github.com/magento/magento2/issues/34942)

### Correzioni generali

<!-- AC-2883-->

* Impostazione della dimensione massima della sessione su 0 (Admin **Archivia**  >  **Impostazioni**  >  **Configurazione avanzata**) non disconnette più l’amministratore. [GitHub-35312](https://github.com/magento/magento2/issues/35312)

<!-- ACP2E-675-->

* Le impostazioni di configurazione degli attributi dell’indirizzo del cliente ora vengono caricate correttamente in base al sito web a cui il cliente è assegnato quando si aggiunge un nuovo indirizzo del cliente dall’amministratore che viene assegnato a un sito web non predefinito.

<!-- ACP2E-630-->

* La creazione di una categoria è ora bloccata per un amministratore con restrizioni sia nella pagina Categoria che nella pagina Modifica prodotto. In precedenza, la creazione di categorie era bloccata nella pagina delle categorie, ma era ancora possibile tramite la pagina di modifica del prodotto.

<!-- ACP2E-448-->

* Adobe Commerce non genera più un’eccezione quando si aggiunge un prodotto bundle tramite Page Builder.

<!-- ACP2E-427-->

* È ora possibile selezionare le categorie dalla struttura ad albero delle categorie come condizione per un segmento di clienti.

<!-- ACP2E-381-->

* Ora puoi creare un account cliente su un dispositivo iOS con l’apostrofo inclinato (&#39;) nel nome, nel secondo nome o nel cognome. In precedenza, era consentito solo l’apostrofo diritto e l’utilizzo dell’apostrofo inclinato predefinito iOS 11+ ha prodotto un `Name is not valid!` errore.

<!-- ACP2E-378-->

* Il `products` query ora restituisce informazioni sul prodotto che riflettono con precisione la configurazione &quot;Mostra prodotti correlati&quot;. Il `related_products`, `upsell_products`, e `crosssell_products` I campi nell&#39;interfaccia prodotto GraphQL ora vengono risolti in base rispettivamente alla configurazione Show Related Products (Mostra prodotti correlati), Show Upsell Products (Mostra prodotti di upselling) e Show Cross-Sell Products (Mostra prodotti di cross-selling).

<!-- ACP2E-234-->

* Il **Imposta prodotto come nuova data da** ora visualizza la data corretta quando **Imposta prodotto come nuovo** L&#39;attributo viene impostato tramite un aggiornamento di massa del prodotto. Precedentemente, **Imposta prodotto come nuova data da** è stato visualizzato come **1 gennaio 1970**.

<!-- ACP2E-277-->

* Agli utenti con ruoli limitati non viene più concesso automaticamente l’accesso a nuovi moduli.

<!-- ACP2E-50-->

* Le regole target basate sulle categorie visualizzano solo i prodotti della categoria dichiarata nella regola. In precedenza, nelle regole Prodotto correlato venivano visualizzati prodotti di categorie assegnate a un prodotto e non definite nella regola.

<!-- ACP2E-16-->

* Le condizioni delle regole di prodotto correlate ora funzionano come previsto con i prodotti che contengono `multiselect` attributi.

<!-- AC-2719-->

* Gli esercenti possono ora aggiungere un attributo di prezzo livello (`tier_price`) a confronti di prodotti. In precedenza, la pagina di confronto dei prodotti si bloccava quando **Confrontabile in vetrina** l&#39;impostazione per questo attributo è stata abilitata. [GitHub-35244](https://github.com/magento/magento2/issues/35244)

<!-- AC-2441-->

* Adobe Commerce visualizza ora un messaggio di errore quando imposti un dominio cookie non valido (**Archivia**  > **Configurazioni**  >  **Web**  >  **Dominio cookie impostazioni cookie predefinito**). In precedenza, il sito web si bloccava. [GitHub-35048](https://github.com/magento/magento2/issues/35048)

<!-- AC-2765-->

* Adobe Commerce non genera più un errore quando un amministratore con ruoli con ambito in un singolo sito web aggiunge un prodotto a Elementi di contenuto utilizzando PageBuilder. In precedenza, Adobe Commerce generava un errore SQL.

<!-- AC-197-->

* La convalida è stata aggiunta alla seconda riga dell&#39;indirizzo nelle pagine di modifica e aggiunta degli indirizzi. Vengono ora applicate le lunghezze di testo minima e massima specificate per il secondo.

<!-- ACP2E-798-->

* Adobe Commerce non genera più il seguente errore durante la creazione di una regola di catalogo nell’Amministratore dopo l’aggiornamento: `A technical problem with the server created an error. Try again to continue what you were doing. If the problem persists, try again later`.

<!-- AC-2445-->

* Adobe Commerce non genera più un errore quando attivi il  **Fai clic qui per collegare un feed RSS alla lista dei desideri** prima di fare clic su **Condividi elenco desideri**. [GitHub-34998](https://github.com/magento/magento2/issues/34998)

<!-- AC-2019-->

* Il titolo del **Mostra password** È ora possibile tradurre la casella di controllo (Login cliente, Registrazione cliente, Modifica cliente (sezione Modifica password) e Moduli Impostazione nuova password cliente). [GitHub-34857](https://github.com/magento/magento2/issues/34857)

<!-- ENGCOM-9062-->

* Sono state aggiornate le etichette e le descrizioni dei commenti in `app/code/Magento/NewRelicReporting/etc/adminhtml/system.xml`. [GitHub-31947](https://github.com/magento/magento2/issues/31947)

<!-- ENGCOM-8600-->

* Rimosso non necessario `csp_whitelist.xml` file. [GitHub-30607](https://github.com/magento/magento2/issues/30607)

### Biglietti regalo

<!-- AC-560-->

* `products` le query ora restituiscono correttamente i dati di prodotto che contengono prodotti gift card con un `gift-card` Chiave URL.

### GraphQL

<!-- AC-2361-->

* Un elemento mancante `price_range` l&#39;attributo è stato aggiunto al GraphQL `BundleItemOption` tipo. [GitHub-35010](https://github.com/magento/magento2/issues/35010)

<!-- AC-2367-->

* Il `products` query non restituisce più attributi come aggregazione quando **Utilizzo nei risultati di ricerca** L&#39;impostazione di navigazione a livelli è disabilitata. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-1760-->

* A `price_including_tax` è stato aggiunto a `CartItemPrices`. [GitHub-29057](https://github.com/magento/magento2/issues/29057)

<!-- AC-2520-->

* Il `new_from_data` e `new_to_datefields` in `ProductInterface` non sono più obsoleti. [GitHub-34783](https://github.com/magento/magento2/issues/34783)

<!-- AC-2364 1456-->

* Il `categories` query non genera più un&#39;eccezione durante il recupero di un elenco di categorie di cui una contiene un&#39;immagine che non è possibile trovare nel file system. Precedentemente, Adobe Commerce generava questa eccezione: `Category image not found`. [GitHub-34266](https://github.com/magento/magento2/issues/34266)

<!-- AC-2368-->

* Il `products` query ora restituisce `category_uid` come aggregazione come previsto. [GitHub-32557](https://github.com/magento/magento2/issues/32557)

<!-- AC-2373-->

* Il `updateCartItems` La mutazione ora rimuove i prodotti come previsto quando lo stock di prodotti ha raggiunto la quantità massima di stock. [GitHub-30220](https://github.com/magento/magento2/issues/30220)

<!-- AC-2366 734 MC-42964 -->

* Il `urlResolver` query ora risolve correttamente il delimitatore di percorso (/) quando più home page hanno lo stesso identificatore. In precedenza, la query non risolveva il delimitatore e restituiva null. [GitHub-33615](https://github.com/magento/magento2/issues/33615)

<!-- AC-1881-->

* `customer` le query recuperano ora le opzioni di selezione multipla del prodotto bundle come previsto durante la query degli ordini. [GitHub-34717](https://github.com/magento/magento2/issues/34717)

<!-- AC-1668-->

* Le sessioni di Adobe Commerce non terminano più dopo aver effettuato una richiesta GraphQL. Precedentemente, il `ClearCustomerSessionAfterRequest` il plug-in ha disconnesso l&#39;acquirente. [GitHub-34550](https://github.com/magento/magento2/issues/34550)

<!-- AC-818-->

* Il `products` query non restituisce più `price_range` valori per i prodotti configurabili che sono interessati da varianti disabilitate. [GitHub-33629](https://github.com/magento/magento2/issues/33629)

<!-- ACP2E-634-->

* Gamma di prezzi configurabile in `products` le risposte alle query ora vengono calcolate correttamente quando **Visualizza prodotti esauriti** l&#39;impostazione di configurazione è attivata. In precedenza, le opzioni disabilitate venivano prese in considerazione nel calcolo del prezzo minimo e massimo.

<!-- ACP2E-531-->

* Il `products` query ora restituisce correttamente filtrate più categorie quando si ordina per posizione.

<!-- ACP2E-499-->

* `setShippingAddressesOnCart` Le richieste ora convalidano correttamente gli ID di regione. In precedenza, Adobe Commerce generava un errore quando si utilizzava l’ID di regione invece del codice di regione.

<!-- ACP2E-470-->

* `products` le query ora restituiscono solo le categorie associate all’archivio passato nella richiesta.

<!-- ACP2E-363-->

* Il `categoryList` query ora restituisce risultati che riflettono la categoria principale dell&#39;archivio sottoposto a query quando l&#39;archivio è specificato nell&#39;intestazione. In precedenza, le categorie della categoria principale predefinita venivano incluse nei risultati anche se nell’intestazione era specificato un altro archivio.

<!-- AC-1955-->

* Il `products` query non restituisce più attributi come aggregazione quando **Utilizzo nella navigazione a livelli dei risultati di ricerca** è disabilitata. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-2365-->

* Il `cart` query ora restituisce un solo metodo di pagamento per gli ordini gratuiti. In precedenza, tutti i metodi di pagamento attivi venivano restituiti nella risposta alla query. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

<!-- AC-210-->

* È stato aggiunto un plug-in prima del `collectQuoteTotals` invoca per garantire che i crediti del negozio non vengano applicati più volte.

<!-- ACP2E-636-->

* Il `generateCustomerTokenAsAdmin` la mutazione ora recupera i token del cliente come previsto. In precedenza, i token non venivano restituiti e veniva restituito questo errore: `Customer email provided does not exist`.

<!-- AC-2371-->

* Lo schema GraphQL è ora valido quando un `type` l’attributo del prodotto è definito. In precedenza, lo schema non era valido perché `type` l&#39;attributo sui tipi di prodotti è stato sovrascritto dal `type` attributo. [GitHub-34929](https://github.com/magento/magento2/issues/34929)

<!-- AC-2797-->

* Clienti aggiunti o aggiornati con `createCustomer`, `createCustomerV2`, `updateCustomer`, o `updateCustomerV2` le mutazioni vengono ora aggiunte con gli abbonamenti a newsletter attive. In precedenza, i clienti venivano cancellati dalle newsletter anche quando la richiesta conteneva parametri di input corretti. [GitHub-33599](https://github.com/magento/magento2/issues/33599)

<!-- AC-1883-->

* Il `products` la query per una visualizzazione archivio specifica ora restituisce solo le categorie che si trovano nella categoria principale del sito web specifico nella distribuzione multisito. In precedenza, la query restituiva categorie dalle categorie principali di altri siti web. [GitHub-34570](https://github.com/magento/magento2/issues/34570)

<!-- AC-2712-->

* Il `products` query ora restituisce solo la sottocategoria dell’ID categoria fornito. In precedenza, restituiva tutte le categorie. [GitHub-35220](https://github.com/magento/magento2/issues/35220)

<!-- AC-2794-->

* Il `customerOrders` la query ora risponde come previsto quando `gift_message` L&#39;oggetto è specificato nella risposta ma non esiste alcun messaggio regalo. In precedenza, la query restituiva questo messaggio: `Can't load gift message for order is returned`. [GitHub-28957](https://github.com/magento/magento2/issues/28957)

<!-- AC-2515-->

* È stato corretto un bug con `catalog_category_product` indicizzatore che ha causato la `products` per restituire categorie da un altro archivio. [GitHub-31253](https://github.com/magento/magento2/issues/31253)

<!-- AC-2063-->

* Il `generateCustomerToken` la mutazione crea ora una voce nel `customer_log` come previsto dopo la generazione di un token cliente. [GitHub-33378](https://github.com/magento/magento2/issues/33378)

### Google Analytics

<!-- AC-2574 2685-->

* Il modulo Google Tag è stato aggiunto alla base di codice, che supporta la transizione a Google Analytics 4 a luglio 2023.  Al momento puoi utilizzare e raccogliere nuovi dati nelle proprietà di Google Universal Analytics, ma Google Universal cesserà il ciclo di vita a luglio 2023. [GitHub-35204](https://github.com/magento/magento2/issues/35204), [GitHub-35376](https://github.com/magento/magento2/issues/35376)

### Immagine

<!-- ACP2E-71-->

* Le immagini nelle pagine dei dettagli del prodotto non sfarfalliranno più e rimarranno centrate come previsto. Precedentemente, dopo che una pagina dei dettagli del prodotto aveva completato il caricamento di un’immagine, questa si spostava visibilmente verso il basso.

### Importa/esporta

<!-- ACP2E-676-->

* La posizione di prodotto correlato, in upselling e cross-selling nel file CSV di esportazione è ora corretta dopo l’eliminazione di un prodotto cross-selling dall’amministratore prima di rigenerare il file CSV. In precedenza, le posizioni relative ai prodotti di cross-selling non venivano ricalcolate dopo la rimozione di un prodotto di cross-selling e l’ordine delle posizioni relative ai prodotti era errato.

<!-- ACP2E-632-->

* Adobe Commerce ora controlla la presenza di una vista personalizzata prima di filtrare le colonne durante l’esportazione dei rapporti. In precedenza, i rapporti esportati non tenevano conto delle viste personalizzate e le colonne esportate non erano corrette.

<!-- ACP2E-502-->

* Adobe Commerce ora importa correttamente le immagini con nomi di file lunghi. In precedenza, Adobe Commerce non importava l’immagine e generava questo errore: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s):`.

<!-- ACP2E-294-->

* Gli attributi ID categoria sono ora disponibili nei filtri di esportazione pianificati.

<!-- ACP2E-59-->

* Prodotti bundle che contengono un punto interrogativo (?) nel titolo dell’opzione ora può essere importato correttamente a causa di miglioramenti al generatore di query all’interno di `populateExistingOptions` metodo. Anche il titolo dell’opzione viene visualizzato correttamente. In precedenza, dopo l’importazione iniziale, le importazioni successive determinavano un comportamento danneggiato e raddoppiavano le opzioni. Gli acquirenti non potevano aggiungere il prodotto al carrello.

<!-- ACP2E-766-->

* È stata aggiunta la convalida per i nomi di categoria durante l’importazione. In precedenza, Adobe Commerce non convalidava i nomi delle categorie, generando errori quando i nomi delle categorie superavano i 255 caratteri.

<!-- AC-2096-->

* Record esistenti in `catalog_url_rewrite_product_category` vengono ora eliminate prima di inserirne di nuove. In precedenza, durante l’importazione di prodotti in più store, si verificava il seguente errore: `SQLSTATE[23000]: Integrity constraint violation`. [GitHub-34210](https://github.com/magento/magento2/issues/34210)

### Infrastruttura

<!-- ACP2E-2039-->

* Un plug-in del menu di scelta rapida obsoleto è stato rimosso dall’elenco dei plug-in.

<!-- ACP2E-2039-->

* La logica relativa alla barra degli strumenti dell’editor TinyMCE nel modulo Page Builder è stata aggiornata in seguito all’introduzione di `delayedRender` per la barra degli strumenti in TinyMCE.

<!-- MC-42655-->

* Le corse non interrompono più la creazione del `contentUpdated` listener di eventi. [GitHub-32068](https://github.com/magento/magento2/issues/32068)

<!-- AC-3044-->

* Il `getTypeID` La funzione ora restituisce l’ID del tipo di prodotto, non l’ID prodotto. [GitHub-35458](https://github.com/magento/magento2/issues/35458)

<!-- AC-2911-->

* cursore dell’interfaccia utente jQuery e `SelectMenu` la mappatura è stata corretta in `vendor/magento/module-theme/view/base/requirejs-config.js`.

* Osservatori assegnati a `sales_order_state_change_before` ora supporta il recupero di dati dall’oggetto dell’ordine. Il `sales_order_state_change_before` `event` è stato aggiornato. [GitHub-26789](https://github.com/magento/magento2/issues/26789)

<!-- AC-2239-->

* `indexer:reset` è stato reimpostato per chiamare `$indexer->invalidate()`. [GitHub-34988](https://github.com/magento/magento2/issues/34988)

<!-- AC-2055-->

* È ora possibile utilizzare il simbolo dei due punti in un `htmlClass` valore dell’attributo, che supporta l’utilizzo di componenti aggiuntivi come l’interfaccia utente di Tailwind. [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### Registrazione

<!-- ACP2E-203-->

* Le azioni cliente, indirizzo cliente e ordine ora vengono registrate correttamente nel rapporto Azioni amministratore. In precedenza, Adobe Commerce non registrava le azioni se `postDispatch` handler non specificato nelle impostazioni di configurazione.

### MFTF

#### Gruppi di azioni

Le azioni ripetitive sono state sostituite da gruppi di azioni in questi test:

`AdminConfigurableProductChildrenOutOfStockTest` [GitHub-32378](https://github.com/magento/magento2/issues/32378)
`AdminCreateStoreViewTest` [GitHub-34631](https://github.com/magento/magento2/issues/34631)

#### Nuovi test

`AdminUnlockAdminUserEntityTest` [GitHub-34836](https://github.com/magento/magento2/issues/34836)

`StorefrontNewsletterSubscriptionWithEnabledNeedToConfirmConfigTest` [GitHub-33344](https://github.com/magento/magento2/issues/33344)

#### Test refactoring

`AdminCancelTheCreatedOrderWithCashOnDeliveryPaymentMethodTest` [GitHub-33692](https://github.com/magento/magento2/issues/33692)

### Newsletter

<!-- ACP2E-35-->

* I clienti connessi non sono più contrassegnati come ospiti in Amministratore > **Marketing** > **Iscritti alla newsletter**.

<!-- AC-2102-->

* L’e-mail di conferma dell’abbonamento alla newsletter ora presenta l’indirizzo e-mail corretto specifico per lo store in **Da** se il cliente è assegnato a un negozio non predefinito e ha effettuato o annullato l’abbonamento all’amministratore. In precedenza, il cliente riceveva un’e-mail con l’e-mail predefinita in **Da** intestazione. [GitHub-34963](https://github.com/magento/magento2/issues/34963)

<!-- AC-2509-->

* L’URL per l’annullamento dell’iscrizione nel modello e-mail della newsletter ora funziona come previsto. [GitHub-33310](https://github.com/magento/magento2/issues/33310)

### Ordine

<!-- ACP2E-550-->

* Ora è possibile creare un nuovo cliente da un nuovo ordine con attributi cliente personalizzati nascosti nella vetrina. In precedenza, Adobe Commerce non salvava i valori corretti per l’attributo cliente personalizzato.

<!-- ACP2E-279-->

* I dettagli del cliente ospite ora vengono salvati correttamente dopo la modifica di un ordine. In precedenza, alcuni dettagli dei clienti andavano persi, tra cui `customer_firstname` e `customer_lastname, x_forwarded_for`.

<!-- ACP2E-92-->

* Gli esercenti non possono più creare una nota di accredito con una quantità totale decimale quando **Qtà decimale** è disabilitato a livello di prodotto o di impostazione globale. In precedenza, i commercianti potevano creare una nota di accredito per la quantità totale decimale laddove non era applicabile.

<!-- ACP2E-56-->

* Il comando Filtra per data ora funziona correttamente per le fatture, le spedizioni, le note di credito, le pagine CMS e le griglie di blocchi CMS quando il fuso orario impostato nelle preferenze è diverso da quello impostato in un computer locale. In precedenza, la data veniva analizzata in modo errato e i risultati filtrati includevano dati al di fuori dell’intervallo di date impostato.

<!-- AC-1536-->

* Adobe Commerce non modifica più gli indirizzi e-mail personalizzati assegnati agli ordini quando modifichi l’indirizzo e-mail principale assegnato al cliente nella pagina di modifica dell’account amministratore. In precedenza, quando si modificava l’indirizzo e-mail principale di un cliente, il nuovo indirizzo e-mail veniva assegnato a ogni ordine creato per quel cliente. [GitHub-34397](https://github.com/magento/magento2/issues/34397)

<!-- AC-2664-->

* Adobe Commerce ora visualizza i record dello store richiesto nella pagina della griglia delle note di credito nelle distribuzioni che eseguono PHP 7.4. In precedenza, Adobe Commerce generava il seguente errore dopo aver creato una nota di credito e aver tentato di visualizzarla: `The store that was requested wasn't found. Verify the store and try again`.

<!-- AC-2442-->

* Adobe Commerce visualizza ora le note di credito nella pagina della griglia delle note di credito per gli ordini creati da viste del negozio il cui nome è preceduto da numeri. In precedenza, Adobe Commerce visualizzava l’errore: `The store that was requested wasn't found. Verify the store and try again. Exception in /var/www/html/vendor/magento/module-store/Model/StoreRepository.php:75`. [GitHub-35122](https://github.com/magento/magento2/issues/35122)

<!-- ACP2E-31-->

* Adobe Commerce ora visualizza le spese di spedizione gratuite (0) sui totali della pagina delle fatture di amministrazione e vetrina. In precedenza, quando la spedizione era pari a zero per un ordine, Adobe Commerce non visualizzava l&#39;importo totale della spedizione nella pagina fattura spedizione totale.

<!-- ACP2E-740-->

* Adobe Commerce ora visualizza lo stato corretto dell’ordine durante il pagamento quando viene utilizzato il credito del negozio del cliente.

<!-- AC-1778-->

* Il `increment_id` colonna nella `sales_order` la tabella è stata aumentata. Precedentemente, moduli di terze parti che presupponevano che `sales_order.increment_id` ha una lunghezza di 50 caratteri salvati solo i primi 32 caratteri di un `increment_id`. [GitHub-34521](https://github.com/magento/magento2/issues/34521)

### Metodi di pagamento

<!-- ACP2E-25-->

* Ora gli amministratori possono effettuare un ordine all&#39;amministratore utilizzando il metodo di pagamento PayPal PayflowPro. In precedenza, Adobe Commerce visualizzava questo errore: `No such entity with cartId = 0`.

<!-- AC-2093-->

* Nella pagina Revisione pagamento del flusso di lavoro di pagamento ora viene visualizzato il nome corretto del metodo di pagamento quando il pagamento viene effettuato con Venmo, PayPal Later o PayPal.

<!-- AC-1195-->

* Il `cart` query non restituisce più tutti i metodi di pagamento attivi per gli ordini gratuiti. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

#### Braintree

<!-- BUNDLE-3088-->

* Gli esercenti possono ora inviare un rimborso parziale per gli ordini pagati con Apple Pay tramite Braintree. Questo era un problema noto in Adobe Commerce 2.4.4.

#### PayPal

<!-- ACP2E-296-->

* Adobe Commerce ora mostra il nome corretto del cliente in un ordine degli ospiti pagato con PayPal. In precedenza, il nome del cliente veniva visualizzato come Ospite.

<!-- AC-2606-->

* Il risolutore per la mutazione createPaypalExpressToken è stato aggiornato per utilizzare correttamente il valore specificato nel campo di input use_paypal_credit. In precedenza, tentava di utilizzare un valore non valido `paypal_credit` campo. [GitHub-35180](https://github.com/magento/magento2/issues/35180)

### Prestazioni

<!-- ACP2E-474-->

* Sono state migliorate le prestazioni del caricamento del blocco dinamico. In precedenza, i segmenti dei visitatori non venivano memorizzati nella cache per sito web, il che causava query ridondanti al database per gli stessi dati.

<!-- ACP2E-52-->

* La gestione della cache Redis è stata migliorata con l’aggiunta del TTL (data di scadenza) per le cache dei dati di prodotto associate ai prodotti configurabili. In precedenza, queste cache non venivano eliminate a causa di valori TTL mancanti se il criterio di eliminazione della chiave Redis era configurato per un criterio di eliminazione volatile.

<!-- ACP2E-464-->

* Il nuovo `Grid Filter Condition Type` L&#39;attributo dell&#39;indirizzo del cliente controlla il modo in cui un filtro di attributi viene confrontato con i valori degli attributi nel database. Le opzioni includono `Partial Match`, `Prefix Match`, e `Full Match`.

<!-- AC-1136-->

* L’indicizzatore full-text di ricerca nel catalogo è stato riposizionato all’esterno del ciclo store, il che semplifica la reindicizzazione. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-2508-->

* È stato risolto un problema relativo a `array_merge` in loop. [GitHub-33929](https://github.com/magento/magento2/issues/33929)

### Prezzi

<!-- ACP2E-445-->

* Gli attributi di prezzo privi di valore nell&#39;ambito predefinito (ma definiti a livello di visualizzazione dello store) ora vengono indicizzati correttamente. In precedenza, le espressioni SQL che recuperavano i valori degli attributi di prezzo dalla tabella EAV non tenevano conto dello scenario in cui il valore non era definito nell&#39;ambito predefinito.

<!-- ACP2E-313-->

* Il prezzo elencato nella pagina dei dettagli del prodotto è ora lo stesso del prezzo elencato nel flusso di lavoro di pagamento per i prezzi dei livelli che differiscono per la quantità selezionata (ad esempio, un prodotto con prezzi diversi in base all&#39;acquisto di 2 articoli rispetto a 5 articoli). In precedenza, il prezzo di pagamento rifletteva il prezzo per la quantità di prodotto più bassa.

### Promozioni

<!-- ACP2E-690-->

* Il **Tempi utilizzati** il valore di uno sconto non viene più incrementato due volte quando un cliente ospite effettua un ordine con uno sconto e successivamente registra un conto.

### ReCAPTCHA

* Il **Invia** Il pulsante Accedi e crea account non è più attivo finché ReCaptcha non è completamente caricato.

### Restituisci autorizzazioni Merchandising (RMA)

<!-- MC-40432-->

* Il `GET /V1/returnsAttributeMetadata` l&#39;endpoint ora funziona correttamente quando `rma_item` l’ID del set di attributi predefinito dell’entità è diverso dall’ID di installazione predefinito. In precedenza, questo endpoint restituiva un risultato vuoto se questi ID erano diversi.

<!-- ACP2E-247-->

* Il **Usa predefinito** La casella di controllo, utilizzata per abilitare RMA nella pagina di modifica del prodotto, ora funziona come previsto per Archivio predefinito. In precedenza, la casella di controllo veniva deselezionata subito dopo il salvataggio del prodotto.

### Premi

<!-- ACP2E-433-->

* È ora possibile rimborsare i punti premio quando la funzionalità di credito del negozio è disabilitata.

<!-- ACP2E-757-->

* Le prestazioni del checkout sono state migliorate con l&#39;applicazione dei punti premio. Quando `entity` è null, la query del database non verrà eseguita perché viene eseguita la query `magento_reward_history` la tabella non è obbligatoria in tali circostanze.

<!-- ACP2E-674-->

* Le note di accredito per gli ordini degli ospiti non controllano più `customer_id`, che ignora l&#39;esecuzione delle query `magento_reward_history` tabella di database per punti premio. Questa modifica ha migliorato le prestazioni.

### Ruoli

* Il **Archivia** >  **Configurazione** > **Servizi** Questa pagina visualizza ora le informazioni API Web di Adobe Commerce come previsto quando Accesso alle risorse è impostato su  **Personalizzato** nella scheda Role Resources (Risorse ruolo). [GitHub-35506](https://github.com/magento/magento2/issues/35506)

### Ricerca {#search-heading}

<!-- ACP2E-645-->

* Il filtro dei prodotti per campione di colore nella navigazione a livelli mostra l’immagine corretta per i prodotti dopo la correzione.

<!-- ACP2E-615-->

* Le query di Elasticsearch ora funzionano come previsto quando `int` è configurato come back-end ricercabile `type` attributo. In precedenza, Adobe Commerce generava un’ `Elasticsearch\Common\Exceptions\BadRequest400Exception` eccezione.

<!-- ACP2E-99-->

* È ora possibile utilizzare i sinonimi di ricerca insieme al **Condizioni minime da rispettare** Parametro Nelle query di Elasticsearch. In precedenza, se questo parametro era specificato nelle impostazioni e i termini di ricerca venivano aggiunti per parole chiave specifiche, la ricerca non restituiva alcun risultato.

<!-- ACP2E-72-->

* Adobe Commerce ora mostra un conteggio accurato dei suggerimenti di ricerca nella vetrina nelle implementazioni in cui Suggerimenti di ricerca e **Mostra conteggio risultati per ogni suggerimento** sono attivate. In precedenza, il conteggio visualizzato accanto alle parole chiave era zero.

<!-- AC-700-->

* I prodotti ordinati in base agli attributi personalizzati nella pagina Catalogo vengono ora visualizzati nell’ordine previsto. In precedenza, i prodotti venivano ordinati in base all’ID del valore di opzione dell’attributo, che riflette l’ordine in cui sono stati aggiunti all’attributo. [GitHub-33810](https://github.com/magento/magento2/issues/33810)

<!-- AC-645-->

* Il filtraggio dei prodotti per campione di colore nella navigazione a livelli ora mostra le immagini del prodotto corrette. In precedenza, la navigazione a livelli `PageCache` La chiave non includeva i parametri di filtro per i prodotti configurabili.

<!-- AC-2051-->

* Sono stati corretti gli errori PHP in `catalogsearch/advanced/result` e  `catalogsearch/advanced/index` pagine.  In precedenza, Adobe Commerce visualizzava questo errore quando veniva passato un array in una stringa di ricerca avanzata:  `Warning: trim() expects parameter 1 to be string, array given | magento/module-catalog-search`. [GitHub-33586](https://github.com/magento/magento2/issues/33586)

### Spedizione

<!-- AC-2052-->

* Adobe Commerce non genera più un errore durante il caricamento delle tariffe di spedizione UPS se non sono selezionati metodi di spedizione consentiti. In precedenza, quando un acquirente inseriva un indirizzo di spedizione nel flusso di lavoro di pagamento in queste condizioni, non venivano visualizzati altri metodi di spedizione e Adobe Commerce visualizzava un errore nella vetrina. [GitHub-34411](https://github.com/magento/magento2/issues/34411)

<!-- AC-2621-->

* I prezzi dei prodotti virtuali sono ora esclusi nella tabella di calcolo dell’importo della spedizione. In precedenza, le spese di spedizione per questi prodotti non venivano calcolate correttamente.[GitHub-35185](https://github.com/magento/magento2/issues/35185)

<!-- ACP2E-209-->

* Le tariffe di spedizione della tariffa tabella a prezzo zero ora vengono visualizzate correttamente nel blocco Sintetico ordini del flusso di lavoro di pagamento per gli ordini a cui è stato applicato un buono sconto. In precedenza, il metodo di spedizione non veniva visualizzato.

### Staging

<!-- ACP2E-404-->

* Adobe Commerce non ripulisce più la cache a pagina intera dopo l’applicazione di un aggiornamento di staging per una regola di vendita in cui le pagine memorizzate in cache rimangono invariate.

<!-- ACP2E-304-->

* Il dashboard dell’area di gestione temporanea del contenuto non visualizza più gli aggiornamenti permanenti inattivi.

<!-- ACP2E-257-->

* La modifica della data di fine di un aggiornamento dello staging dal dashboard di staging ora applica correttamente le modifiche all&#39;aggiornamento dello staging e alle relative entità. È stata introdotta una coda per elaborare le modifiche degli aggiornamenti di staging.

<!-- ACP2E-238-->

* Gli esercenti possono ora rimuovere una data di fine per un aggiornamento pianificato o eliminarlo e ricrearlo. In precedenza, quando veniva rimossa una data di fine, un’entità rimaneva programmata per tale ora. Adobe Commerce ora rimuove l’aggiornamento obsoleto per il rollback rimosso.

<!-- ACP2E-149-->

* Gli aggiornamenti della pianificazione attiva per una pagina CMS sono ora visibili come previsto nella sezione Modifiche pianificate della pagina CMS.

<!-- ACP2E-81-->

* Il `custom_design_to` il valore dell’attributo viene ora aggiornato come previsto quando viene modificato un aggiornamento pianificato. In precedenza, due aggiornamenti distinti della progettazione delle categorie senza ora di fine venivano trattati come un unico aggiornamento. Quando uno degli aggiornamenti pianificati è stato eliminato mentre il primo era in esecuzione, il `custom_design_from` il valore di tempo è diventato maggiore del valore `custom_design_to` i valori di ora nel prossimo aggiornamento pianificato.

<!-- ACP2E-58-->

* Dopo aver modificato un aggiornamento pianificato, ora Forms viene compilato con i dati come previsto.

<!-- ACP2E-18-->

* Il `vendor/magento/module-catalog-staging/Setup/Patch/Data/MigrateCatalogProducts.php` la patch dati non ha più esito negativo quando il database include un prodotto con opzioni personalizzate e `special_from_date` è impostato.

<!-- ACP2E-741-->

* Le modifiche ora vengono salvate durante un secondo aggiornamento pianificato quando vengono aggiunte dall’aggiornamento in esecuzione. In precedenza, le modifiche non venivano salvate e gli esercenti dovevano inserirle nuovamente e salvarle.

<!-- ACP2E-21-->

* Nel registro delle azioni in blocco vengono ora visualizzate le informazioni relative agli errori `to be moved` aggiornamenti pianificati. In precedenza, le informazioni su questi errori erano disponibili nel `cron.log` solo file.

<!-- ACP2E-420-->

* Gli esercenti ora possono utilizzare prezzi separati da virgole quando modificano il prezzo di un prodotto in un aggiornamento pianificato, indipendentemente dalla lingua. In precedenza, i prezzi con virgole in un aggiornamento pianificato venivano divisi per 1000 a seconda delle impostazioni internazionali.

<!-- AC-3214-->

* I problemi con la spedizione interna di DHL nelle implementazioni che eseguono PHP 8.1 sono stati risolti richiedendo etichette tassabili solo per le spedizioni internazionali.

### Imposta

<!-- ACP2E-735-->

* L’imposta fissa sui prodotti (FPT, Fixed Product Tax) ora viene visualizzata correttamente per i prodotti nel carrello. Precedentemente, se più prodotti nel carrello hanno **Imposta sul prodotto fisso (FPT)** e **Applica imposta a FPT** sono stati abilitati, tutti gli FPT sono stati assegnati all’ultimo prodotto nel carrello e reimpostati per altri prodotti.

<!-- ACP2E-350-->

* Il totale FPT (Fixed Product Tax) per la sezione di riepilogo degli ordini del flusso di lavoro di pagamento ora viene calcolato correttamente.

<!-- ACP2E-291-->

* Adobe Commerce ora aggiorna il prezzo del livello di imposta di esclusione per un prodotto semplice nella pagina del prodotto come previsto dopo la modifica della quantità del prodotto semplice.

<!-- ACP2E-182-->

* È stata aggiunta la convalida alla pagina di configurazione dello store per verificare se il paese selezionato dall’elenco a discesa è nell’elenco dei paesi dell’UE. Il **Convalida partita IVA** Questo pulsante è ora visibile solo per i paesi dell&#39;UE. In precedenza, il pulsante era visibile per tutti i paesi, incluso il Regno Unito.

<!-- ACP2E-45-->

* Il prezzo di livello ora viene calcolato correttamente quando **Visualizza Prezzi Prodotto Nel Catalogo** è impostato su **Imposta esclusa** o **Inclusione ed esclusione di imposte**. In precedenza, nella pagina dei dettagli del prodotto venivano visualizzati i prezzi dei livelli con le imposte nonostante l’impostazione.

<!-- AC-1925-->

* Le tasse ora vengono applicate correttamente per gli ordini a qualsiasi indirizzo valido in vetrine utilizzando le impostazioni locali portoghesi. [GitHub-34271](https://github.com/magento/magento2/issues/34271)

<!-- AC-1084-->

* Il `cart` la query non include più l&#39;imposta quando viene restituita `subtotal_with_discount_excluding_tax`. [GitHub-33905](https://github.com/magento/magento2/issues/33905)

<!-- ACP2E-651-->

* Richieste API web per dati ordine (`GET /V1/orders/`) non restituisce più valori negativi per i totali di riga.

### Test

<!-- AC-2004-->

* Sono stati corretti gli errori con `Magento.GraphQl.CatalogGraphQl.ProductSearchTest.testSearchSuggestions` quando viene eseguito con la configurazione di Elasticsearch di AWS.

<!-- AC-1113-->

* Il `testCreateProductOnStoreLevel` integration test non causa più una transazione nidificata sul database.

* La seguente eccezione non si verifica più quando si eseguono test WebAPI per la funzione Send Friend quando l’immagine del prodotto non è impostata su PHP 8.1:  `exception main.ERROR: /var/www/html/lib/internal/Magento/Framework/DataObject.php:131 strpos(): Passing null to parameter #1 ($haystack) of type string is deprecated`. [GitHub-34864](https://github.com/magento/magento2/issues/34864)

### Traduzioni e lingue

<!-- ACP2E-537-->

* Ora puoi utilizzare lo strumento Traduci in linea per modificare lo stesso elemento più di una volta. In precedenza, era inclusa solo la prima modifica apportata utilizzando questo strumento.

<!-- ACP2E-437-->

* Il selettore della vista archivio non blocca più il riquadro di traduzione quando si modificano il testo o le etichette di amministrazione. È ora possibile modificare queste funzioni dal riquadro di traduzione e le modifiche vengono visualizzate quando si fa clic su **Invia**.

<!-- ACP2E-362-->

* Il formato data/ora Admin per le lingue portoghese brasiliano e francese è ora valido.

<!-- ACP2E-785-->

* È stato aggiunto un accento grave [ \` ] in modo che sia possibile creare un account cliente per nomi o cognomi che includono questo accento.

<!-- ACP2E-682-->

* Il testo sul **Aggiungi al carrello** Nella pagina Dettagli prodotto, il pulsante rimane ora tradotto nella lingua specificata nelle impostazioni internazionali associate. I file di traduzione vengono ora convertiti nei file JavaScript corrispondenti in base alle aree, ai temi e alle impostazioni internazionali quando `translate_strategy=embedded`. In precedenza, il testo tornava in inglese dopo l’aggiunta del prodotto al carrello.

<!-- ACP2E-752-->

* I sinonimi di ricerca ora rispettano l’ambito dell’archivio assegnato. In precedenza, era possibile cercare in qualsiasi altro negozio un sinonimo assegnato a uno specifico negozio.

<!-- AC-1178-->

* Sono stati risolti i problemi con le Filippine. [GitHub-33996](https://github.com/magento/magento2/issues/33996)

### UI

<!-- ACP2E-557-->

* Nomi di prodotti lunghi in **Catalogo** > **Prodotti** La griglia è ora racchiusa tra parole invece di essere visualizzata in una singola riga.

<!-- ACP2E-347-->

* L’intervallo di date di nascita minimo e massimo viene ora salvato come marca temporale corretta e quindi convertito da una marca temporale valida a un formato data valido.

<!-- ACP2E-280-->

* La non disponibilità di `magento.com` non causa più problemi di prestazioni durante l’accesso dell’amministratore. È stato aggiunto un timeout nella richiesta di recupero della notifica di rilascio.

<!-- ACP2E-88-->

* I risultati dei filtri dell’ordine amministratore, del cliente e della griglia di prodotto ora persistono come previsto quando vengono visualizzati nel browser Chrome.

<!-- AC-2750-->

* Ora puoi creare un cliente dall’Amministratore quando `Magento_LoginAsCustomerAdminUi` è abilitato e **Visualizzazione Negozio A Cui Accedere** è impostato su selezione manuale. In precedenza, Adobe Commerce generava questo errore: `(Magento\Framework\Exception\LocalizedException): Unable to get Customer ID`. [GitHub-33096](https://github.com/magento/magento2/issues/33096)

<!-- AC-2076-->

* La freccia &quot;Avanti&quot; ora viene disabilitata come previsto quando un acquirente raggiunge l’ultima miniatura nella galleria di immagini del prodotto.

<!-- AC-2060-->

* Il **Ricerca per parola chiave** il campo di input ora include un `aria-label` anziché un segnaposto sul **Catalogo** > **Prodotto** pagina.

<!-- AC-3058-->

* Il collegamento all’Informativa sulla privacy nel piè di pagina Amministratore ora si collega al nuovo Adobe Informativa sulla privacy.

<!-- AC-2880-->

* Ora gli amministratori possono accedere alle opzioni del menu Amministratore quando il bundling JavaScript è abilitato in modalità di produzione.  [GitHub-35325](https://github.com/magento/magento2/issues/35325)

<!-- AC-2851-->

* Ora gli amministratori possono impostare una data di scadenza dell’utente corrente superiore al 2038 e salvarlo correttamente. In precedenza, l’utente la cui data di scadenza era stata modificata non poteva effettuare nuovamente l’accesso dopo la disconnessione.

<!-- AC-751-->

* Adobe Commerce ora visualizza un messaggio di errore informativo quando un amministratore tenta di salvare un indirizzo con linee stradali eccessive in Admin **Archivia** > **Attributi**  > **Indirizzo del cliente**.  L’amministratore può ora eliminare le informazioni aggiuntive sull’indirizzo e salvarlo correttamente. In precedenza, Adobe Commerce eseguiva il commit delle righe aggiuntive ma non salvava i dati.

<!-- ACP2E-546-->

* La configurazione della vista dell’elenco dei prodotti nel database e nell’archiviazione locale è stata aggiornata. Le visualizzazioni griglia personalizzate vengono ora salvate durante il ricaricamento della pagina e la visualizzazione delle modifiche.

<!-- ACP2E-747-->

* Ora puoi passare da una visualizzazione all’altra quando sono abilitate le restrizioni del sito web. In precedenza, i problemi con il commutatore della visualizzazione archivio impedivano il passaggio tra le visualizzazioni dello store.

<!-- AC-2042-->

* Il modulo di caricamento delle icone preferite ora supporta `.ico` tipi di file. In precedenza, quando si tentava di caricare un file favicon con questo tipo di estensione nell’Admin, Adobe Commerce visualizzava questo errore: `Warning: imagecreatefromstring(): one parameter to a memory allocation multiplication is negative or zero, failing operation gracefully in /var/www/html/vendor/magento/module-media-storage/Model/File/Validator/Image.php on line 64`. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

<!-- AC-3122-->

* Sono stati risolti dei problemi di visualizzazione con il menu a discesa Seleziona nella griglia di amministrazione. [GitHub-35386](https://github.com/magento/magento2/issues/35386)

<!-- AC-2055-->

* [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### Riscritture URL

<!-- AC-2535-->

* Gli URL di un prodotto solo in una visualizzazione store specifica vengono ora rimossi dal `url_rewrite` tabella e amministratore dopo che lo stato di visibilità del codice attributo per la visualizzazione store specifica è stato modificato in **Non visibile singolarmente**.  In precedenza, tutti gli URL venivano rimossi per il prodotto nel `url_rewrite` tabella. [GitHub-34937](https://github.com/magento/magento2/issues/34937)

### Video

<!-- ACP2E-485-->

* Ora puoi utilizzare i parametri URL di YouTube utilizzando Page Builder per aggiungere un nuovo video. In precedenza, questi parametri venivano rimossi automaticamente dall’URL.

<!-- AC-2251-->

* È ora possibile impostare un video Vimeo da eseguire in background in un `banner` quando CSP è impostato su `restrict mode`. In precedenza, Adobe Commerce generava un errore JavaScript.

### Framework API web

<!-- ACP2E-694-->

* Mutex è stato implementato per gli ordini di evitare race condition durante l&#39;aggiornamento da richieste simultanee. In precedenza, le condizioni di concorrenza durante le chiamate API REST simultanee causavano la sovrascrittura delle informazioni sullo stato di spedizione nella tabella Articoli ordinati dell’amministratore.

<!-- ACP2E-677-->

* L’ereditarietà del ruolo dell’immagine del prodotto ora viene mantenuta a meno che non sia esplicitamente definita nel payload durante l’aggiornamento di un prodotto in una visualizzazione store specifica tramite l’API REST.

<!-- AC-2231-->

* Schema Swagger (`/rest/schema`) ora utilizza ID operativi univoci.

<!-- AC-2845-->

* Regole di prezzo del carrello create tramite `POST /V1/salesRules/` l’endpoint ora mantiene i valori del codice coupon esistenti dopo aver cambiato lo stato da disabilitato a abilitato. [GitHub-35298](https://github.com/magento/magento2/issues/35298)

<!-- AC-2764-->

* Regole di prezzo del carrello create tramite `POST /V1/salesRules/` l&#39;endpoint ora contiene un valore valido `from_date` e `to_date` valori. [GitHub-35265](https://github.com/magento/magento2/issues/35265)

<!-- AC-2522-->

* `CartItemInterface` ora include `customizable_options`. [GitHub-31180](https://github.com/magento/magento2/issues/31180)

<!-- AC-2898-->

* Le richieste PUT e DELETE in blocco API REST ora funzionano come previsto quando `Magento_ReCaptchaWebapiRest` è attivato. [GitHub-35348](https://github.com/magento/magento2/issues/35348)

<!-- AC-763-->

* L’API Rest in blocco ora funziona con `bySku` per i prodotti configurabili. In precedenza, restituiva un errore 500.

<!-- AC-1169-->

* Il `/V1/products/base-prices` l’endpoint funziona ora come previsto con **Modalità prezzo catalogo - Sito Web**. [GitHub-30132](https://github.com/magento/magento2/issues/30132)

<!-- AC-441-->

* Creazione di un nuovo programma di prezzi speciali con `POST /V1/products/special-price` l’endpoint funziona ora come previsto. In precedenza, l’endpoint restituiva questo errore: `Future Update already exists in this time range. Set a different range and try again`.

### Lista dei desideri

<!-- ACP2E-459-->

* L&#39;aggiornamento di una quantità articolo dalla pagina della lista dei desideri ora aggiorna la quantità nella pagina dei dettagli del prodotto come previsto. Adobe Commerce ora riceve il valore aggiornato dall’URL del prodotto e compila il `qty` campo della pagina dei dettagli del prodotto dalla lista dei desideri.

## Problemi noti

**Problema**: gli utenti Admin non possono creare un ordine o riordinare per i clienti dall’Admin quando la Braintree è abilitata. Quando l’utente amministratore fa clic su **Ordine** o **Riordina**, Adobe Commerce non invia l&#39;ordine e  `system.log` visualizza questo errore: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.  **Soluzione alternativa**:  `BUNDLE-3137-composer.patch` è ora disponibile. Consulta la [L&#39;amministratore non può creare un ordine o riordinarlo quando è abilitato il pagamento Braintree](https://support.magento.com/hc/en-us/articles/8322266352525) Articolo della Knowledge Base per una discussione su questo problema e per accedere alla patch. I commercianti di cloud devono scaricare le patch cloud per Commerce v1.0.18. Una correzione verrà inclusa anche in Adobe Commerce 2.4.5-p1. <!-- AC-6222-->

**Problema**: [!DNL RabbitMQ] gli elementi dell’infrastruttura (scambi, code) potrebbero non essere inizializzati dopo una nuova installazione (non aggiornamento) di Adobe Commerce 2.4.5. Questa configurazione non corretta di [!DNL RabbitMQ] può causare un errore irreversibile quando vengono eseguite operazioni asincrone o viene generato un profilo di prestazioni. Le distribuzioni cloud non sono interessate. **Soluzione alternativa**: i commercianti che eseguono una nuova installazione di Adobe Commerce 2.4.5 on-premise devono eseguire `bin/magento setup:upgrade --keep-generated` dopo l’utilizzo di `bin/magento setup:config:set` da configurare [!DNL RabbitMQ] o installare Adobe Commerce passando [!DNL RabbitMQ] opzioni di configurazione per `setup:install` comando. Consulta [[!DNL RabbitMQ]](../../../installation/prerequisites/rabbitmq.md).

## Contributi comunitari

Siamo grati alla comunità del Magento Open Source e desideriamo riconoscere il loro contributo a questa versione.

Il team di progettazione della community [Collaboratori Magento](https://magento.biterg.io/app/kibana) mantiene un elenco dei principali soggetti e partner contributori per mese, trimestre e anno. Dalla pagina Collaboratori, puoi seguire i collegamenti alle loro PR unite su GitHub.

### Contributi dei partner

Nella tabella seguente vengono evidenziati i contributi dei partner. Questa tabella elenca il Partner che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-5-partner.md}}

### Contributi dei singoli collaboratori

La tabella seguente identifica i contributi dei membri della community. Questa tabella elenca il membro della community che ha contribuito alla richiesta di pull, il numero della richiesta di pull esterna e il numero del problema GitHub associato (se disponibile).

{{$include /help/_includes/release-notes/engcomm-2-4-5-issues.md}}

## Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](../../../installation/system-requirements.md).

## Istruzioni di installazione e aggiornamento

È possibile installare Adobe Commerce 2.4.5 utilizzando [Compositore](../../../installation/composer.md).
