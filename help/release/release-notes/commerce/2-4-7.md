---
title: Note sulla versione di Adobe Commerce 2.4.7-beta2
description: Scopri nuove funzioni, miglioramenti, correzioni di bug e problemi noti nella versione 2.4.7-beta2 di Adobe Commerce.
badgeCoreBeta: label="2.4.7-beta" type="informative"
exl-id: 6ceb1d6d-5076-49a1-925f-913aa3598c90
source-git-commit: ceb986d155c6ed4d620f473fd8152a7484ff791e
workflow-type: tm+mt
source-wordcount: '13350'
ht-degree: 0%

---


# Note sulla versione di Adobe Commerce 2.4.7-beta2

>[!IMPORTANT]
>
>I rilasci beta possono contenere difetti e sono forniti &quot;COSÌ COME SONO&quot; senza alcuna garanzia di alcun tipo. Adobe non avrà alcun obbligo di mantenere, correggere, aggiornare, modificare, modificare o supportare in altro modo (tramite i servizi di supporto Adobe o in altro modo) le versioni beta. Si consiglia ai clienti di prestare cautela e di non fare affidamento in alcun modo sul corretto funzionamento o sulle prestazioni delle versioni beta e/o di qualsiasi documentazione o materiale di accompagnamento. Di conseguenza, qualsiasi utilizzo delle versioni beta è interamente a rischio del cliente.

Adobe Commerce 2.4.7-beta2 include oltre 200 correzioni e miglioramenti di qualità. Le dipendenze del Compositore core e le librerie di terze parti sono state aggiornate alle versioni più recenti disponibili.

Questa versione aumenta la copertura di GraphQL per gli attributi personalizzati e le cache del risolutore GraphQL. Introduce anche il supporto per i servizi FedEx e UPS aggiornati di recente.

{{bics}}

## Altre informazioni sulla versione

Anche se il codice per queste funzioni è incluso con le versioni del codice core di Adobe Commerce, molti di questi progetti (ad esempio, B2B, Page Builder e Progressive Web Application (PWA) Studio) vengono rilasciati in modo indipendente. Le correzioni di bug per questi progetti sono documentate nelle informazioni sulla versione specifiche per il progetto, disponibili nella documentazione di ciascun progetto.

## Adobe Commerce 2.4.7-beta2

Adobe Commerce 2.4.7-beta2 è stato testato sulle seguenti versioni dei componenti:

* Apache 2.4
* Compositore 2.5
* Elasticsearch 8.7
* MariaDB 10,6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 e 8.1
* PHPUnit 9.x
* RabbitMQ 3.11
* Redis 7.0
* Vernice 7.3

Il nostro stack tecnologico è basato su PHP e MySQL. Consulta [Requisiti di sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).


## Caratteristiche principali di Adobe Commerce 2.4.7

In questa versione, cerca le seguenti aree di rilievo.

### Miglioramenti di sicurezza

Adobe Commerce 2.4.7-beta2 introduce dieci correzioni di sicurezza e miglioramenti di sicurezza della piattaforma. Le versioni beta precedenti di Adobe Commerce 2.4.7 hanno introdotto 13 correzioni di sicurezza e miglioramenti di sicurezza della piattaforma.

Ad oggi non si sono verificati attacchi confermati relativi a questi problemi. Tuttavia, alcune vulnerabilità possono potenzialmente essere sfruttate per accedere alle informazioni dei clienti o assumere il controllo delle sessioni dell’amministratore. La maggior parte di questi problemi richiede che un utente malintenzionato ottenga prima l’accesso all’amministratore. Di conseguenza, ti ricordiamo di adottare tutte le misure necessarie per proteggere il tuo amministratore, incluse, ma non solo, queste iniziative:

* INSERIRE NELL&#39;ELENCO CONSENTITI IP
* [Autenticazione a due fattori](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Utilizzo di una VPN
* Utilizzo di una posizione univoca anziché `/admin`
* Buona igiene della password

Consulta [Bollettino sulla sicurezza degli Adobi](https://helpx.adobe.com/security/products/magento/apsb23-50.html) per le ultime discussioni su questi problemi risolti.

#### Ulteriori miglioramenti della sicurezza

Miglioramenti di sicurezza per questa versione migliorano la conformità alle più recenti best practice di sicurezza.

**Nuovo miglioramento della sicurezza per 2.4.7-beta2**

Questa versione introduce una nuova impostazione di configurazione della cache di pagina intera che consente di mitigare i rischi associati all&#39;azione `{BASE-URL}/page_cache/block/esi HTTP` endpoint. Questo endpoint supporta frammenti di contenuto senza restrizioni e caricati dinamicamente dagli handle di layout e dalle strutture di blocchi di Commerce. Il nuovo **[!UICONTROL Handles Param]** L&#39;impostazione di configurazione imposta il valore dell&#39;endpoint `handles` , che determina il numero massimo consentito di handle per API. Il valore predefinito di questa proprietà è 100. Gli esercenti possono modificare questo valore da Admin ( **[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL System]** > **[!UICONTROL Full Page Cache]** > **[!UICONTROL Handles Param]** ). Consulta [Configurare l’applicazione Commerce per l’utilizzo di vernice](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/configure-varnish-commerce.html). <!-- AC-9113 -->

**Elementi di rilievo sulla sicurezza introdotti nella versione 2.4.7-beta1**

* **Limitazione della tariffa nativa per le informazioni di pagamento trasmesse tramite API REST e GraphQL**. I commercianti possono ora configurare la limitazione della tariffa per le informazioni di pagamento trasmesse utilizzando REST e GraphQL. Questo livello di protezione aggiuntivo supporta la prevenzione degli attacchi di carte di credito e potenzialmente riduce il volume di attacchi di carte di credito che testano molti numeri di carta di credito contemporaneamente. Si tratta di una modifica del comportamento predefinito di un endpoint REST esistente. Consulta [Limitazione di velocità](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/).

* Il comportamento predefinito del [isEmailAvailable](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) query GraphQL e ([V1/customers/isEmailAvailable](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)a) L&#39;endpoint REST è stato modificato. Per impostazione predefinita, l’API ora restituisce sempre true. I commercianti possono abilitare il comportamento originale, che consiste nel `true` se l’e-mail non esiste nel database e `false` se esiste.

### Miglioramenti alla piattaforma

Gli aggiornamenti della piattaforma per questa versione migliorano la conformità alle best practice di sicurezza più recenti.

**Nuovi miglioramenti della piattaforma per la versione 2.4.7-beta2**

I seguenti componenti della piattaforma sono stati aggiornati alle loro versioni più recenti per la versione 2.4.7-beta2:

* `allure-framework/allure-phpunit`  <!-- AC-8063 -->
* `colinmollenhour/cache-backend-file`  (1.4.5)  <!-- AC-8064 -->
* `colinmollenhour/cache-backend-redis` (1.16.0) <!-- AC-8065 -->
* `colinmollenhour/php-redis-session-abstract`  (1.5.1)  <!-- AC-8066 -->
* `dealerdirect/phpcodesniffer-composer-installer` (1.0.0) <!-- AC-8067 -->
* `jquery.ui.widget.js` (v1.13.2)  <!-- AC-9173 -->
* `squizlabs/php_codesniffer` <!-- AC-8070 -->
* `strip-json-comments library` <!-- AC-2783 -->
* `grunt` dipendenza <!-- AC-8097 -->
* `less js` libreria <!-- AC-8098 -->
* `underscore.js` libreria <!-- AC-8099 -->
* `jquery/bootstrap` dipendenza <!-- AC-9154 -->

Pacchetti NPM

* `grunt` (1.6.1) <!-- AC-8072 -->
* `grunt-contrib-clean` (2.0.1) <!-- AC-8073 -->
* `grunt-contrib-less` (3.0.0) <!-- AC-8074 -->
* `grunt-eslint`  (24.0.1) <!-- AC-8075 -->

Dipendenze composizione:

* `friendsofphp/php-cs-fixer` (3.22.0) <!-- AC-8087 -->
* `jquery/jstree` dipendenza <!-- AC-9131 -->
* `jquery` dipendenza <!-- AC-9132 -->
* `jquery/tinycolor` <!-- AC-9133 -->
* `laminas` pacchetti di dipendenze <!-- AC-8088 -->
* `magento/composer-dependency-version-audit-plugin` (0.1.5) <!-- AC-8087 -->
* `moment-timezone-with-data.js` <!-- AC-9130 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `php-amqplib/php-amqplib` (3.5.4) <!-- AC-8087 -->
* `phpseclib/mcrypt_compat` (2.0.4) <!-- AC-8087 -->
* `symfony` pacchetti di dipendenze  <!-- AC-8093 -->

**Miglioramenti della piattaforma introdotti nella versione 2.4.7-beta1**

* Compositore 2.5.x. La compatibilità con Composer 2.2.x rimane.

* **Supporto per la cache di vernice 7.3**. Questa versione è compatibile con la versione più recente di Varnish Cache 7.3. La compatibilità rimane con le versioni 6.0.x e 7.2.x, ma si consiglia di utilizzare Adobe Commerce 2.4.7-beta2 solo con Vernice Cache versione 7.3 o 6.0 LTS.

* **Supporto di RabbitMQ 3.11**. Questa versione è compatibile con l’ultima versione di RabbitMQ 3.11. La compatibilità rimane con RabbitMQ 3.9, che è supportato fino ad agosto 2023, ma è consigliabile utilizzare Adobe Commerce 2.4.7-beta2 solo con RabbitMQ 3.11.

#### Altri aggiornamenti e sostituzioni

Adobe Commerce 2.4.7-beta2 introduce i seguenti aggiornamenti della piattaforma:

* Il gateway API XML di Commerce UPS è stato migrato alla nuova API REST di Commerce UPS per supportare gli aggiornamenti che UPS sta apportando alle [Modello di sicurezza API](https://developer.ups.com/oauth-developer-guide?loc=en_US&amp;sp_rid=NTA5MzQ1OTE2NjEyS0&amp;sp_mid=72989914). (UPS sta implementando un modello di sicurezza OAuth 2.0 (token bearer) per tutte le API.)  Tutte le API XML di Commerce UPS precedenti sono state rimosse dalla base di codice di Adobe Commerce 2.4.7. <!-- AC-8918 -->

* L’integrazione di Adobe Commerce con FedEx è stata migrata dai servizi Web WSDL FedEx legacy alle più recenti API RESTful FedEx. WSDLS di tracciamento dei servizi web FedEx, convalida degli indirizzi e convalida dei codici postali verrà ritirato a maggio 2024. <!-- AC-1470 -->

* È stato aggiunto il supporto per il nuovo metodo di spedizione USPS Ground Advantage. Si tratta di un’integrazione standard con il nuovo metodo di spedizione di USPS, USPS Ground Advantage, rilasciato a luglio 2023.

  Questa nuova integrazione può essere utilizzata per recuperare le tariffe di spedizione e pianificare consegne e restituzioni tramite il servizio di spedizione USPS. Il metodo di spedizione USPS Ground Advantage sostituisce questi metodi di spedizione, che sono stati ritirati quando è stato rilasciato il metodo di spedizione USPS Ground Advantage:

   * USPS Retail Ground
   * Servizio pacchetti di prima classe
   * Seleziona terreno pacchetto <!-- AC-9182 -->

* I moduli di spedizione Temando sono stati rimossi dalla base di codice Commerce principale. Questa funzione è stata rimossa in Adobe Commerce 2.4.4. <!-- AC-8130 -->

**Aggiornamenti della libreria introdotti nella versione 2.4.7-beta1**

Le librerie JavaScript obsolete sono state aggiornate alle versioni più recenti, tra cui:

* `moment.js` libreria (v2.29.4)
* `jQuery UI` libreria (v1.13.2)
* `jQuery` libreria del plug-in di convalida (v1.19.5)

### Miglioramenti a livello di prestazioni e scalabilità

Questa versione introduce miglioramenti significativi nella velocità di elaborazione delle operazioni di salvataggio per le configurazioni di distribuzione di grandi dimensioni.

**Nuovi miglioramenti per la versione 2.4.7-beta2**

* **Formato JSON ora supportato per il REST [Importa API](https://developer.adobe.com/commerce/webapi/rest/modules/import/)**. Gli esercenti possono ora importare fino a 100.000 record al minuto in Adobe Commerce in formato JSON. <!-- ACPT-943 -->

* **Miglioramenti delle prestazioni delle regole di vendita**. Sono state migliorate le prestazioni delle implementazioni aziendali con molte regole di vendita attive (circa 100.000).  Le distribuzioni aziendali che implementano in modo significativo le promozioni spesso implementano molte regole attive del carrello. Per questi tipi di distribuzioni Enterprise in cui viene eseguito Commerce 2.4.7 non si verifica alcun peggioramento delle prestazioni correlato al numero di regole del prezzo del carrello configurate durante le operazioni di pagamento. <!-- ACPT-1198 -->

**Miglioramenti delle prestazioni introdotti nella versione 2.4.7-beta1**

Sono stati introdotti i precedenti beta di Adobe Commerce 2.4.7:

* **Operazioni di salvataggio più rapide delle configurazioni a livello di archivio per le distribuzioni con molti archivi**. Il salvataggio delle impostazioni di configurazione nelle distribuzioni con più di 500 archivi può richiedere molto tempo. Il nuovo [Configurazione asincrona](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html?lang=en#asynchronous-configuration-save-2.4.7-beta1) Il modulo abilita le operazioni di salvataggio della configurazione asincrona eseguendo un processo cron che utilizza un consumer per elaborare l&#39;operazione di salvataggio in una coda di messaggi. AsyncConfig è disabilitato per impostazione predefinita.

* **Generazione più rapida della cache di configurazione per configurazioni di grandi dimensioni**. Il `bin/magento cache:clean config` Il comando ora esegue il preriscaldamento della cache di configurazione quando questa è abilitata. Questo riduce il tempo di inattività necessario per generare la cache di configurazione per le configurazioni di grandi dimensioni. Le operazioni di salvataggio della configurazione non puliscono più `config_scopes` cache prima di scrivere i dati nella cache, riducendo anche il tempo di blocco di altre richieste durante la scrittura dei dati di configurazione.

### API di Application Server per GraphQL

Commerce 2.4.7-beta2 introduce un nuovo Application Server PHP per le API GraphQL implementato su un framework PHP Openswoole. Questo server applicazioni consente ad Adobe Commerce di mantenere lo stato tra le richieste API di Commerce GraphQL ed elimina la necessità di avviare il sistema, con conseguente aumento della velocità effettiva, riduzione della latenza e utilizzo efficiente delle risorse per tutte le API di GraphQL. Condividendo lo stato dell’applicazione tra i processi, le richieste API di GraphQL diventano notevolmente più efficienti e le risposte API di GraphQL sono in media più veloci del 30%.

Il `ApplicationServer` implementa il server applicazioni PHP. Gli sviluppatori che desiderano implementare questo modulo nelle implementazioni locali devono installare e configurare anche Swoole e Nginx. Gli sviluppatori che lavorano con Adobe Commerce su progetti di infrastruttura cloud non devono scaricare questi componenti perché l’infrastruttura include già Nginx e OpenSwoole. Gli sviluppatori cloud devono abilitare manualmente il server applicazioni e non possono avviare o arrestare il modulo come altri servizi. Adobe Commerce deve essere ridistribuito per avviare o arrestare il modulo, il che richiede tempi di inattività del sito.

Consulta [API di Application Server per GraphQL](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/performance-best-practices/application-server.html) sia per le distribuzioni locali che per quelle cloud.

Versione beta del modulo API di PHP Application Server for GraphQL. Le distribuzioni che includono personalizzazioni ed estensioni potrebbero non essere compatibili con il modulo. I commercianti che abilitano il modulo devono essere preparati a risolvere le potenziali incompatibilità con le personalizzazioni e le estensioni implementate. <!-- ACPT-27 -->

### Metapacchetto dell’estensione Adobe Commerce

Questa versione introduce il metapackage di estensione Adobe Commerce v2.0.0-beta2, che raggruppa automaticamente con questa versione di base alcune estensioni Adobe Commerce. Le versioni di queste estensioni incluse in questo metapackage vengono installate quando `composer update` viene eseguito, semplificando il processo di aggiornamento di queste estensioni quando si esegue l’aggiornamento alla versione di base più recente. Queste estensioni gestiscono pianificazioni di rilascio indipendenti.

Il metapacchetto dell’estensione Adobe Commerce per Adobe Commerce 2.4.7-beta2 include le seguenti estensioni:

* [Eventi di Adobe I/O per Adobe Commerce](https://developer.adobe.com/commerce/extensibility/events/)
* [Servizi di pagamento](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)
* [SDK dell’interfaccia di amministrazione di Adobe Commerce](https://developer.adobe.com/commerce/extensibility/admin-ui-sdk/)

L’estensione Bolt checkout, inclusa in Commerce 2.4.7-beta1, è stata rimossa da questa versione beta.

Le versioni future di questo metapacchetto di estensione possono contenere estensioni aggiuntive.

### B2B

Questa versione include B2B 1.4.2. Contiene solo correzioni di bug, anche se la versione dell’Application Server PHP fornita con Adobe Commerce 2.4.6-beta2 introduce la copertura per le API GraphQL B2B.

**Miglioramenti B2B introdotti nella versione 2.4.7-beta1**

Adobe Commerce 2.4.7-beta1 include nuove funzionalità e miglioramenti per i preventivi negoziabili B2B, aggiornamenti REST API e diverse correzioni di bug.

* **Offerte avviate dal venditore**. I rappresentanti commerciali B2B possono ora avviare un preventivo direttamente dalle griglie Preventivo e Cliente nell&#39;Admin. Consulta [Richiesta di offerta](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-request.html)

* **Sconti riga**. Gli sconti possono ora essere applicati come percentuale di sconto, valore fisso o come prezzo esteso per specifiche voci all&#39;interno di un preventivo.

* **Scambio di note nel preventivo**. Durante il processo di negoziazione, gli acquirenti e i venditori B2B possono ora aggiungere note direttamente a un preventivo. La creazione e gli aggiornamenti delle note sono inclusi nella cronologia degli elementi riga e preventivo per la trasparenza. Consulta [Negoziazione di un preventivo](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-price-negotiation.html).

* **Visualizzazione dettagli preventivo migliorata**. Durante la visualizzazione della pagina dei dettagli del preventivo, venditori e acquirenti possono ora aggiungere articoli per SKU o dal catalogo dei prodotti, aggiungere o modificare note, applicare sconti sulle voci e accedere alla configurazione del prodotto direttamente dalla pagina dei dettagli del preventivo.

* Aggiornamenti a REST e GraphQL

   * È stato aggiunto un endpoint per fornire la copertura API web per la funzionalità di offerta avviata dal venditore e introdotta in questa versione. Consulta [Gestisci offerte negoziabili](https://developer.adobe.com/commerce/webapi/rest/b2b/negotiable-manage/): `POST /V1/negotiableQuote/draft`.

   * La copertura API web migliorata delle funzioni vetrina per il catalogo condiviso include nuovi endpoint per l’assegnazione e la reimpostazione di azioni di prezzo personalizzate: `POST /V1/sharedCatalog/:sharedCatalogId/assignTierPrices` e `POST /V1/sharedCatalog/:sharedCatalogId/resetTierPrices`.

Per informazioni dettagliate sulla copertura API REST e GraphQL per Commerce B2B, consulta [API Web Commerce](https://developer.adobe.com/commerce/webapi/) documentazione per gli sviluppatori. Consulta [Note sulla versione B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html) per le descrizioni delle correzioni di bug.

### GraphQL

**Nuovi miglioramenti di GraphQL per la versione 2.4.7-beta2**

Questa versione introduce il supporto per il caching del risolutore ed espande il supporto per il caching degli attributi cliente personalizzati.

* I seguenti risolutori di query GraphQL sono ora memorizzabili nella cache dei risultati del resolver GraphQL, il che migliora le prestazioni quando le query vengono inviate con le richieste POST:

   * `Magento\CustomerGraphQl\Model\Resolver\Customer::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\CustomerAddress::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\IsSubscribed::resolve` <!-- B2B-2658 -->
   * `Magento\CatalogGraphQl\Model\Resolver\Product\MediaGallery::resolve` <!-- B2B-2677 -->

* È stato aggiunto il supporto GraphQL per l’annullamento di ordini. Il `cancelOrder` la mutazione consente al cliente di annullare un ordine, trasmettendo il suo identificatore e un motivo di annullamento. <!-- LYNX-197 -->

* È stata aggiunta la `order_cancellation_enabled` e `order_cancellation_reasons.description` campi di risposta a `storeConfig`
query per supportare le richieste di annullamento degli ordini avviate dall&#39;utente. Consulta [Eseguire una query sulla configurazione dell&#39;annullamento dell&#39;ordine di un archivio](https://developer-stage.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/#query-a-stores-order-cancellation-configuration)

* Sono stati aggiunti i seguenti campi alla sezione `setBillingAddressOnCart` e `setShippingAddressesOnCart` mutazioni:

   * `fax`
   * `middlename`
   * `prefix`
   * `suffix`

**Miglioramenti GraphQL introdotti nella versione 2.4.7-beta1**

Questa versione offre funzionalità avanzate di caching di GraphQL e supporto allo schema GraphQL per gli attributi personalizzati, tra cui:

* **Supporto migliorato per attributi personalizzati**. Il supporto degli attributi personalizzati di GraphQL è stato migliorato arricchendo i dati API per supportare tutti i tipi di attributi. Lo schema degli attributi EAV di GraphQL ora supporta l’estensione degli attributi del cliente e degli oggetti dell’indirizzo del cliente nell’Admin e il loro recupero tramite GraphQL. Le aree specifiche di miglioramento includono: <!-- LYNX-61 110-->

   * estensione/aggiunta del supporto di attributi personalizzati ad aree specifiche come l’indirizzo del cliente
   * aggiunta della cache per gli attributi personalizzati
   * supporto migliorato degli attributi personalizzati esistenti per i prodotti

* **Le funzionalità avanzate di caching di GraphQL migliorano la velocità di caricamento delle pagine**. È stata aggiunta la funzionalità di memorizzazione in cache a queste query, che migliora la velocità di caricamento delle pagine per la maggior parte delle pagine PWA:

      * [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/)
      * [paesi](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) e [paese](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/)
      * [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/)
      * [valuta](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/)
      * [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata)
  
* È stata aggiunta la `quickorder_active` campo al [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) e [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) query. Questo campo indica se la funzione di ordine rapido è abilitata.


* Le prestazioni del parser GraphQL sono migliorate riducendo il numero di volte in cui il metodo di analisi viene chiamato per richiesta. Ora si chiama una volta. In precedenza, il parser veniva chiamato almeno tre volte.

#### Nuove query

* [attributeForms](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-form/) <!-- LYNX-151 -->
* [attributesList](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-list/)<!-- LYNX-150 -->
* [cancelOrder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) <!-- LYNX-172 -->
* [customAttributeMetadataV2](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/)

#### Query obsolete

* [attributesMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/)
* [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Pagamenti

Questa versione introduce il supporto per i pagamenti in Vault per i seguenti metodi di pagamento:

* ApplePay  <!-- BUNDLE-3246 -->
* GooglePay  <!-- BUNDLE-3270 -->
* Credito PayPal  <!-- BUNDLE-3272 -->

Questa versione include anche il supporto per i seguenti metodi di pagamento:

* Pagamenti con carta UnionPay con carta Braintree <!-- BUNDLE-3268 -->
* GooglePay con pagamento 3D Secure <!-- BUNDLE-3271 -->

### Page Builder

Page Builder v.1.7.4 è compatibile con Adobe Commerce 2.4.7-beta2.

### PWA Studi

PWA Studi v.13.3.x è compatibile con Adobe Commerce 2.4.7-beta2. Include diversi miglioramenti per migliorare l’accessibilità. Per informazioni sulle correzioni di bug, consulta [Versioni di PWA Studi](https://github.com/magento/pwa-studio/releases). Consulta [Compatibilità delle versioni](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) per un elenco delle versioni di PWA Studi e delle relative versioni di base compatibili di Adobe Commerce.

## Problemi risolti

Sono stati risolti centinaia di problemi relativi al codice core di Adobe Commerce 2.4.7-beta2. Di seguito è descritto un sottoinsieme dei problemi risolti inclusi in questa versione. Sono descritte anche le correzioni incluse in Commerce 2.4.7-beta1.

### Installazione, aggiornamento, distribuzione

<!-- ACP2E-2198 -->

* `/bin/magento setup:install` ora viene completato correttamente dopo `app/etc/config.php` è stato eliminato. In precedenza, il file mancante non veniva rigenerato durante l’installazione e Commerce generava un errore. [GitHub-37805](https://github.com/magento/magento2/issues/37805)


<!-- AC-8381 -->

* `bin/magento setup:upgrade` è stato eseguito correttamente durante l’installazione di un nuovo modulo che installa sia le tabelle che i moduli associati `mview` indici. [GitHub-37304](https://github.com/magento/magento2/issues/37304)

<!-- ACP2E-1882 -->

* Il ripristino del database non ha più esito negativo a causa di un errore del delimitatore. In precedenza, Commerce generava questo errore quando `bin/magento setup: rollback --db` è stato eseguito: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1505 -->

* Il `bin/magento setup:upgrade` Il comando non ha più esito negativo con questo tipo di errore relativo al limite di memoria MySQL: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. La migrazione di attributi a selezione multipla è stata ottimizzata per consumare meno memoria durante `setup:upgrade`.

<!-- ACP2E-1751 -->

* La generazione di un backup del database ora funziona come previsto sia dalla riga di comando Admin che da quella. In precedenza, Adobe Commerce generava questo errore: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* In esecuzione `setup:config:set` senza specificare `--lock-db-prefix` Il parametro non cancella più il valore corrente dal `env.php` file.

<!-- ACP2E-1498 -->

* La configurazione della vernice è stata aggiornata per impedire agli utenti guest di accedere ai contenuti memorizzati nella cache relativi ad altri gruppi di clienti.

<!-- AC-7113 -->

* Ora gli acquirenti possono effettuare un ordine in una distribuzione che implementa la suddivisione del database quando **[!UICONTROL Checkout Async]** è abilitato. In precedenza, Adobe Commerce generava questo errore: `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` ora viene completato correttamente durante l’installazione di un nuovo modulo che installa sia le tabelle che i moduli associati `mview` indici.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` ora visualizza un messaggio di errore più informativo quando un argomento della coda di messaggi non include un nome di argomento. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` ora visualizza un messaggio di errore più informativo quando i file XML uniti non sono validi. Il messaggio di errore ora include il nome del file.

### Analytics

<!-- AC-9275 -->

* I rapporti sulle entrate vengono ora visualizzati come previsto nel portale Google Analytics (GA4). [GitHub-37605](https://github.com/magento/magento2/issues/37605)

<!-- ACP2E-1880 -->

* `price` e `quantity` i valori nel livello dati di Google Tag Manager vengono ora inviati come valori numerici come previsto dalle Google Analytics. In precedenza, questi valori venivano inviati come stringhe.

<!-- ACP2E-2030 -->

* Sono stati risolti gli errori nella gestione dei dati di intestazione durante l’invio dei dati di distribuzione al modulo New Relic.

<!-- ACP2E-1833 -->

* Abilitazione di Google Tag Manager tramite **[!UICONTROL Configuration]** > **[!UICONTROL Sales]** > **[!UICONTROL Google API]** > **[!UICONTROL Google Analytics]** ora attiva i tag GA Analytics 3 che non verranno attivati nella pagina dei dettagli del prodotto quando si eseguono gli strumenti per sviluppatori di estensioni Google Chrome.

### Banner

<!-- ACP2E-1818 -->

* È stato eseguito il refactoring del modo in cui il contenuto del banner viene caricato per rimuovere query eccessive nel database, con conseguente miglioramento dei tempi di caricamento del carrello.

### Prodotti bundle

<!-- ACP2E-1650 -->

* È stato corretto un errore che si verificava quando si utilizzava `POST V1/shipment` endpoint per creare una spedizione contenente un prodotto bundle. L’endpoint ora aggiunge gli elementi come previsto e non restituisce più questo errore: `The shipment couldn't be saved`.

<!-- ACP2E-1926 -->

* Ora puoi salvare un aggiornamento pianificato di un prodotto bundle che include un prodotto semplice con un aggiornamento pianificato indefinito. Quando viene creata l’istantanea del prodotto del bundle, i prodotti collegati vengono ora acquisiti per ID, ID entità e anche per SKU. In precedenza, la versione originale del prodotto semplice veniva controllata al momento del salvataggio dell’aggiornamento pianificato sul prodotto bundle, invece della versione corrente del prodotto semplice.

<!-- ACP2E-1650 -->

* Ora puoi utilizzare la `GET V1/shipment/` Route API per creare una spedizione con un prodotto bundle quando il prodotto ha **[!UICONTROL together]** serie di tipi di spedizione. Anche i prodotti bundle vengono ora convalidati in base alla proprietà del tipo di spedizione.

<!-- ACP2E-2038 -->

* Gli acquirenti possono ora modificare la quantità di un prodotto nel carrello. In precedenza, Adobe Commerce non gestiva valori Null per `ItemId` quando i prodotti sono stati modificati nel carrello della vetrina e viene visualizzato questo errore: [GitHub-37696](https://github.com/magento/magento2/issues/37696)

<!-- ACP2E-1801 -->

* I prodotti bundle possono ora essere aggiunti correttamente a un ordine amministratore utilizzando SKU che contengono una barra (`/`). In precedenza, gli utenti amministratori non potevano utilizzare questo metodo per aggiungere prodotti a un ordine amministratore e Commerce generava un errore JavaScript.

<!-- ACP2E-1799 -->

* Gli utenti amministratori possono ora impostare valori predefiniti decimali per le nuove opzioni del bundle aggiunte quando **[!UICONTROL Qty Uses Decimal]** è abilitato per il prodotto semplice corrispondente. In precedenza, i valori decimali potevano essere impostati solo per le selezioni salvate.

<!-- ACP2E-1347 -->

* Prestazioni ottimizzate per il salvataggio di prodotti bundle con un numero elevato di opzioni

<!-- ACP2E-1478 -->

* I prodotti bundle ora vengono importati correttamente senza duplicare le SKU nelle opzioni del prodotto. In precedenza, Adobe Commerce creava più SKU duplicate nelle opzioni del prodotto quando importavi i prodotti bundle con voci duplicate.

<!-- ACP2E-1388 -->

* Il prezzo del prodotto del bundle ora viene calcolato correttamente quando uno dei prodotti nel bundle è esaurito. In precedenza, se un prodotto che faceva parte del bundle era esaurito, veniva rimosso dal calcolo del prezzo.

<!-- ACP2E-1503 -->

* I prodotti in bundle vengono ora visualizzati come esauriti al momento dell’acquisto dell’ultimo dei prodotti secondari richiesti. In precedenza, i prodotti in bundle venivano visualizzati come in magazzino sul negozio quando i loro prodotti semplici erano esauriti.

<!-- ACP2E-1443 -->

* Problemi di prestazioni durante l’aggiunta di prodotti bundle con opzioni non richieste al carrello utilizzando `addBundleProductsToCart` mutazione sono state risolte.

<!-- ACP2E-1264 -->

* Il `categoryList` query ora restituisce tutte le opzioni del bundle come previsto quando **[!UICONTROL Show out-of-stock products]** l&#39;impostazione di configurazione è attivata. In precedenza, le opzioni esaurite non venivano incluse nella risposta alla query.

<!-- ACP2E-1345 -->

* Prodotti bundle creati con `POST V1/products` operazione riuscita quando l&#39;ambito del prezzo del catalogo è impostato su `website`. In precedenza, si verificava una violazione del vincolo di integrità. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Cache

<!-- ACP2E-2070 -->

* Dopo l’accesso, i cookie della cache sono ora gli stessi dopo la navigazione nel sito web. In precedenza, il controller di accesso inviava il cookie di cache errato e le pagine potevano essere state memorizzate nella cache più volte.

<!-- ACP2E-1840 -->

* Le risposte dalle operazioni di GraphQL GET sulle pagine CMS che contengono blocchi CMS ora vengono cancellate come previsto nella cache Fastly. I successivi aggiornamenti della pianificazione ora mostrano contenuti accurati e aggiornati per queste pagine.

<!-- ACP2E-1524 -->

* La cache delle pagine viene ora cancellata come previsto per un prodotto principale quando uno dei suoi prodotti secondari è stato salvato dall’amministratore. È stato introdotto un controllo del plug-in per raggiungere l’invalidazione della cache per le varianti configurabili, simile ad altri tipi di prodotto, indipendentemente dallo stato dell’indicizzatore (pianificato o in tempo reale). In precedenza, i prezzi non venivano aggiornati correttamente sullo storefront dopo l’aggiornamento di una variante configurabile da parte dell’amministratore.

<!-- ACP2E-1454 -->

* È stato aggiunto un meccanismo di caching per le credenziali di AWS. Un provider di credenziali ora utilizza la cache del Magento per memorizzare nella cache le credenziali recuperate da AWS per la configurazione EC2.

<!-- AC-7639 -->

* Il plug-in il cui scopo è quello di aggiungere il tag della cache configurabile quando viene salvato un prodotto semplice associato a un prodotto configurabile ora funziona come previsto. Tutti i tag della cache configurabili rilevanti vengono rimossi come previsto quando un prodotto semplice viene aggiornato da `POST V1/products`. In precedenza, non tutti i prezzi venivano aggiornati nella vetrina e le cache dovevano essere cancellate manualmente. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Carrello e pagamento

<!-- AC-9340 -->

* La spedizione di un ordine a più indirizzi non attiva più un errore durante l’elaborazione dell’ID di regione.

<!-- AC-8853 -->

* Gli importi degli sconti fissi applicati a livello di carrello ora sono corretti.[GitHub-37496](https://github.com/magento/magento2/issues/37496)

<!-- AC-2044 -->

* I coupon vengono ora applicati correttamente a un ordine quando un acquirente applica il coupon dopo aver selezionato il metodo di spedizione a tariffa fissa in cui si applica una regola di prezzo del carrello con il metodo di spedizione impostato come condizione. In precedenza, nella pagina del carrello veniva visualizzato l’errore Coupon is Not valid (Il coupon non è valido) e il coupon non veniva applicato. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-8596 -->

* Il **[!UICONTROL My billing and shipping address are the same]** La casella di controllo ora rimane selezionata per impostazione predefinita quando un acquirente utilizza il completamento automatico di Chrome per inserire il proprio indirizzo di spedizione e quindi fa clic su **Successivo** prima che il blocco dei metodi di spedizione venga ricaricato. [GitHub-33725](https://github.com/magento/magento2/issues/33725)

<!-- ACP2E-2005 -->

* Il `applied_rule_ids` valore in `quote_item` la tabella ora include un elenco corretto degli ID regola applicati. In precedenza, questo valore conteneva solo l’ultimo ID regola applicato.

<!-- ACP2E-2025 -->

* I dati del mini-carrello e dei clienti nell’archiviazione locale ora vengono ripristinati quando una sessione viene rimossa dal server. In precedenza, questi dati venivano ancora visualizzati quando il file di sessione veniva rimosso.

<!-- ACP2E-1763 -->

* I carrelli discreti non vengono più uniti erroneamente dall’amministratore quando il carrello persistente è abilitato.

<!-- ACP2E-1988 -->

* L&#39;indirizzo di spedizione predefinito nella fase di pagamento non viene più compilato con l&#39;indirizzo del punto vendita selezionato in precedenza.

<!-- ACP2E-1614 -->

* I prodotti nel carrello non vengono più esclusi dagli elenchi di prodotti correlati e di upselling dopo lo scaricamento della cache.

<!-- ACP2E-1580 -->

* Il calcolatore delle imposte sul carrello e della spedizione ora riflette con precisione la configurazione di destinazione predefinita. In precedenza, quando configuravi le impostazioni predefinite di calcolo della destinazione fiscale e specificavi Stato/Area geografica e CAP, nel carrello veniva visualizzato solo il valore ZIP **[!UICONTROL Estimate Tax and Shipping]**. Ciò si verificava impostando Adobe Commerce su undefined l’ID di regione prima di richiamare l’istruzione condizionale che impostava l’ID di regione predefinito dall’amministratore.

<!-- ACP2E-1547 -->

* Adobe Commerce non genera più questo errore durante l’estrazione quando il carrello acquisti persistente è abilitato: `Invalid state change requested`. In precedenza, quando veniva generato questo errore, venivano emessi più ordini con lo stesso `quote_id` sono stati creati occasionalmente.

<!-- ACP2E-1456 -->

* Il mini carrello ora visualizza i prezzi dei prodotti del bundle che riflettono le impostazioni di configurazione dell’imposta del carrello. In precedenza, il mini carrello includeva sempre le imposte nei prezzi dei prodotti bundle.

<!-- ACP2E-1414 -->

* Sono state migliorate le prestazioni delle regole del segmento di cliente che si basano su carrelli attivi, riducendo il tempo necessario per aggiungere un prodotto al carrello.

<!-- AC-7503 -->

* La stima della spedizione fornita dalla pagina del carrello è ora accurata. `collectShippingRates` è ora impostato una sola volta. In precedenza, la stima della spedizione veniva duplicata. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* Il `cart` query non restituisce più un errore quando un prodotto nel carrello specificato è esaurito. In precedenza, gli acquirenti che utilizzavano questa query per effettuare un acquisto non potevano completare l’acquisto quando un articolo era esaurito e la pagina di pagamento era vuota.

<!-- ACP2E-1459 -->

* Richieste API guest a `POST V1/guest-carts/<cartId>/shipping-information` non restituisce più un `cancel` stato se la pagina viene ricaricata durante l’accesso in un ambiente mobile. In precedenza, Adobe Commerce generava un errore 500 e registrava questa eccezione: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* L&#39;idoneità per la spedizione gratuita viene ora calcolata come previsto quando **[!UICONTROL Subtotal (Excl. Tax)]** viene applicata la condizione per le regole del carrello. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* Il `cart` query ora restituisce il prezzo di livello corretto per un prodotto. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* Sono stati aggiunti messaggi di errore informativi alla pagina di pagamento per guidare gli acquirenti quando l’applicazione di un coupon sulla pagina di spedizione è in conflitto con il metodo di spedizione selezionato. In precedenza, un messaggio indicava agli acquirenti di tornare alla pagina precedente.

<!-- ENGCOM-8387 -->

* Il popup di autenticazione ora viene inizializzato solo quando è necessario invece che ogni volta che viene abilitato il check-out guest. Ora viene inizializzato quando l&#39;acquirente guest tenta di procedere all&#39;estrazione e l&#39;estrazione guest è disabilitata. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Regola prezzo carrello

<!-- ACP2E-2029 -->

* Il `If an item is FOUND/NOT FOUND in the cart with ALL/ANY of these conditions true` la condizione della regola prezzo catalogo ora funziona correttamente con gli attributi categoria e SKU. In precedenza, questa condizione non veniva applicata correttamente nella logica dei coupon di prezzo del carrello e agli ordini venivano applicati coupon non validi. [GitHub-37660](https://github.com/magento/magento2/issues/37660)

<!-- ACP2E-1932 -->

* Ora puoi salvare correttamente una nuova regola di prezzo del carrello con il `Magento_OfflineShipping` estensione disabilitata. In precedenza, Adobe Commerce generava questo errore: `[2023-05-09T00:49:34.666107+00:00] report.ERROR: Warning: Undefined array key "simple_free_shipping" in /Users/npuchko/www/l3/mem/magento24i3/app/code/Magento/SalesRule/Controller/Adminhtml/Promo/Quote/Save.php on line 67 [] []`. [GitHub-37580](https://github.com/magento/magento2/issues/37580)

<!-- ACP2E-1516 -->

* Le regole di prezzo del carrello vengono ora applicate come previsto quando per il negozio viene configurata una regola di prezzo del carrello correlata a un metodo di spedizione e questo metodo viene modificato in un altro durante il check-out. Precedentemente, il `applied_rule_ids` il valore non è mai stato modificato in `sales_order_item` e la regola del prezzo del carrello non è stata applicata all’ordine.

### Catalogo

<!-- ACP2E-2043 -->

* Quando lo stato del magazzino del prodotto viene aggiornato automaticamente a esaurito in base alla configurazione del magazzino (quantità), lo stato del magazzino viene successivamente aggiornato a esaurito quando la quantità del magazzino viene aggiornata. Precedentemente, il `stock_status_changed_auto` l&#39;impostazione è stata ignorata quando la configurazione stock di un prodotto è stata aggiornata a stock.

<!-- AC-8904 -->

* L’ordinamento delle barre degli strumenti ora funziona come previsto nelle pagine di ricerca quando **[!UICONTROL Remember Category Pagination]** è attivata. [GitHub-33220](https://github.com/magento/magento2/issues/33220)

<!-- ACP2E-1640 -->

* Gli attributi a selezione multipla ora vengono salvati come previsto quando **[!UICONTROL Use Default Value]** è selezionata la casella di controllo nell&#39;ambito della visualizzazione archivio. In precedenza, questa casella di controllo era deselezionata quando il prodotto veniva modificato e il valore predefinito veniva salvato.

<!-- ACP2E-1878 -->

* Gli utenti amministratori con accesso limitato al sito web possono ora aggiungere immagini a un prodotto che rientra nel loro ambito di applicazione. Se l’utente amministratore non dispone dei diritti di accesso al prodotto, in Commerce viene visualizzato un messaggio informativo. In precedenza, gli utenti amministratori con accesso limitato al sito web non potevano aggiungere immagini ai prodotti a cui avevano accesso.

<!-- ACP2E-1956 -->

* Definito dall&#39;utente `special_from_date`, `special_to_date`, `news_from_date`, e `news_to_date` I valori non vengono ignorati quando un prodotto viene modificato nell’ambito della visualizzazione archivio.

<!-- AC-6761 -->

* Commerce ora visualizza il nome corretto dopo aver ordinato i prodotti per nome in Admin > **[!UICONTROL Category]** > **[!UICONTROL Products in category]** in implementazioni multistore in cui i nomi dei prodotti variano a seconda dello store. [GitHub-36208](https://github.com/magento/magento2/issues/36208)

<!-- ACP2E-1975 -->

* Il `addProductsToCart` la mutazione ora restituisce opzioni personalizzabili con i dati. In precedenza, restituiva solo opzioni personalizzabili vuote. [GitHub-37599](https://github.com/magento/magento2/issues/37599)

<!-- ACP2E-1859 -->

* La selezione della posizione e dell’ID del prodotto ora viene visualizzata correttamente quando un utente amministratore aggiunge un nuovo prodotto a una categoria dopo aver cancellato la cache ma non ricaricato la pagina della categoria. In precedenza, la posizione e la selezione del prodotto non corrispondevano e venivano visualizzate in modo errato.

<!-- ACP2E-1779 -->

* Gli esercenti possono ora aggiornare la data o l’ora di inizio futura di una modifica pianificata per un prodotto scaricabile. In precedenza, Adobe Commerce generava questo errore durante l’aggiornamento della data o dell’ora di inizio futura per il prodotto scaricabile: `The downloadable link isn't related to the product. Verify the link and try again`.

<!-- ACP2E-1943 -->

* Lo stato del prodotto ordinato in inevaso viene ora visualizzato correttamente nella vetrina. In precedenza, i prodotti disponibili per la spedizione venivano erroneamente identificati come prodotti in inevaso.

<!-- ACP2E-1948 -->

* L’accesso ai prodotti scaricabili dall’amministratore non genera più un errore quando l’utente amministratore cambia la vista dello store da quella utilizzata durante la creazione del prodotto a un’altra vista dello store. I prezzi dei prodotti ora vengono convertiti correttamente in mobili quando un utente amministratore passa dalla visualizzazione store a quella predefinita per tutte le visualizzazioni store. In precedenza, Adobe Commerce generava un errore. [GitHub-37519](https://github.com/magento/magento2/issues/37519)

<!-- ACP2E-1994 -->

* I prodotti esportati ora hanno il corretto `manage_stock` valore quando `use_config_manage_stock` valore è uguale a `1`. In precedenza, questo valore predefinito era errato.

<!-- ACP2E-1479 -->

* Adobe Commerce non visualizza più un messaggio di avviso quando salvi un prodotto creato con opzioni personalizzate dopo averne eliminata l’immagine.

<!-- ACP2E-1419 -->

* Le immagini delle miniature dei prodotti vengono ora visualizzate come previsto nell’e-mail di avviso sulle scorte di prodotto inviata quando un prodotto è di nuovo disponibile. In precedenza, questa immagine non veniva visualizzata nell’e-mail di avviso

<!-- AC-3003 -->

* Il conteggio dei prodotti nella struttura ad albero delle categorie (Amministratore **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) è ora accurato. In precedenza, non era possibile recuperare il conteggio dei prodotti della categoria dal `catalog_category_product_index` tabella. È stato corretto l’errore di battitura che ha attivato questo bug. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* L’immagine principale del prodotto nella pagina dei dettagli del prodotto non si sposta più in modo visibile verso il basso durante il caricamento della pagina quando `product_image_white_borders` nel tema `view.xml` è disabilitato. In precedenza, l’immagine del prodotto veniva spostata visibilmente verso il basso durante il caricamento della pagina a causa di impostazioni di altezza non corrette in Fotorama JS.

<!-- ACP2E-1361 -->

* Ora i clienti vengono avvisati del calo del prezzo del prodotto quando si sottoscrivono avvisi di calo del prezzo. In precedenza, le notifiche di calo dei prezzi non venivano sempre inviate a causa del caching a livello di applicazione.

<!-- ACP2E-1422 -->

* È stata aggiunta la convalida lato server al processo di creazione degli attributi del prodotto tramite l’API web. Non è possibile abilitare **[!UICONTROL Use in Layered Navigation Catalog]** campo quando **[!UICONTROL Catalog Input Type for Store Owner]** il valore del campo è `Text Field`,  `Text Area`,  `Text Editor`, `Date`, o `Date and Time`. In precedenza, i prodotti venivano omessi dalle categorie e dai risultati di ricerca.

<!-- ACP2E-1413 -->

* La pagina della categoria ora viene ricaricata con l’impaginazione corretta dopo che un acquirente apre la pagina, modifica l’impaginazione, passa a una pagina di prodotto e quindi ritorna alla pagina della categoria.  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* I prodotti semplici esauriti che sono opzioni per un prodotto configurabile ora vengono visualizzati come disabilitati nella vetrina quando **[!UICONTROL Display Out of Stock Products]** è impostato su **Sì**. In precedenza, tutte le opzioni venivano visualizzate come disponibili, nonostante il loro stato e la loro disponibilità reale.

<!-- ACP2E-1384 -->

* L&#39;aggiornamento dell&#39;attributo dell&#39;ambito del sito Web in una visualizzazione archivio specifica non esclude più il valore di tale attributo nell&#39;ambito globale. In precedenza, importando i prezzi dei prodotti quando sono disponibili più righe con la stessa SKU e `store_view_code` ha prodotto prezzi non accurati per gli ambiti di visualizzazione predefiniti e Tutti gli store.

<!-- ACP2E-1632 -->

* Gli esercenti possono ora aggiungere un’immagine GIF alla galleria di immagini di un prodotto dall’Amministratore. In precedenza, Adobe Commerce visualizzava questo errore:  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Sono stati aggiunti controlli per gestire gli errori derivanti da chiavi di matrice non definite. In precedenza, si verificava un errore durante la generazione della whitelist dello schema dichiarativo.

<!-- ACP2E-1749 -->

* Adobe Commerce ora restituisce un risultato valido per la data personalizzata `01/01/1970`. In precedenza, l’attributo personalizzato restituiva questo errore: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` le query che utilizzano i frammenti ora restituiscono le informazioni sulla categoria come previsto. In precedenza, si verificava un errore interno del server nella pagina della categoria. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problemi relativi a `cataloginventory_stock` il processo di reindicizzazione parziale è stato risolto e le prestazioni dell’indicizzatore sono migliorate. In precedenza, le categorie di prodotti e scorte non venivano aggiornate con precisione.

<!-- AC-8226 -->

* Adobe Commerce ora genera un reindirizzamento 301 per un prodotto quando la categoria a cui appartiene è stata spostata in un nuovo elemento principale. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Regole del catalogo

<!-- ACP2E-1834 -->

* Le regole del catalogo ora sono indicizzate correttamente se abilitate tramite aggiornamento della pianificazione. Di conseguenza, i prezzi scontati sono ora correttamente generati e indicizzati. In precedenza, quando erano disponibili due regole di catalogo e una regola veniva attivata dopo che la prima regola prima del completamento dell’operazione di indicizzazione della regola di catalogo della prima regola, i prezzi degli sconti della regola di catalogo non venivano generati per la seconda regola di catalogo.

<!-- ACP2E-1579 -->

* Le regole del catalogo vengono ora applicate come previsto in un ambiente multisito.

### Prodotti configurabili

<!-- ACP2E-2003 -->

* I prodotti configurabili con due prodotti secondari non vengono più contrassegnati come esauriti quando un prodotto secondario viene disabilitato da un aggiornamento pianificato. Questo era un problema noto per la versione 2.4.7-beta1.

<!-- AC-8060 -->

* Sono state migliorate le prestazioni delle operazioni di salvataggio per i prodotti configurabili con più opzioni. In precedenza, si potevano verificare timeout durante le operazioni di salvataggio del prodotto. [GitHub-36928](https://github.com/magento/magento2/issues/36928)

<!-- ACP2E-1764 -->

* La visualizzazione in vetrina dei prezzi dei prodotti configurabili ora cambia come previsto quando un acquirente seleziona un’opzione di prodotto. [GitHub-37378](https://github.com/magento/magento2/issues/37378)

### Coupon

<!-- ACP2E-1551 -->

* Gli acquirenti possono ora utilizzare due codici coupon generati automaticamente separati che sono stati generati dalla stessa regola di prezzo del carrello. Il `Uses per Coupon` è ora abilitato quando il tipo di coupon selezionato per `Auto` (simile per il tipo di cedola =`Specific Coupon`). Ciò a sua volta consente all’acquirente di applicare più codici coupon allo stesso prezzo del carrello, se i codici sono diversi.

<!-- ACP2E-1496 -->

* Il valore del coupon monouso di un acquirente viene ora ripristinato come previsto quando l’ordine a cui era applicato viene annullato.

<!-- ACP2E-1195 -->

* Il `GET V1/coupons/<couponId>` l’endpoint ora restituisce la risposta completa prevista per i coupon creati manualmente, come per i coupon generati automaticamente.  In precedenza, alcuni campi venivano omessi (ad esempio, `usage_limit`, `usage_per_customer`, e `created_at`).

### cron

<!-- AC-9207 -->

* È stato corretto l’errore irreversibile di divisione per zero nelle espressioni cron. [GitHub-37804](https://github.com/magento/magento2/issues/37804)

<!-- ACP2E-1792 -->

* Il `sales_clean_quotes` il processo cron è stato ottimizzato per essere eseguito più rapidamente aggiungendo un indice composito su `store_id` e `updated_at columns` nella tabella delle offerte. Questa modifica migliora le prestazioni del processo cron quando si elaborano molti preventivi.

<!-- AC-7987 -->

* Gli utenti amministratori possono ora visualizzare quale attività `bin/magento cron:run` processo attualmente in esecuzione. Il titolo del processo attualmente in esecuzione elenca i nomi dei gruppi e dei processi. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Cliente

<!-- AC-6748 -->

* Adobe Commerce ora visualizza il **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]**, e **[!UICONTROL Fax]** campi nella pagina modifica cliente in base alle impostazioni di configurazione. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### E-mail

<!-- ACP2E-2018 -->

* Le opzioni immagine non vengono più visualizzate come markup HTML nelle e-mail del cliente Restituisce (modello predefinito) per i prodotti con opzioni immagine personalizzate.

<!-- ACP2E-1529 -->

* I dettagli dell’amministratore della società ora vengono salvati come previsto e gli amministratori vengono reindirizzati correttamente, quando le e-mail di assegnazione dell’amministratore della società contengono un `CMS Block URL` variabile.

<!-- AC-2903 -->

* Gli indirizzi e-mail dei clienti possono ora includere segni diacritici. In precedenza, la convalida front-end impediva la creazione di un utente con segni diacritici nel suo indirizzo e-mail. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Le e-mail di avviso relative a titoli e prezzi ora vengono tradotte in base alla lingua configurata per la visualizzazione predefinita del sito web store. In precedenza, queste e-mail non venivano tradotte.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` ora invia un’e-mail che avvisa i clienti che un ordine è pronto per essere ritirato solo quando l’ordine è pronto. L’e-mail ora viene attivata solo quando la richiesta è stata soddisfatta senza un’eccezione.

### Framework

<!-- ACP2E-1999 -->

* `bin/magento config:show` e `set` comandi che utilizzano `$_ENV` le variabili ora supportano l’utilizzo di codici per siti web e store contenenti caratteri in maiuscolo o in maiuscolo.

<!-- AC-8923 -->

* Classi aggiunte con  `!important` utilizzato in Tailwind 3 per il supporto del layout CSS. [GitHub-37568](https://github.com/magento/magento2/issues/37568)

<!-- AC-9115 -->

* Un elemento mancante `jQuery` la dipendenza è stata aggiunta al `trim-input.js` file. [GitHub-37683](https://github.com/magento/magento2/issues/37683)

<!-- AC-9387 -->

* I dettagli specifici dell’evento vengono ora passati come secondo attributo (`context`) del `log` metodo. [GitHub-37879](https://github.com/magento/magento2/issues/37879)

<!-- AC-9109 -->

* Alle immagini del catalogo sono stati aggiunti i valori delle proporzioni e gli script non necessari sono stati rimossi dal framework dell’interfaccia utente. [GitHub-37691](https://github.com/magento/magento2/issues/37691)

<!-- AC-9188 -->

* Sono stati rivisti i messaggi di errore attivati da una configurazione XML non valida per fornire maggiori informazioni. [GitHub-37788](https://github.com/magento/magento2/issues/37788)

<!-- AC-9335 8817-->

* Codice obsoleto sottoposto a refactoring relativo alla creazione di proprietà dinamiche in tutta la base di codice.

<!-- AC-7009 -->

* Sono state migliorate le prestazioni degli indicizzatori per i grandi store con database di prodotti estremamente attivi. Gli indicizzatori ora indicizzano le informazioni più recenti del prodotto una volta per ogni indice, anziché più volte. In precedenza, i prodotti scomparivano dal sito web e i dati sui prodotti potevano non essere più aggiornati. [GitHub-30012](https://github.com/magento/magento2/issues/30012)

<!-- ACP2E-1971 -->

* `mview_state` lo stato del record ora indica con precisione lo stato in base all&#39;attività changelog quando è disponibile una connessione al database slave. Precedentemente, questi record rimanevano in un `waiting` stato nelle distribuzioni cloud anche quando non vi erano nuove voci nel changelog.

<!-- ACP2E-2022 -->

* È stato aggiunto il supporto per `precision` opzione che consente al formato valuta di mantenere la parità delle funzioni con il deprecato `ZendCurrency` classe.

<!-- AC-8854 -->

* I messaggi dei cookie sono stati convertiti in attributi osservabili e gli sviluppatori possono ora manipolare lo stato, che può potenzialmente attivare le modifiche dell’interfaccia utente. In precedenza, i cookie erano di sola lettura e non potevano essere manipolati. [GitHub-37308](https://github.com/magento/magento2/issues/37308)

<!-- AC-6325 -->

* Gli utenti amministratori ora possono generare una fattura quando la loro istanza Commerce è connessa all’archiviazione S3. In precedenza, Commerce visualizzava questo errore: `Cannot create image resource. File not found`. [GitHub-35706](https://github.com/magento/magento2/issues/35706)

<!-- AC-6906 -->

* Adobe Commerce ora registra un messaggio di eccezione come previsto quando la convalida del numero di IVA da parte del servizio di convalida VIES non riesce. [GitHub-36065](https://github.com/magento/magento2/issues/36065)

<!-- AC-8146 -->

* Il `Administrators` nome rimosso dalla query utilizzata per recuperare un ruolo di amministratore durante la creazione del ruolo di amministratore. [GitHub-36998](https://github.com/magento/magento2/issues/36998)

<!-- AC-8607 -->

* Il `bin/magento setup:config:set` il comando non ha più esito negativo quando un nome utente di database non valido è incluso nel `app/etc/env.php` file. [GitHub-37409](https://github.com/magento/magento2/issues/37409)

<!-- AC-8595 -->

* L’ordinamento in base alla colonna delle parole riservate in un componente predefinito dell’interfaccia utente amministratore non restituisce più un errore SQL in `var/log/exception.log`. [GitHub-37423](https://github.com/magento/magento2/issues/37423)

<!-- AC-8562 -->

* Aggiunto `AddDataForCostaRica.php` fornire informazioni di Stato alla Costa Rica. [GitHub-37382](https://github.com/magento/magento2/issues/37382).

<!-- AC-8577 -->

* È stato migliorato il messaggio di errore per lo scenario in cui l’utente tenta di accedere a un URL non valido dall’amministratore. [GitHub-35682](https://github.com/magento/magento2/issues/35682).

<!-- ACP2E-1841 -->

* `Param $options[`position`]` per i simboli di valuta ora funziona come previsto e supporta la personalizzazione della posizione del simbolo di valuta. In precedenza, dopo la migrazione da Zend Framework 1, il `toCurrency` il metodo ha ignorato `position` parametro. Questo problema si verificava in tutta l’interfaccia di amministrazione.

<!-- AC-8817 -->

* Codice obsoleto sottoposto a refactoring relativo alla creazione di proprietà dinamiche in tutta la base di codice.

<!-- AC-8154 -->

* I formati di stile personalizzati creati estendendo l’editor TinyMCE in Adobe Commerce e nelle versioni di Magento Open Source precedenti alla 2.4.6 sono ora disponibili come previsto nel Page Builder `text` tipo di contenuto. In precedenza, il formato di stile personalizzato veniva ignorato e dopo l’aggiornamento ad Adobe Commerce 2.4.6-p1 venivano caricati solo i formati predefiniti. [GitHub-36950](https://github.com/magento/magento2/issues/36950)

<!-- AC-8576 -->

* È stata aggiunta la seguente nota informativa al `quote.php` file: `Important: This method also copies customer data to quote and removes quote addresses`. [GitHub-37400](https://github.com/magento/magento2/issues/37400)


<!-- ACP2E-1973 -->

* Creazione di un&#39;istanza del provider del blocco ora eseguita `\Magento\Framework\Lock\Proxy` classe. Il provider di blocchi è ora configurato con `lock` impostazione tramite `app/etc/env.php` file.

<!-- ACP2E-1492 -->

* Mutex è stato implementato per gli ordini di evitare race condition durante l&#39;aggiornamento da richieste simultanee. In precedenza, le richieste simultanee (race condition) per l’annullamento di ordini causavano la duplicazione delle voci in `inventory_reservation` tabella.

<!-- ACP2E-1381 -->

* Il `populateWithArray` ora la funzione trasforma correttamente le proprietà dell’oggetto in una custodia, rendendola compatibile con `AbstractModel` getter e setter. In precedenza, la formattazione delle maiuscole/minuscole dei serpenti era errata quando il nome dell’attributo dei dati conteneva diverse lettere maiuscole in una riga.

<!-- ACP2E-1522 -->

* Il valore di incremento automatico nel `catalog_product_entity_varchar` La tabella ora viene incrementata correttamente dopo il salvataggio di un prodotto. In precedenza, questo valore aumentava di dieci volte.

<!-- ACP2E-1701 -->

* Adobe Commerce non genera più questa eccezione di file system quando si tenta di svuotare la cache JavaScript/CSS:  `No such file or directory`.

<!-- ACP2E-1358 -->

* Il valore di `value_id` in `customer_entity_int` viene ora incrementato correttamente. Viene eseguita una query di aggiornamento anziché `insert on duplicate key update` quando si aggiorna un’entità che incorpora questi attributi. Di conseguenza, le colonne di incremento automatico utilizzate nel modello EAV crescono ora in modo lineare. In precedenza, il processo di incremento automatico per le colonne ignorava i valori a causa di query di inserimento non riuscite. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* È stato rimosso uno spazio vuoto non necessario da `id` attributi che non lo richiedono. Questo bug è stato introdotto da una modifica del codice Adobe Commerce 2.4.6.

<!-- AC-7923 -->

* I codici store non vengono più visualizzati nell&#39;URL store quando lo store è in modalità single-store. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Sono stati apportati aggiornamenti minori a `around` plug-in. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Campioni `Helper` è stato sottoposto a refactoring per rimuovere gli alias di importazione fuorvianti. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Ora gli utenti amministratori possono eliminare o rinominare un `sitemap.xml` come previsto. In precedenza, un utente amministratore poteva eliminare il file dall’amministratore, ma rimaneva nel file system.  [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* I coupon non vengono più contrassegnati come utilizzati quando il pagamento non riesce per l’ordine a cui sono stati applicati. I messaggi della coda vengono ora elaborati nell&#39;ordine in cui vengono pubblicati all&#39;avvio del consumer. In precedenza, il primo messaggio veniva estratto dalla coda per verificare semplicemente se i messaggi erano in coda e veniva successivamente rifiutato, causando l’ultima elaborazione del primo messaggio.

<!-- ACP2E-1627 -->

* Adobe Commerce non genera più un’eccezione nel file di registro quando un utente prova a stampare un’etichetta di spedizione. In precedenza, se un’estensione modifica le intestazioni di risposta che contengono un allegato, il sistema generava un’eccezione nel file di registro.

<!-- AC-7986 -->

* È stato aggiunto il supporto per altre classi HTML a `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)


### Correzioni generali

<!-- AC-8823 -->

* Le password vengono ora visualizzate come previsto quando **[!UICONTROL Show Password]** la casella di controllo nella pagina di accesso è attiva.


<!-- ACP2E-2037 -->

* L&#39;attributo di sistema Reimposta token password dell&#39;entità cliente (`rp_token`) la convalida è stata rimossa dalla convalida degli attributi durante la creazione dell&#39;account del cliente e la convalida dei segni diacritici è inclusa solo nell&#39;e-mail risultante per il cliente. In precedenza, Commerce non salvava il record cliente e visualizzava questo errore: `Something went wrong while saving the customer`.

<!-- AC-8826 -->

* Ora è possibile salvare correttamente le modifiche nella griglia Pagine amministratore e Blocca dopo aver eliminato una colonna. [GitHub-37525](https://github.com/magento/magento2/issues/37525)

<!-- ACP2E-1933 -->

* Gli amministratori della società possono ora aggiungere utenti della società dalla vetrina. In precedenza, Commerce registrava questo errore quando l’utente amministratore tentava di aggiungere un nuovo utente: `report.CRITICAL: Error: Call to a member function __toArray() on null in app/code/Magento/LoginAsCustomerLogging/Observer/LogSaveCustomerObserver.php:123`.

<!-- ACP2E-1972 -->

* I clienti possono ora accedere con una nuova password da un dispositivo dopo aver reimpostato la password su un altro dispositivo.

<!-- ACP2E-1609 -->

* Indirizzo del cliente amministratore **Stato/Provincia** ora mantiene l’ultimo valore salvato come previsto. In precedenza, quando rimuovevi il valore da questo campo, Commerce continuava a visualizzare il valore eliminato nel **Stato/Provincia** campo. [GitHub-36846](https://github.com/magento/magento2/issues/36846)

<!-- ACP2E-1796 -->

* Adobe Commerce non genera più un errore di violazione di vincolo quando deselezioni e selezioni una pagina CMS appena creata.

<!-- ACP2E-1639 -->

* Una directory principale del sito web gerarchico è ora correttamente assegnata a una pagina CMS appena creata. In precedenza, la selezione della directory principale del sito web gerarchico non corrispondeva nelle nuove pagine CMS create.

<!-- ACP2E-1508 -->

* Gli errori non si verificano più durante le richieste di un feed RSS per le categorie quando **[!UICONTROL RSS Feed Top Level Category]** è abilitato. Precedentemente, la navigazione nella pagina della categoria di feed RSS generava un Elasticsearch `CRITICAL` errori nei file di registro quando **[!UICONTROL RSS Feed Top Level Category]** è stato abilitato.

<!-- ACP2E-1490 -->

* Il valore corretto viene ora salvato per `gws_store_groups` quando l’ambito del ruolo viene modificato durante la creazione del ruolo utente. In precedenza, quando l’ambito del ruolo era selezionato come `All`, il `gws_store_groups` il valore è stato salvato come nullo durante la creazione dell&#39;utente, ma non durante la modifica del ruolo. Inoltre, se l’ambito del ruolo è stato selezionato come `Custom`, quindi `gws_store_groups` il valore è sempre stato salvato come nullo.

<!-- ACP2E-1446 -->

* È ora possibile accedere alla pagina di reimpostazione della password facendo clic sul collegamento Reimpostazione password amministratore nella pagina di accesso amministratore quando **[!UICONTROL Add Store Code to Urls]** è attivata. Il collegamento per la reimpostazione della password amministratore ha aperto in precedenza la pagina di accesso o la pagina 404.

<!-- ACP2E-1274 -->

* L’intervallo di date nel dashboard Statistiche amministratore viene ora calcolato in base al fuso orario impostato nelle impostazioni di configurazione, quindi convertito in UTC per recuperare i dati dal database.

<!-- ACP2E-1665 -->

* Il filtro della gerarchia CMS funziona come previsto dopo aver filtrato una vista dello store e aver fatto clic su **[!UICONTROL Save]** su Amministratore **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Precedentemente, facendo clic su **[!UICONTROL Save]** ha aggiornato la pagina, ma il contesto è andato perso e la visualizzazione dello store selezionata non è più visualizzata.

<!-- ACP2E-1631 -->

* Facendo clic su **[!UICONTROL Send invitation]** (Admin **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) ora invia una richiesta POST insieme alla chiave del modulo e invia l&#39;invito correttamente. Precedentemente, quando si faceva clic su questo pulsante, non erano presenti né il metodo HTTP POST né la chiave del modulo.

<!-- ACP2E-1608 -->

* È ora possibile copiare correttamente i file a zero byte nello storage remoto con AWS S3.

<!-- AC-7402 -->

* Gli utenti amministratore possono ora aggiungere un nuovo indirizzo cliente dall’amministratore quando quel cliente è stato creato per un altro sito web il cui ID store non corrisponde all’ID sito web. In precedenza, Adobe Commerce visualizzava questo messaggio a comparsa: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* Nella pagina dell’editor di blocchi CMS viene ora visualizzato il widget corretto `block_id` valore.  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Biglietti regalo e confezione

<!-- AC-7372 -->

* I commercianti non possono più creare una gift card con un valore negativo.

<!-- ACP2E-1890 1806-->

* Il `setGiftOptionsOnCart` la mutazione ora rimuove la confezione regalo da un ordine come previsto.  Il valore di `gift_wrapping_id` viene ora disattivato a livello di carrello. Precedentemente, il `gift_wrapping_id` è stato aggiornato al valore precedente dopo l’ordine, anche quando questo valore veniva disimpostato a livello di carrello.

<!-- ACP2E-1866 -->

* I conti delle carte regalo ora rimangono attivi come previsto quando il rimborso parziale di un prodotto semplice viene elaborato dall’ordine a cui è stata applicata la carta. In precedenza, l&#39;account gift card veniva eliminato.

<!-- ACP2E-1805 -->

* Il `setGiftOptionsOnCart` mutation ora aggiorna correttamente il database quando si rimuove un messaggio regalo dal carrello. In precedenza, i dettagli del messaggio non venivano aggiornati nel database e il messaggio regalo non veniva rimosso dal carrello.

<!-- ACP2E-1741 -->

* Registro doni `Event Information` l’etichetta ora è tradotta come previsto.

<!-- ACP2E-1586 -->

* I subtotali ora vengono calcolati correttamente per gli importi delle gift card personalizzate.

<!-- ACP2E-1350 -->

* Le gift card vengono ora applicate correttamente durante il pagamento con più indirizzi. In precedenza, gli importi delle gift card venivano applicati in modo errato per le spedizioni con più indirizzi, causando importi delle gift card non validi.

<!-- ACP2E-1341 -->

* L’emulazione ora inizia durante `send()` chiamate una volta completata l&#39;emulazione durante il `getInfoBlockHtml()` e non viene registrato alcun errore. Precedentemente, il `system.log` il file è stato inondato con questo errore: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Ora puoi utilizzare la `updateCartItems` mutazione per aggiornare una gift card in un carrello. In precedenza, questa mutazione poteva aggiornare nel carrello solo l’importo della carta.

<!-- ACP2E-1669 -->

* La confezione regalo è ora inclusa come previsto in un preventivo basato su carrelli uniti. In precedenza, i messaggi regalo venivano uniti correttamente, ma non racchiudevano le selezioni.

<!-- AC-7530 -->

* Il `addProductsToCart` mutation ora aggiunge con successo una gift card a un carrello. In precedenza, questa query prevedeva il nome del destinatario della gift card, ma è stato restituito il nome del mittente. Adobe Commerce ha generato questo errore: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* Il Google reCAPTCHA nel flusso di lavoro di pagamento ora funziona come previsto per assegni, ordini di pagamento e metodi di pagamento personalizzati.

<!-- ACP2E-1311 -->

* I moduli Adobe Commerce non possono più essere inviati prima che venga caricata la casella di controllo Google ReCAPTCHA.

<!-- ACP2E-1338 -->

* Il widget reCAPTCHA ora precede il **[!UICONTROL Place Order]** sulla pagina di pagamento. In precedenza, il widget veniva visualizzato nella parte superiore della pagina.

### Gestione tag Google

<!-- ACP2E-1520 -->

* Il modulo Google Tag ora invia i dati corretti al livello dati. In precedenza, i dati sulle impression della pagina non venivano inviati al livello dati.

### GraphQL

<!-- AC-8623 -->

* La gestione degli errori degli indirizzi per i componenti della libreria GraphQL ora funziona come previsto.

<!-- AC-9058 -->

* Il `products` query restituisce ora tutti i dettagli rilevanti di prezzo storefront quando dynamic pricing è impostato su no e vengono applicati sconti. In precedenza, la fascia di prezzo per i prodotti non veniva restituita. [GitHub-35649](https://github.com/magento/magento2/issues/35649)

<!-- ACP2E-1744 -->

* I nomi delle transazioni GraphQL ora includono solo i nomi delle query di primo livello nei registri di New Relic. In precedenza, i nomi delle transazioni includevano anche nomi di query secondari.

<!-- AC-8623 -->

* La gestione degli errori degli indirizzi per i componenti della libreria GraphQL ora funziona come previsto.

<!-- AC-7430 -->

* Quando l’impostazione Visibilità per un prodotto è impostata su `Catalog`, `products` le query sul prodotto ora risolvono correttamente l’impostazione. In precedenza, qualsiasi filtro fornito era passato al `Visibility: Catalog` impostazione. [GitHub-36591](https://github.com/magento/magento2/issues/36591)

<!-- ACP2E-1769 -->

* Il `customer` query ora restituisce un `product_sale_price` campo che include l&#39;imposta sugli ordini quando il prezzo del prodotto è stato configurato per includere l&#39;imposta. [GitHub-36946](https://github.com/magento/magento2/issues/36946)

<!-- ACP2E-1584 -->

* Attributi del prodotto di tipo `DateTime` ora mappa su `FilterRangeTypeInput` filtrare nelle query di prodotti. In precedenza, questi attributi venivano mappati su `FilterMatchTypeInput`. In seguito a questa modifica, le query verranno filtrate su `DateTime` gli attributi richiedono `from` e `to` invece di valori di corrispondenza.

<!-- ACP2E-1552 -->

* Il `customer` query ora restituisce solo le recensioni dei clienti relative a una visualizzazione specifica dello store come previsto quando filtrate per ID store.

<!-- AC-7544 -->

* Il `categories` query non restituisce più un errore quando `items.redirect_code` il valore di risposta contiene un valore null. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* I prodotti correlati basati su regole ora vengono caricati come previsto nelle risposte GraphQL dopo la pulizia completa della cache. In precedenza, gli attributi EAV del prodotto responsabili delle corrispondenze basate su regole non venivano caricati per l’entità richiesta, anche se venivano caricati dopo il ricaricamento della pagina del prodotto vetrina.

<!-- ACP2E-1486 -->

* Il `changeCustomerPassword` la mutazione ora attiva l’e-mail come previsto dopo aver reimpostato correttamente una password.

<!-- ACP2E-1494 -->

* `urlResolver` e `route` Le query ora restituiscono un risultato quando `Target Path` di riscrittura URL è un URL assoluto. Precedentemente, il `urlResolver` La query ha restituito NULL quando è stata utilizzata per recuperare i dati di reindirizzamento.

<!-- AC-7979 -->

* Il `products` query ora restituisce le etichette corrette quando esistono più viste store. [GitHub-29635](https://github.com/magento/magento2/issues/29635)

<!-- ACP2E-1315 -->

* Il `categoryList` query ora restituisce un valore popolato `product` sezione del `options` blocco per i prodotti secondari dei bundle come previsto.  In precedenza, non venivano restituite informazioni sui prodotti secondari del bundle.

<!-- AC-7114 -->

* Il `route` query ora restituisce route per categorie e prodotti come previsto senza un errore interno del server. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* Il `products` query now recupera `url_key` valori quando sono selezionate più categorie.

<!-- LYNX-17  16-->

* `product` le query ora restituiscono aggregazioni solo per i prodotti assegnati al catalogo condiviso specificato. In precedenza, i dati di aggregazione per i prodotti non assegnati a un catalogo condiviso venivano visualizzati nella navigazione a livelli.

<!-- AC-6680 -->

* Il `OptionValueProvider` classe `get()` il metodo ora restituisce un valore di opzione attributo basato sul dato `option_id` come previsto. In precedenza, restituiva un errore. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* Il `products` query ora restituisce tutte le aggregazioni (filtri) disponibili e le relative etichette tradotte correttamente. In precedenza, le etichette di aggregazione di prezzi e categorie non venivano tradotte come previsto. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Ora puoi utilizzare un frammento `ProductCard` quando si esegue una query `related_products`, `upsell_products`, e  `crosssell_products` il `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* Il `products` query ora restituisce i prodotti correlati, di upselling e di cross-selling nell’ordine in cui sono stati salvati. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* Le query GraphQL ora restituiscono dati di prodotti correlati ordinati per posizione. [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` è stato aggiunto a `ProductAttributeFilterInput`, che supporta la richiesta di tutti i prodotti per una categoria in una singola query. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* È stato corretto un errore in cui il metodo che imposta l’archivio corrente in una mutazione GraphQL veniva eseguito prima del metodo che gestisce la convalida. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Immagine

<!-- ACP2E-1353 -->

* Il modulo di caricamento delle icone preferite di amministrazione ora supporta `.ico` tipi di file. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importa/esporta

<!-- ACP2E-1930 -->

* L’importazione del prodotto non ha più esito negativo a causa di memoria insufficiente. In precedenza, l’importazione di un numero qualsiasi di prodotti in un database che già contiene circa dieci milioni di prodotti non riusciva a causa della mancanza di memoria.

<!-- AC-9116 -->

* I controlli di convalida ora interrompono il processo di importazione come previsto quando non sono presenti dati validi da importare e Commerce ora visualizza questo errore: `There are no valid rows to import`. In precedenza, la convalida passava in queste condizioni, ma il processo di importazione non riusciva con questo messaggio: `entity values are mixed`. [GitHub-32905](https://github.com/magento/magento2/issues/32905)

<!-- ACP2E-1754 -->

* L’importazione di chiavi URL con lo stesso prodotto non sovrascrive più o elimina le chiavi predefinite esistenti della vista archivio. Le riscritture URL vengono ora rigenerate per le visualizzazioni del punto vendita solo quando non viene eseguita alcuna sostituzione `url_key` valore. In precedenza, l’importazione di URL riscrive con la stessa chiave URL sostituiva la chiave URL predefinita esistente per la visualizzazione archivio. (    `key_store` Le riscritture URL sono state eliminate, ma la riscrittura URL sul livello di visualizzazione predefinito dello store per il prodotto era ancora impostata su `key_store`.)

<!-- ACP2E-1875 -->

* Il conteggio dei prodotti non cambia più in modo imprevisto durante l’importazione. Lo svuotamento della cache viene ora posticipato a dopo il processo di importazione.

<!-- ACP2E-1813 -->

* Lo stato delle azioni di importazione pianificate ora rappresenta con precisione il successo o l&#39;errore dell&#39;operazione di importazione. In precedenza, tutte le azioni venivano registrate come riuscite.

<!-- AC-7039 -->

* Il commercio tiene ora conto dei **[!UICONTROL Disable Automatic Group Change Based on VAT ID]** impostazione durante l&#39;importazione dei record cliente. Precedentemente, il `disable_auto_group_change` valore nei file di importazione ignorato. [GitHub-36409](https://github.com/magento/magento2/issues/36409)

<!-- AC-965 -->

* `Magento\Framework\Convert\Excel` ora gestisce correttamente i numeri preceduti da uno spazio. Il codice XML di Excel ora codifica i campi come `String`. In precedenza, il writer di Excel codificava questi valori come `number`, che ha prodotto file non validi. [GitHub-33422](https://github.com/magento/magento2/issues/33422)

<!-- ACP2E-1641 -->

* I commercianti possono ora specificare le impostazioni internazionali in cui vengono presentati i dati di importazione e il modo in cui i validatori dei dati devono analizzarli. Se non viene specificato un valore di impostazioni locali, Adobe Commerce utilizza le impostazioni locali di configurazione predefinite (non la visualizzazione archivio predefinita) per analizzare i dati. In Amministrazione, i processi di importazione ed esportazione continuano a utilizzare le impostazioni locali dell’interfaccia utente di amministrazione per importare, analizzare e formattare i dati, rispettivamente.

<!-- ACP2E-1847 -->

* Importazione di prodotti con `country_of_manufacture` Gli attributi creati da un utente amministratore con impostazioni internazionali diverse da quelle dell’utente amministratore che importa i prodotti non generano più un errore di convalida. In precedenza, questa operazione di importazione poteva causare un errore di convalida sulla `country_of_manufacture` attributo.

<!-- ACP2E-1981 -->

* I dati di origine del magazzino ora vengono importati correttamente dal processo di importazione del negozio e Commerce visualizza ora un messaggio di notifica completo al termine del processo di importazione. In precedenza, il messaggio di notifica era mancante.

<!-- ACP2E-1889 -->

* L’annullamento della validità dell’indicizzatore ridondante è stato rimosso quando gli indicizzatori sono in modalità pianificata.

<!-- ACP2E-1994 -->

* I prodotti esportati ora hanno il corretto `manage_stock` valore quando `use_config_manage_stock` valore è uguale a `1`. In precedenza, questo valore predefinito era errato.

<!-- ACP2E-1620 -->

* Ora Adobe Commerce visualizza un messaggio di errore informativo nella griglia di importazione pianificata quando un’immagine non viene importata correttamente durante un’operazione di importazione pianificata. In precedenza, non veniva visualizzato alcun messaggio di errore.

<!-- ACP2E-1565 -->

* Il processo di importazione del prodotto non viene più interrotto quando mancano le immagini del prodotto. In precedenza, quando mancava un’immagine di prodotto durante l’importazione di un servizio di terze parti utilizzando un file CSV, Adobe Commerce visualizzava questo errore: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* Le prestazioni dell’esportazione dei clienti dalla griglia Cliente sono state migliorate nelle implementazioni in cui è abilitato il B2B.

<!-- ACP2E-1391 -->

* Il processo di importazione del prodotto non genera più un errore di convalida quando un valore di attributo in `configurable_variations` la colonna contiene una virgola.

<!-- ACP2E-1377 -->

* La decodifica è stata esclusa dal processo di esportazione. Il testo del file di esportazione CSV rimane invariato dopo l’importazione. Di conseguenza, la descrizione non cambia dopo la reimportazione. In precedenza, i tag HTML venivano rimossi nell’editor di Page Builder dopo l’esportazione e l’importazione del prodotto.

<!-- ACP2E-1451 -->

* Le configurazioni non predefinite (ambito del sito web o dell’archivio) aggiunte come variabili di ambiente non interrompono più la `app:config:import` processo con un errore di ricorsione.

<!-- ACP2E-1569 -->

* Gli indicizzatori di ricerca e prezzo del catalogo in modalità Aggiornamento in modalità di salvataggio non vengono più invalidati dopo l’importazione. In precedenza, la versione del documento Indicizzatore Elasticsearch veniva modificata quando venivano importati prodotti nuovi ed esistenti.

<!-- ACP2E-1482 -->

* I rapporti sui prodotti ora vengono esportati in `var` directory.  In precedenza, questi rapporti venivano esportati nella directory principale dei documenti, una directory di sola lettura nelle istanze cloud.

<!-- ACP2E-1736 -->

* I campi di indirizzo cliente a selezione multipla vuoti non interrompono più o interrompono il processo di esportazione.

### Indice

<!-- AC-9223 -->

* Tutti gli indicizzatori ora utilizzano gli stessi colori per rappresentare lo stato dell&#39;indicizzatore. [GitHub-34648](https://github.com/magento/magento2/issues/34648)

<!-- ACP2E-1697 -->

* Sono state migliorate le prestazioni dell’indicizzatore del prodotto Regola catalogo nelle distribuzioni in cui le regole non vengono assegnate a tutti i siti web.

<!-- ACP2E-1401 -->

* Creazione di un tipo di prodotto personalizzato quando gli indici sono impostati su **[!UICONTROL Update on schedule]** non causa più l’aggiornamento dell’indice `cron` attività da non superare. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* Sono stati risolti i problemi di visualizzazione nella pagina dei dettagli dei prodotti storefront dovuti all&#39;indicizzazione delle autorizzazioni del catalogo. In precedenza, Adobe Commerce cancellava prima la tabella dell’indice e quindi la indicizzava nuovamente durante un ciclo completo `catalogpermissions_product` o `catalogpermissions_category` processo di indicizzazione. Le autorizzazioni del catalogo non funzionavano come previsto nella vetrina fino al completamento della reindicizzazione.

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` non genera più un errore MySQL quando la griglia del cliente include attributi cliente personalizzati appena creati. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* La modifica della modalità di indicizzazione per più indicizzatori (ovvero, una modifica della modalità di indicizzazione di azione di massa) ora cambia la modalità di un indicizzatore solo quando la modalità corrente è diversa da quella applicata. Ciò migliora le prestazioni impedendo viaggi inutili al database. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

### Infrastruttura

<!-- AC-9390 -->

* MySQL sostituito `CREATE TEMPORARY TABLE ... LIKE` con refactoring `CREATE TEMPORARY TABLE` per la conformità con MySQL 8.x. [GitHub-37926](https://github.com/magento/magento2/issues/37926)

<!-- ACP2E-1462 -->

* Adobe Commerce non include più il percorso completo della directory principale del server nel messaggio di errore visualizzato quando al server viene inviata una richiesta HTTP non valida. Solo le stringhe vengono ora passate al `explode` come secondo argomento.

<!-- AC-8384 -->

* `restricted_classes.php` ha sostituito `Zend_Validate_File_Upload`. In precedenza, la convalida si bloccava durante il caricamento di un file di importazione di dimensioni superiori al valore configurato in `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* Ora è possibile utilizzare con le regole del segmento cliente le opzioni attributo fornite dal modello di origine dati e installate utilizzando la patch dati di configurazione (in genere da moduli di terze parti). In precedenza, questa combinazione non restituiva l’elenco dei clienti che corrispondevano al segmento configurato.

<!-- AC-7093 -->

* Il motore dei modelli e-mail ora può elaborare correttamente alcune direttive nidificate (ad esempio, `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` Le query con dati di aggregazione ora restituiscono i valori di etichetta corretti per gli attributi di prodotto di tipo booleano. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- https://github.com/magento/magento2/pull/29173 -->

* I file CSS non vengono più danneggiati durante l’unione `var/tmp` e `pub/static` si trovano su file system diversi e **[!UICONTROL CSS Merging Enabled]** è abilitato. I file temporanei sono stati creati nella stessa directory statica del file di destinazione per garantire che entrambi i file si trovino nello stesso file system. Di conseguenza, la chiamata per rinominarlo è atomica. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Chiamata a una funzione membro `getId()` non attiva più un&#39;eccezione.

<!-- https://github.com/magento/magento2/pull/34092 -->

* I controlli dei tipi vengono ora applicati per il tipo di array nel processore di configurazione del tema di progettazione.  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Registrazione

<!-- ACP2E-1788 -->

* È stato aggiornato il formato data-ora nella funzione Rapporti di sistema per includere nei rapporti i record dei file di registro.

<!-- ACP2E-1385 -->

* Gli utenti amministratore possono ora visualizzare i registri delle azioni in blocco create dalle integrazioni nella sezione Bulk Actions Log (Registro azioni in blocco) dell&#39;amministratore.

### Login

<!-- ACP2E-1521 -->

* Il ripristino di una password in un browser e il successivo accesso tramite un altro browser non generano più un&#39;eccezione. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* I clienti vengono ora reindirizzati alla pagina di accesso dopo l’attivazione di un account, come previsto. In precedenza, i clienti effettuavano l’accesso automaticamente.

### Ordini

<!-- ACP2E-1918 -->

* Gli esercenti possono ora generare note di accredito per gli ordini che contengono alcuni articoli con un totale pari a zero quando altri articoli dell&#39;ordine sono disponibili per il rimborso. In precedenza, gli esercenti non potevano effettuare più rimborsi quando un cliente aveva uno sconto del 100% su alcuni articoli dell’ordine.

<!-- AC-8254 -->

* I collegamenti tra i prodotti secondari e quelli principali vengono ora visualizzati nella pagina dell’ordine durante il riordine del prodotto secondario dall’amministratore. [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- AC-1756 -->

* La sezione dell&#39;intestazione della pagina dell&#39;ordine contiene ora le informazioni previste sulla fattura, sulla nota di credito e sulla spedizione inviate. [GitHub-27474](https://github.com/magento/magento2/issues/27474)

<!-- AC-7632 -->

* Le note di credito per gli ordini che contengono un solo prodotto configurabile ora vengono generate correttamente. Precedentemente, il `isLast()` funzione non restituita `true` come previsto. [GitHub-36722](https://github.com/magento/magento2/issues/36722)

<!-- ACP2E-1962 -->

* Adobe Commerce non genera più un errore durante la creazione di una nota di credito con un rimborso offline al saldo di un cliente quando l’utente amministratore non dispone dell’autorizzazione per il sito web del cliente. In precedenza, Adobe Commerce generava questo errore: `More permissions are needed to view this item`e l&#39;utente amministratore non ha potuto creare un rimborso del credito del negozio.

<!-- ACP2E-1714 -->

* Lo stato dell&#39;ordine ora è corretto quando è stato effettuato un rimborso parziale per un ordine che contiene prodotti bundle. In precedenza, lo stato dell’ordine veniva indicato come completo dopo l’emissione di un rimborso parziale, anche se l’ordine rimanente non era completo. [GitHub-37377](https://github.com/magento/magento2/issues/37377)

<!-- ACP2E-1514 -->

* Gli acquirenti non possono più ordinare un prodotto utilizzando un prezzo personalizzato quando un ordine viene generato dall’amministratore utilizzando il prezzo personalizzato una tantum. In precedenza, se un ordine conteneva un articolo con prezzi personalizzati, questo prezzo personalizzato veniva applicato ad altri ordini con la funzionalità di riordino.

<!-- ACP2E-1421 -->

* Gli acquirenti non possono più salvare gli stati degli ordini errati nella pagina dell’ordine. Lo stato dell&#39;ordine non viene più modificato da Completo a Elaborazione quando viene spedito un articolo. In precedenza, Adobe Commerce non verificava lo stato attuale dell’ordine prima di salvarne lo stato dopo che un acquirente aveva inserito un commento. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* Adobe Commerce non genera più un errore nella pagina di restituzione degli ordini di vetrina quando il prodotto configurabile da restituire è stato eliminato. In precedenza, Adobe Commerce registrava questo errore: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* La griglia degli ordini di vendita viene ora sincronizzata in modo asincrono con tutti gli ordini come previsto. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* La funzionalità Filtra per data di acquisto nella sezione Ordini cliente della pagina Ordini ora funziona come previsto. In precedenza, si verificava un errore JavaScript quando la logica di conversione del fuso orario generava un errore quando lo stesso fuso orario veniva fornito al metodo.

<!-- ACP2E-1294 -->

* Il dashboard di Adobe Commerce ora visualizza le statistiche degli ordini corrette al primo caricamento. In precedenza, il dashboard mostrava informazioni di ordine errate, ma mostrava le informazioni corrette una volta aggiornato il periodo di tempo.

<!-- ACP2E-1762 -->

* Gli utenti Admin vengono ora reindirizzati come previsto alla pagina dell’ordine dopo aver selezionato una vista store durante la creazione di un nuovo ordine da Admin.

<!-- ACP2E-1418 -->

* Il `GET V1/orders/<OrderID>` l’endpoint ora restituisce informazioni sia sui prodotti configurabili che su quelli semplici nell’ordine, indipendentemente dallo stato delle scorte dei prodotti semplici. Gli utenti amministratori possono effettuare ordini ora solo se gli articoli (prodotti) selezionati sono in magazzino o in vendita. In precedenza, questa API restituiva informazioni solo sui prodotti in stock.

<!-- AC-7901 -->

* La pagina della nota di accredito non si blocca più se la spedizione gratuita è abilitata quando il prezzo di spedizione include le imposte e i calcoli delle imposte vengono applicati dopo gli sconti. In precedenza, Adobe Commerce generava un `Division by zero` eccezione. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Utilizzo di `rest/V1/orders/{id}/comments` l’endpoint per pubblicare un commento su un ordine senza fornire lo stato dell’ordine non influisce più sulla visualizzazione dell’ordine. In precedenza, lo stato dell’ordine veniva registrato come NULL in `sales_order` e `sales_order_grid` e né la pagina Ordini personali né la griglia Ordine amministratore visualizzavano l&#39;ordine. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* Fatture, spedizioni e note di accredito possono ora essere spostate dall&#39;archivio insieme agli ordini associati quando gli ID inclusi differiscono dagli ID degli ordini. In precedenza, se un ordine veniva spostato nell’archivio e poi ripristinato, i record delle fatture, delle spedizioni e delle note di credito mancavano dall’ordine se i numeri ID non corrispondevano. [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- AC-9128 -->

* Sono state migliorate le prestazioni delle operazioni di salvataggio di Page Builder nel browser Chrome.

<!-- ACP2E-1954 -->

* Ora puoi utilizzare l’opzione Page Builder in Admin > **[!UICONTROL Content]** > **[!UICONTROL Pages]** per inserire testo copiato in tutti gli stili utilizzando `text` elemento.  In precedenza, Page Builder mostrava solo testo normale e non salvava gli stili.

<!-- ACP2E-1646 -->

* Gli errori CORS non vengono più visualizzati durante la modifica del contenuto del prodotto con Page Builder quando l’utente amministratore dispone di un ACL specifico. Ora l’utente amministratore può salvare il prodotto. In precedenza, Page Builder non salvava il prodotto e il processo di salvataggio si bloccava.

<!-- ACP2E-1852 -->

* Informazioni precise sulle dimensioni del file sono ora incluse nell&#39;anteprima dell&#39;immagine per le immagini caricate in PageBuilder.

<!-- ACP2E-2016 -->

* Gli elementi di pagina di Page Builder ora vengono riprodotti a una velocità accettabile nel browser Chrome (v112). In precedenza, il salvataggio dei contenuti con PageBuilder in esecuzione nel browser Chrome era lento e Commerce registrava questo errore nella console del browser: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks`.

<!-- ACP2E-1654 -->

* La riproduzione automatica dell’elemento video di Page Builder ora funziona come previsto sui browser mobili Safari su iOS quando l’elemento è collegato direttamente a un file video remoto. In precedenza, non veniva visualizzata alcuna immagine di anteprima.

<!-- ACP2E-1974 -->

* Page Builder ora funziona come previsto nel browser Chrome. In precedenza, le modifiche al contenuto apportate in tale browser non venivano sempre salvate.

<!-- ACP2E-2086 -->

* Il caricamento di una pagina di modifica di un prodotto amministratore non genera più un messaggio intermittente `Uncaught TypeError` Errore JavaScript.

<!-- ACP2E-1886 -->

* Le immagini caricate tramite l’editor di Page Builder ora sono taggate come utilizzate il **[!UICONTROL Content]** > **[!UICONTROL Media Gallery]**. In precedenza, queste immagini erano contrassegnate come **non utilizzato ovunque** in Media Gallery.

<!-- ACP2E-1564 -->

* L’aggiunta di un prodotto a un carrello dal carosello Page Builder non duplica più la quantità di articolo da pagine con due widget diversi che visualizzano gli stessi prodotti.

<!-- ACP2E-1542 -->

* Page Builder non aggiunge più `tabindex` Attributo HTML ai tag di collegamento ipertestuale `a` quando si modifica un collegamento ipertestuale, salvare un modello.

<!-- ACP2E-1444 -->

* Il widget prodotti e l’anteprima di Page Builder ora gestiscono correttamente i caratteri speciali HTML. In precedenza, il widget del prodotto non visualizzava correttamente gli SKU contenenti `&` carattere.

<!-- ACP2E-1441 -->

* Il contenuto degli elementi di testo di Page Builder viene ora aggiornato come previsto quando selezioni e aggiorni il blocco di contenuto completo in modalità anteprima.

<!-- ACP2E-1362 -->

* Copiare e incollare testo da un editor di testo di Page Builder a un altro ora funziona come previsto. In precedenza, la pagina in cui si tentava di incollare il testo non poteva essere salvata e Adobe Commerce visualizzava questo errore della console: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` il tipo di contenuto creato nelle versioni precedenti di Page Builder ora viene visualizzato correttamente.

<!-- ACP2E-1234 -->

* L’amministratore ha migliorato il filtro per la descrizione dei metadati del prodotto durante la creazione del prodotto. Precedentemente, se Page Builder era abilitato, la descrizione dei metadati del prodotto veniva generata in base al valore predefinito` {{name}} {{description}}` maschera. La maschera di metadescrizione del prodotto predefinita è ora composta da `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* L’aggiunta di un blocco dinamico senza contenuto non attiva più un errore.

### Pagamento

<!-- AC-9142 -->

* Le transazioni di pagamento PayPal Express ora includono SKU di prodotti secondari e titoli completi dei prodotti. Il `Magento/Paypal/Model/Cart.php` Il file ora raccoglie gli SKU dei prodotti secondari con il relativo titolo del prodotto principale per identificare il titolo del prodotto con lo SKU figlio. [GitHub-36808](https://github.com/magento/magento2/issues/36808)

<!-- ACP2E-1964 -->

* Il **[!UICONTROL Card Security Code Does Not Match]** L&#39;impostazione di configurazione viene ora elaborata come previsto durante il processo di pagamento di Payflow Pro. In precedenza, questo processo di valutazione non veniva mai completato, bloccando così l’estrazione.

<!-- ACP2E-1215 -->

* L&#39;opzione Metodo di pagamento Vault non viene più visualizzata nel flusso di lavoro di pagamento dell&#39;amministratore quando l&#39;acquirente non dispone di un token Vault. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* Il **[!UICONTROL Venmo]** ora può essere nascosto quando i pulsanti PayPal sono attivati. Precedentemente, il **[!UICONTROL Venmo]** impossibile rimuovere il pulsante dal carrello, dal mini carrello, dai dettagli del prodotto o dalle pagine di pagamento.

#### Braintree

<!-- BUNDLE-3273 -->

* Sono stati risolti dei problemi relativi agli URL di fallback per gli ordini pagati con da Pagamenti ideali quando è abilitato il pagamento locale.

<!-- AC-2901 -->

* Le informazioni sul pagamento delle Braintree vengono ora salvate per ogni negozio e gli acquirenti ora vedono solo le informazioni sulla carta salvate nel negozio in cui fanno acquisti. In precedenza, gli acquirenti potevano visualizzare le informazioni sulla scheda memorizzata da tutti i negozi durante il pagamento. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- BUNDLE-3304 -->

* Gli acquirenti possono ora effettuare il check-out di un ordine spedito a più indirizzi utilizzando un metodo di pagamento Braintree quando il vault per i pagamenti con carta è disabilitato. [GitHub-37615](https://github.com/magento/magento2/issues/37615)

<!-- BUNDLE-3253 -->

* Gli acquirenti non possono più creare un ordine PayPal senza aggiungere un cognome.

<!-- ACP2E-1229 -->

* L&#39;opzione Metodo di pagamento Braintree Vault non viene più deselezionata automaticamente nel flusso di lavoro di pagamento quando un acquirente aggiorna il proprio indirizzo di fatturazione. In precedenza, il metodo di pagamento veniva deselezionato quando l’acquirente deselezionava il **[!UICONTROL My billing and shipping address are the same]** pulsante.

<!-- BUNDLE-3248 -->

* Sono stati risolti i problemi relativi al check-out con PayPal tramite Braintree dopo l’aggiornamento da Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* I numeri di telefono ora vengono visualizzati come previsto con gli indirizzi nei campi dell’indirizzo di spedizione modale del popup di Google Pay. In precedenza, mancavano i numeri di telefono.

<!-- BUNDLE-3228 -->

* Gli ordini vengono ora inseriti correttamente con Braintree quando la risposta Braintree include un valore vuoto per `threeDSecureInfo/eciFlag`. In precedenza, si verificava un errore PHP durante il check-out quando questo valore era vuoto.

<!-- BUNDLE-3243 -->

* Adobe Commerce non genera più un errore quando un acquirente applica un coupon nella pagina di revisione dell’ordine durante il check-out con Google Pay dal mini carrello. In precedenza, gli acquirenti venivano reindirizzati a una pagina 404.

<!-- BUNDLE-3245 -->

* Gli acquirenti possono ora completare il pagamento tramite Braintree Payments e Adobe Commerce 2.4.6 con ReCAPTCHA v2 o v3 invisibile. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Gli acquirenti non possono più fare clic sul pulsante **[!UICONTROL PayPal]** per acquistare un prodotto configurabile senza prima selezionare le opzioni richieste. In precedenza, gli acquirenti potevano fare clic sul pulsante **[!UICONTROL PayPal]** e sono stati successivamente reindirizzati alla pagina del prodotto con un errore:

<!-- BUNDLE-3148 -->

* Il **[!UICONTROL PayPal]** viene ora visualizzato come previsto sulle pagine del carrello e del mini-carrello. In precedenza, questo pulsante non veniva visualizzato nella pagina del carrello e veniva duplicato nella pagina del mini carrello.

<!-- BUNDLE-3244 -->

* Gli ordini fatturati parzialmente vengono ora acquisiti come previsto nell’account corretto nelle distribuzioni in cui i commercianti hanno due ID account commerciante diversi per la stessa valuta nel proprio account di Braintree.

<!-- BUNDLE-3250 -->

* Adobe Commerce non genera più un errore durante la creazione di una seconda fattura parziale per un ordine pagato per Braintree quando **[!UICONTROL Enable Vault for Card Payments]** è abilitato. In precedenza, quando un commerciante tentava di creare una seconda fattura, Adobe Commerce generava questo errore: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

### Prestazioni

<!-- ACP2E-2098 -->

* L&#39;esecuzione del `addProductToCart` è stata migliorata la mutazione durante l’esecuzione con molti attributi di prodotto personalizzati. In precedenza, quando questa mutazione veniva eseguita con molti attributi di prodotto ( approssimativamente 1000), Commerce tentava di caricare tutti gli attributi di prodotto.

<!-- ACP2E-1965 -->

* Sono stati risolti i problemi di prestazioni durante il caricamento degli attributi del prodotto utilizzati dalle regole del carrello. Ora vengono caricati solo gli attributi del prodotto per le regole del carrello attive.

<!-- ACP2E-1864 -->

* Il `bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ee/small.xml` Il comando ora viene eseguito correttamente se viene eseguito più volte. Precedentemente, si verificava questo errore quando veniva eseguito più di una volta: `Coupon with the same code already exists`.

### Promozione

<!-- ACP2E-1290 -->

* Gli effetti della **[!UICONTROL Fixed amount discount for whole cart]** regola di prezzo, se applicata con **[!UICONTROL Apply to shipping amount]** regola, ora è distribuito proporzionalmente come previsto tra i prodotti e gli importi di spedizione. In precedenza, i calcoli degli sconti non erano corretti.

<!-- ACP2E-1300 -->

* Il **[!UICONTROL Discard Subsequent Rules]** L&#39;impostazione viene ora applicata come previsto. Quando questa impostazione è abilitata, altre regole con priorità bassa possono essere applicate solo a un prodotto diverso. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### Rapporti

<!-- ACP2E-1541 -->

* Rapporto Ordini (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) ora include i valori dell&#39;ordine corretti quando gli ordini vengono generati da negozi che utilizzano valute non predefinite. In precedenza, questo rapporto includeva valori errati. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Le informazioni fuorvianti nel modulo di report degli ordini di vendita sono state riviste per maggiore chiarezza.

<!-- ACP2E-1435 -->

* Gli utenti amministratori ora possono cercare record con e-mail che contengono  `+` (segno più) dalla pagina Rapporto Carrelli abbandonati. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* I nomi delle transazioni GraphQL ora vengono visualizzati correttamente dopo la disabilitazione di New Relic da Commerce Admin. [GitHub-36112](https://github.com/magento/magento2/issues/36112)

### Premi

<!-- ACP2E-1473 -->

* La notifica e-mail di aggiornamento del saldo dei punti premio ora tiene conto del contesto dello store corrente. In precedenza, l’e-mail di aggiornamento del saldo dei punti premio utilizzava le impostazioni di configurazione per l’archivio predefinito.

<!-- ACP2E-1329 -->

* I punti premio possono ora essere rimborsati dopo la creazione di una nota di credito. In precedenza, i commercianti non potevano rimborsare i punti premio dopo aver creato una nota di credito e lo stato dell&#39;ordine rimaneva `Completed`, non `Closed`.

### RMA

<!-- ACP2E-1230 -->

* Il **[!UICONTROL Enable RMA]** a livello di singolo prodotto rispetta ora la configurazione delle impostazioni RMA dell’archivio. In precedenza, questa impostazione veniva disattivata per impostazione predefinita quando si aggiungeva un prodotto, indipendentemente dalle impostazioni di configurazione dell’archivio.

### Ricerca {#search-heading}

<!-- ACP2E-1870 -->

* Il prezzo di ricerca avanzato e i filtri SKU ora funzionano correttamente se applicati insieme in una ricerca avanzata. [GitHub-37581](https://github.com/magento/magento2/issues/37581)

<!-- ACP2E-1787 -->

* Non vengono più eseguite ricerche per campi di ricerca vuoti. Questo riduce le dimensioni del `search_query` tabella. In precedenza, le query non corrette o le query su campi di ricerca vuoti restituivano un set di dati enorme, che aumentava le dimensioni del campo `search_query` e ha causato problemi con `/tmp`.

<!-- ACP2E-1916 -->

* I filtri storefront ora funzionano come previsto quando si ordinano le voci di catalogo con attributi personalizzati a discesa.

<!-- ACP2E-1499 -->

* I risultati della ricerca ora visualizzano i risultati rilevanti in base al peso della ricerca degli attributi come previsto.

<!-- AC-7505 -->

* Testo informativo sotto `Search Weight` dell&#39;attributo `Storefront Properties` campo di input in Amministratore **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** descrive ora i valori possibili. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Spedizione

<!-- ACP2E-2044 -->

* Il `cart` query ora restituisce sconti di spedizione discreti come sconti di spedizione separati con etichette di sconto univoche. Il nuovo `applied_to` la proprietà sconto supporta la differenziazione tra gli sconti applicati a un articolo del carrello. In precedenza, tutti gli sconti sulla spedizione venivano combinati in un unico codice fisso **[!UICONTROL Shipping Discount]** valore.

<!-- ACP2E-1826 -->

* Quando un utente amministratore crea un riordino, gli indirizzi di fatturazione e spedizione dell’ordine iniziale compilano automaticamente i campi pertinenti quando l’utente amministratore fa clic sul pulsante **[!UICONTROL Reorder]** (Admin **[!UICONTROL Sales]** > **[!UICONTROL Orders]** > **[!UICONTROL View]** ). Se gli stessi indirizzi vengono salvati nella rubrica del cliente, il nuovo ordine includerà sempre una versione aggiornata di tali indirizzi. In precedenza, il campo dell’indirizzo di spedizione era precompilato con i dati aggiornati, ma il campo dell’indirizzo di fatturazione non lo era.

<!-- AC-7003 -->

* Il **[!UICONTROL Shipping Policy]** è ora visibile nell’ambito di visualizzazione dell’archivio di amministrazione quando  **[!UICONTROL Apply custom Shipping Policy]** è abilitato ed è disponibile una polizza di spedizione personalizzata. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* Il `cart` query ora restituisce un `selected_shipping_method` valore corrispondente a uno dei `available_shipping_methods` codici vettore e metodo. In precedenza, quando uno dei metodi di spedizione selezionati conteneva un carattere di sottolineatura, questi codici vettore/metodo non corrispondevano. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* Il `setShippingAddressesOnCart` la mutazione non genera più un errore quando il secondo valore nella matrice stradale è nullo. In precedenza, veniva generata questa eccezione: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)


### Sitemap

<!-- AC-2465 -->

* La mappa del sito XML ora funziona come previsto in una distribuzione multistorio. In precedenza, le sitemap non contenevano le pagine predefinite assegnate per ciascun archivio. [GitHub-35001](https://github.com/magento/magento2/issues/35001)

<!-- AC-2267 -->

* I commercianti possono ora creare e salvare un prodotto quando il sito Web `id != 1` e la modalità di archiviazione singola è abilitata. In precedenza, l’azione di salvataggio non riusciva con questo messaggio: `SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails`. [GitHub-35009](https://github.com/magento/magento2/issues/35009)

### Staging

<!-- ACP2E-1923 -->

* I valori delle etichette delle viste del Negozio non vengono più cancellati dopo un aggiornamento pianificato per le regole di prezzo del carrello. In precedenza, queste etichette venivano cancellate anche se non erano specificate nell&#39;aggiornamento.

<!-- ACP2E-1803 -->

* Le anteprime di staging del contenuto ora funzionano correttamente per le pagine collegate. In precedenza, non era possibile passare alle pagine collegate nell’anteprima di staging, ma venivano indirizzate in modo errato alle pagine di vetrina.

<!-- ACP2E-1876 -->

* Сla modifica di un aggiornamento della gestione temporanea non comporta più la rimozione degli aggiornamenti pianificati assegnati a una data successiva.

<!-- ACP2E-1501 -->

* Gli errori JavaScript non si verificano più quando si aggiungono o si modificano aggiornamenti pianificati per le categorie quando è abilitata l’opzione Google Analytics esperimenti di contenuto.

<!-- ACP2E-1344 -->

* Gli esercenti possono ora salvare correttamente un aggiornamento della pianificazione esistente per una categoria dopo averlo visualizzato o modificato. In precedenza, Adobe Commerce generava un errore in `system.log`.

<!-- ACP2E-1596 -->

* I collegamenti scaricabili ora vengono mantenuti come previsto quando viene applicato un aggiornamento pianificato mentre i prodotti aggiunti in precedenza si trovano nel carrello. In precedenza, i collegamenti scaricabili scomparivano dalla pagina Il mio account (I miei prodotti scaricabili) del cliente e dalla pagina di visualizzazione dell’ordine di amministrazione.

<!-- ACP2E-1458 -->

* I prodotti ora sono visibili sulla vetrina come previsto dopo un aggiornamento di staging che consente di applicare il prodotto. In precedenza, il prodotto era abilitato nell’amministratore ma non era visibile nella categoria vetrina quando la modalità indicizzatore dell’inventario del catalogo era impostata su Aggiorna secondo pianificazione. Il problema è stato risolto tramite reindicizzazione completa.

<!-- ACP2E-1647 -->

* Il `staging.synchronize_entity_period` coda del consumatore nella `magento_bulk` la tabella non aumenta più quando non sono presenti aggiornamenti di staging da elaborare. Precedentemente, quando `cron` è stato configurato per l&#39;esecuzione ogni minuto, un nuovo record relativo al `staging.synchronize_entity_period` consumer aggiunto alla tabella ogni minuto.

<!-- ACP2E-1415 -->

* Adobe Commerce non genera più un errore SQL quando si crea una modifica della pianificazione per un prodotto durante il salvataggio di un altro prodotto.  In precedenza, Adobe Commerce visualizzava questo errore:  `The product with the SKU "%1" couldn't be added to the current update`.

### Regole di destinazione

<!-- ACP2E-1438 -->

* Le regole di Target ora funzionano correttamente con diverse visualizzazioni archivio. In precedenza, i problemi con la cache delle regole dei prodotti correlati impedivano la visualizzazione dei prodotti consigliati nelle distribuzioni multi-store.

### Imposta

<!-- ACP2E-1527 -->

* È ora possibile modificare il valore di Paese e area aliquota dalla pagina di modifica Regola imposta come previsto. In precedenza, le modifiche apportate da quella pagina non venivano salvate.

<!-- ACP2E-1143 -->

* L’importo dell’imposta nell’area di stima del carrello viene ora aggiornato come previsto quando viene aggiornato il metodo di spedizione. In precedenza, l&#39;aliquota non veniva aggiornata dopo che un acquirente aveva cambiato paese durante il check-out.

<!-- AC-8227 -->

* Il `tax class` Il valore per i prodotti semplici appena creati ora viene impostato sul valore del prodotto principale durante la creazione di nuove varianti di un prodotto configurabile esistente nell’ambito della visualizzazione store. In precedenza, questo valore era impostato su none. Di conseguenza, a questi prodotti nel carrello non veniva aggiunta alcuna imposta e i clienti venivano tassati in difetto. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Test

<!-- ACP2E-2202 -->

* Refactoring `Magento\GraphQl\Catalog\ProductSearchTest::testFilterProductsBySingleCategoryId` test per gestire l’ordine casuale delle categorie in `products` risposte alle query.

<!-- AC-7098 -->

* Problemi di prestazioni con array di grandi dimensioni in `TableNameSniff` sono stati risolti.

<!-- ACP2E-1690 -->

* I test di integrazione per la funzionalità di modifica del registro regali non si basano più sugli ID entità esistenti. Tutti i dati richiesti vengono ora ottenuti tramite gli staffaggi. Precedentemente, `\Magento\GiftRegistry\Controller\Index\EditPostTest` non riuscito.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` ora tiene conto dell’ora legale.

<!-- ACP2E-1824 -->

* È stato corretto un avviso di obsolescenza per `StorefrontDeleteItemFromRequisitionListPrintView`.

### UI

<!-- AC-8823 -->

* Le password vengono ora visualizzate come previsto quando **[!UICONTROL Show Password]** la casella di controllo nella pagina di accesso è attiva. Questo era un problema noto per la versione 2.4.7-beta1.

<!-- ACP2E-2034 -->

* Adobe Commerce ora visualizza i prezzi corretti per i prodotti in bundle fisso con prezzi speciali. Questo era un problema noto per la versione 2.4.7-beta1.

<!-- AC-8285 -->

* È stato aggiornato il collegamento alla pagina di elenco dei problemi GitHub nel file del modello di piè di pagina storefront. [GitHub-37214](https://github.com/magento/magento2/issues/37214)

<!-- AC-6282 -->

* Il widget Visualizzato di recente ora visualizza l&#39;importo corretto dell&#39;imposta nei prezzi dei prodotti raggruppati. [GitHub-35881](https://github.com/magento/magento2/issues/35881)

<!-- AC-6636 -->

* Ora gli utenti amministratori possono trascinare e rilasciare le opzioni personalizzabili create per il prodotto semplice come previsto. [GitHub-36051](https://github.com/magento/magento2/issues/36051)

<!-- AC-8345 -->

* L’ordine dei tipi di attributi a discesa del prodotto ora corrisponde all’ordine delle immagini nella pagina del prodotto configurabile. [GitHub-37285](https://github.com/magento/magento2/issues/37285)

<!-- ACP2E-1969 -->

* I messaggi di sistema ora vengono caricati più rapidamente. Solo i messaggi visualizzati vengono caricati. In precedenza, tutti i messaggi venivano caricati dal database, operazione che richiedeva molto tempo.

<!-- ACP2E-1804 -->

* Rimozione del nodo delle breadcrumb tramite l’impostazione `remove=true` tramite l’XML di layout non si verifica più la rimozione del titolo della pagina nella pagina della categoria. In precedenza, rimuovendo le breadcrumb, veniva rimosso il titolo della pagina dalla pagina della categoria.

<!-- ACP2E-1717 -->

* Il modulo di registrazione cliente ora viene caricato come previsto quando include più attributi cliente selezionati. Precedentemente, Adobe Commerce generava questa eccezione: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* I messaggi di benvenuto contenenti virgolette singole vengono ora visualizzati correttamente nella vetrina senza errori della console. In precedenza, se un messaggio di benvenuto conteneva una virgoletta singola, il messaggio di benvenuto non veniva caricato durante il rendering nella vetrina. Adobe Commerce ha inoltre visualizzato errori della console.

<!-- ACP2E-1369 -->

* Adobe Commerce non genera più un errore quando si tenta di modificare rapidamente la visualizzazione tra la cronologia dei commenti e Restituisce nella pagina Ordine amministratore. In precedenza, Adobe Commerce visualizzava questo errore generico: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Gli utenti amministratori con privilegi limitati a un sito web ora possono aggiornare gli attributi di prodotto specifici di un sito web impostati su un `all stores view` ambito.

<!-- ACP2E-1648 -->

* Il widget Lente ora viene caricato come previsto nella pagina del prodotto.

<!-- ACP2E-1216 -->

* Le opzioni personalizzabili su più righe vengono ora visualizzate correttamente nei documenti PDF di fatture, spedizioni e note di accredito. In precedenza, il testo su più righe era preceduto da un’interruzione di pagina imprevista e, se il testo superava la pagina, veniva troncato.

<!-- AC-7402 -->

* Gli utenti amministratore possono ora aggiungere un nuovo indirizzo cliente dall’amministratore quando quel cliente è stato creato per un altro sito web il cui ID store non corrisponde all’ID sito web. In precedenza, Adobe Commerce visualizzava questo messaggio a comparsa: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* I dettagli dell’amministratore della società ora vengono salvati come previsto e gli amministratori vengono reindirizzati correttamente, quando le e-mail di assegnazione dell’amministratore della società contengono un `CMS Block URL` variabile.

<!-- ACP2E-1775 -->

* I messaggi di errore associati all’invio di commenti nella pagina dei dettagli dell’ordine ora sono più informativi. In precedenza, quando un acquirente faceva clic su **[!UICONTROL Submit comment]** senza modificare lo stato dell’ordine o immettere testo nell’area dei commenti, Adobe Commerce ha visualizzato questo messaggio: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* L’icona del calendario ora viene visualizzata come previsto nei campi dell’intervallo di date in Admin **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** dopo aver selezionato una data per un campo. In precedenza, dopo aver selezionato una data per un campo, l’icona del calendario non veniva più visualizzata sugli altri campi e Adobe Commerce visualizzava il testo segnaposto. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* I moduli di registrazione cliente che includono campi a selezione multipla ora vengono caricati correttamente. In precedenza, il modulo non veniva caricato se conteneva campi a selezione multipla e veniva attivato il seguente errore:  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Facendo clic sulla miniatura di un video nella modalità a schermo intero della galleria dei prodotti, ora il video viene visualizzato come previsto. In precedenza, il video non veniva visualizzato e la console del browser mostrava un errore JavaScript. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* Alla riga del copyright è stata aggiunta una variabile che viene aggiornata automaticamente ogni anno. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* Il cursore immagine sulla pagina del prodotto ora funziona come previsto nella visualizzazione per dispositivi mobili. In precedenza, veniva visualizzata correttamente solo la prima immagine. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### Riscritture URL

<!-- AC-6728 -->

* Le riscritture dell’URL del prodotto della categoria vengono ora generate come previsto per tutte le visualizzazioni dello store quando un prodotto viene aggiunto a una categoria. [GitHub-32910](https://github.com/magento/magento2/issues/32910)

<!-- ACP2E-1783 -->

* Commerce non genera più un errore quando si tenta di creare un reindirizzamento 301/302 per un URL di prodotto quando **Genera riscritture URL categoria/prodotto** è abilitato. Quando un prodotto viene creato e assegnato a una categoria, vengono create riscritture URL automatizzate: una per l’URL diretto e una per il prodotto attraverso il percorso della categoria. Quando viene creata una nuova riscrittura dell’URL di un prodotto, vengono verificate le correlazioni tra prodotto, categoria e archivio. Questo controllo è ora basato sulle proprietà di entità correlate (categoria e prodotto). In precedenza, questo controllo veniva eseguito su riscritture URL preesistenti.

<!-- ACP2E-1737 -->

* Le riscritture degli URL delle categorie vengono ora generate per tutte le visualizzazioni dello store quando si importa una nuova categoria da un file CSV.

<!-- ACP2E-1700 -->

* Le configurazioni del suffisso URL del prodotto e del suffisso URL della categoria ora corrispondono ai suffissi presenti nella `url_rewrite` tabella. In precedenza, si verificavano race condition durante l’aggiornamento delle configurazioni del suffisso URL, e i suffissi URL configurati e il `url_rewrite` tabella non corrispondente.

<!-- ACP2E-1703 -->

* Adobe Commerce ora esegue il rendering della struttura delle categorie a tutti i livelli durante la creazione delle riscritture degli URL delle categorie. In precedenza venivano visualizzati solo i primi tre livelli di categorie. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* Le nuove pagine CMS create con un nodo figlio sono ora incluse nella griglia del filtro di marketing (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**). In precedenza, le riscritture URL non venivano create per tali pagine CMS.

<!-- ACP2E-1737 -->

* Le riscritture degli URL delle categorie sono ora presenti nel file CSV durante l’importazione di una nuova categoria.

<!-- ACP2E-1668 -->

* Le pagine CMS multi-store senza riscritture URL ora vengono inoltrate come previsto. In precedenza, le pagine CMS multi-store richieste senza riscritture URL venivano reindirizzate alla home page del negozio, ma le pagine CMS originali non venivano indirizzate.

### Visual Merchandiser

<!-- ACP2E-1363 -->

* Ora puoi utilizzare la `Categories` per le regole di Visual Merchandiser. Precedentemente, Adobe Commerce generava questa eccezione:  `Something went wrong while saving the category`.

### Framework API web

<!-- ACP2E-2053 -->

* Le operazioni REST API in blocco asincrone per aggiornare i prodotti con prezzi di livello e set di attributi diversi ora vengono completate correttamente. In precedenza, i prodotti con set di attributi diversi non potevano essere aggiornati in questo modo e Commerce visualizzava questo errore: `The product was unable to be saved. Please try again`.

<!-- AC-7002 -->

* Il `POST /V1/products/tier-prices` l’endpoint ora restituisce un messaggio di errore più informativo quando si utilizza un nome di gruppo di clienti non valido durante la creazione del prezzo di livello. In precedenza, Adobe Commerce restituiva un errore simile al seguente: `Notice: Undefined index: XXXXX in ~/public_html/vendor/magento/module-catalog/Model/Product/Price/Validation/TierPriceValidator.php on line 474"`. [GitHub-36431](https://github.com/magento/magento2/issues/36431)

<!-- ACP2E-1776 -->

* Ora puoi eseguire una richiesta API in blocco asincrona autorizzata per creare clienti con un ID gruppo non predefinito. In precedenza, queste richieste reimpostavano l’ID gruppo sul valore predefinito.

<!-- ACP2E-1543 -->

* I clienti creati utilizzando l’API in blocco ora ricevono le e-mail di registrazione del cliente nella lingua configurata nel sito web assegnato.  In precedenza, tutte le e-mail venivano inviate alla lingua predefinita, non a quella del sito web a cui il cliente è assegnato.

<!-- ACP2E-1339 AC-7577-->

* Il `POST V1/guest-carts` la chiamata non invia più gli ordini degli ospiti quando **[!UICONTROL Allow Guest Checkout]** è disabilitato.

<!-- ACP2E-1336 -->

* Ora puoi aprire un ordine dall’Amministratore con lo stato `Received` quando `AsyncOrder` non è abilitato. In precedenza, non era possibile aprire la pagina dei dettagli dell’ordine dall’amministratore quando lo stato dell’ordine era stato modificato da `POST V1/orders`.

<!-- ACP2E-1526 -->

* Adobe Commerce ora restituisce correttamente il `content` (codice immagine base64) in `GET V1/products/sku/media` risposte API di product media. Il `content` L&#39;attributo non è stato precedentemente visualizzato nella risposta.

### Lista dei desideri

<!-- ACP2E-1784 -->

* Commerce ora visualizza un messaggio che indica che un elemento è già stato aggiunto a una lista dei desideri quando un acquirente tenta di aggiungere più volte lo stesso elemento a una lista dei desideri. In precedenza, in queste condizioni, Commerce ha aumentato la quantità di prodotto nella lista dei desideri.

<!-- AC-8610 -->

* Adobe Commerce ora aggiunge alla lista dei desideri i prodotti con i file di opzioni personalizzabili caricati necessari. In precedenza, Commerce aggiungeva due prodotti alla lista dei desideri, non uno. [GitHub-37437](https://github.com/magento/magento2/issues/37437)

## Problemi noti

In Adobe Commerce 2.4.7-beta3 verranno risolti i seguenti problemi noti:

**Problema**: un prodotto non viene rimosso come previsto dal mini carrello dopo che il catalogo condiviso ad esso assegnato è stato rimosso dal prodotto. Questo problema era noto per la versione 2.4.7-beta1 e la sua risoluzione è pianificata per la versione 2.4.7-beta3. <!-- AC-8935 -->

## Requisiti di sistema

Il nostro stack tecnologico è basato su PHP e MySQL. Per ulteriori informazioni, consulta [Requisiti di sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Istruzioni di installazione e aggiornamento

È possibile installare Adobe Commerce 2.4.7-beta2 utilizzando [Compositore](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
