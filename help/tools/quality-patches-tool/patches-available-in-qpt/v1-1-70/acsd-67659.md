---
title: 'ACSD-67659: i messaggi di errore tradotti restituiscono un codice di errore NON DEFINITO'
description: Applica la patch ACSD-67659 per risolvere il problema Adobe Commerce in cui il messaggio di eccezione tradotto viene utilizzato per mappare il codice di errore per  [!DNL GraphQL] richieste, causando la restituzione di un codice di errore NON DEFINITO invece di quello corretto.
feature: GraphQL
role: Admin, Developer
type: Troubleshooting
source-git-commit: 7c42b69524bfae5fcd606596f6737a204bae39cc
workflow-type: tm+mt
source-wordcount: '363'
ht-degree: 0%

---


# ACSD-67659: i messaggi di errore tradotti restituiscono un codice di errore *UNDEFINED*

La patch ACSD-67659 risolve il problema relativo all&#39;utilizzo del messaggio di eccezione tradotto per mappare il codice di errore per le richieste [!DNL GraphQL], causando la restituzione di un codice di errore *UNDEFINED* invece di quello corretto. Questa patch è disponibile quando è installato [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.70. L’ID della patch è ACSD-67659. Questo problema è pianificato per la risoluzione in Adobe Commerce 2.4.9.

## Prodotti e versioni interessati

**La patch è stata creata per la versione di Adobe Commerce:**

* Adobe Commerce (tutti i metodi di implementazione) 2.4.8-p2

**Compatibile con le versioni di Adobe Commerce:**

* Adobe Commerce (tutti i metodi di implementazione) 2.4.8 - 2.4.8-p2

>[!NOTE]
>
>La patch potrebbe diventare applicabile ad altre versioni con le nuove versioni di [!DNL Quality Patches Tool]. Per verificare se la patch è compatibile con la versione di Adobe Commerce in uso, aggiornare il pacchetto `magento/quality-patches` alla versione più recente e verificare la compatibilità nella pagina [[!DNL Quality Patches Tool]: Cerca patch](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html). Utilizza l’ID patch come parola chiave di ricerca per individuare la patch.

## Problema

Il messaggio di eccezione tradotto viene utilizzato per mappare il codice di errore per [!DNL GraphQL] richieste, causando errori noti che restituiscono un codice di errore *NON DEFINITO* invece di quello corretto.

<u>Passaggi da riprodurre</u>:

1. Aggiungi il file `app/i18n/Magento/de_DE/de_DE.csv` con una traduzione per la stringa di errore, ad esempio:

   ```
   "Could not find a cart with ID ""%masked_cart_id""","we have an
   UNDEFINED issue",module,Magento_QuoteGraphQl
   ```

2. Nel pannello di amministrazione, passa a **[!UICONTROL Stores]** > **[!UICONTROL Settings]** > **[!UICONTROL All Stores]** > **[!UICONTROL Create Store View]** per creare una visualizzazione archivio.
3. Imposta **[!UICONTROL Code]** su *test*.
4. Assegna la lingua `german` alla visualizzazione dello store appena creata.
5. Eseguire i comandi `setup:upgrade` e `setup:static-content:deploy -f`.
6. Eseguire la seguente query GraphQL con intestazione `Store:test`:

   ```
   mutation {
       placeOrder(input: { cart_id: "test" }) {
           orderV2 {
               id
               number
           }
       }
   }
   ```

<u>Risultati previsti</u>:

La risposta di errore restituisce il codice di errore corretto:

```
{
    "errors": [
        {
            "message": "we have an UNDEFINED issue",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "CART_NOT_FOUND"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

<u>Risultati effettivi</u>:

`error_code` restituito è *NON DEFINITO*:

```
{
    "errors": [
        {
            "message": "Oh noo, we have an UNDEFINED issue, see!",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "UNDEFINED"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

## Applicare la patch

Per applicare singole patch, utilizzare i collegamenti seguenti, a seconda del metodo di distribuzione utilizzato:

* Adobe Commerce o Magento Open Source on-premise: [[!DNL Quality Patches Tool] > Utilizzo](/help/tools/quality-patches-tool/usage.md) nella guida di [!DNL Quality Patches Tool].
* Adobe Commerce su infrastruttura cloud: [Aggiornamenti e patch > Applica patch](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html) nella guida Commerce su infrastruttura cloud.

## Lettura correlata

Per ulteriori informazioni su [!DNL Quality Patches Tool], vedere:

* [[!DNL Quality Patches Tool]: strumento self-service per patch di qualità](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) nella guida degli strumenti.
